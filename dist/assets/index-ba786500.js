var Zl=Object.defineProperty;var Yl=(e,a,i)=>a in e?Zl(e,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[a]=i;var En=(e,a,i)=>(Yl(e,typeof a!="symbol"?a+"":a,i),i);import{d as Ta,S as Xl,a as Jl,b as Ql,c as es,e as ts,f as ns,g as Uo,h as is,i as rs,j as os,k as as,l as ls,m as ss,n as us,o as cs,p as fe,r as te,q as br,s as bo,t as we,u as ds,v as fs,w as wt,x as jt,y as V,z as hs,A as vs,B as Kr,C as Ke,D as je,E as _r,F as Tt,G as _o,H as Hn,I as un,N as Pt,T as wo,J as ue,K as Ce,L as xe,M as pe,O as Tn,P as lr,Q as Qe,R as kt,U as vn,V as Le,W as Ra,X as ps,Y as Ti,Z as yt,_ as Oi,$ as rn,a0 as ms,a1 as Bt,a2 as Ri,a3 as gs,a4 as Aa,a5 as hn,a6 as dn,a7 as Ai,a8 as ys,a9 as Kn,aa as bs,ab as _s,ac as nr,ad as wr,ae as Te,af as ws,ag as ks,ah as Pa,ai as ko,aj as xs,ak as pn,al as Cs,am as Ss,an as Os,ao as Es,ap as xo,aq as Ts,ar as Yn,as as Ma,at as st,au as Rs,av as As,aw as Ps,ax as La,ay as Ho,az as Pi,aA as Ms,aB as Na,aC as Ia,aD as Ls,aE as oo,aF as Ns,aG as Is,aH as $s,aI as De,aJ as Vo,aK as js,aL as Bs,aM as Ds,aN as zs,aO as Fs,aP as sr,aQ as qs,aR as An,aS as Us,aT as Hs,aU as Vs,aV as Ws,aW as Je,aX as Gs,aY as Re,aZ as Wo,a_ as Zr,a$ as Yr,b0 as ao,b1 as Ks,b2 as Zs,b3 as $a,b4 as ja,b5 as Ys,b6 as Ba,b7 as cn,b8 as Xs,b9 as Js,ba as Go,bb as Da,bc as za,bd as Qs,be as eu,bf as Ko,bg as Zo,bh as tu,bi as nu,bj as Yo,bk as iu,bl as Xo,bm as ru,bn as ou,bo as au,bp as lu,bq as su,br as nt,bs as T,bt as ct,bu as Nt,bv as mn,bw as uu,bx as Mi,by as cu,bz as du,bA as fu,bB as hu,bC as vu,bD as pu,bE as mu,bF as Pn,bG as Fa,bH as Ne,bI as X,bJ as ie,bK as N,bL as P,bM as bt,bN as de,bO as _e,bP as F,bQ as Me,bR as rt,bS as ur,bT as Ge,bU as Li,bV as cr,bW as ye,bX as Xr,bY as Zn,bZ as gu,b_ as Co,b$ as $i,c0 as at,c1 as qt,c2 as yu,c3 as lo,c4 as bu,c5 as _u,c6 as wu,c7 as ku,c8 as _t,c9 as So,ca as qa,cb as dr,cc as Wn,cd as xu,ce as kr,cf as Cu,cg as Su,ch as ki,ci as $t,cj as Ou,ck as Oo,cl as Eu,cm as Tu,cn as Ru,co as Au,cp as Pu,cq as Mu,cr as Lu,cs as Nu,ct as Iu,cu as $u,cv as ju,cw as Bu,cx as Jo,cy as Du,cz as zu,cA as Fu,cB as qu,cC as Uu,cD as Hu,cE as Vu,cF as Wu,cG as Gu,cH as Ku,cI as ji,cJ as gn,cK as Zu,cL as Yu,cM as Ua,cN as Eo,cO as Ha,cP as Xu,cQ as Ju,cR as Qu,cS as ec,cT as tc,cU as nc,cV as ic,cW as rc,cX as oc,cY as ac,cZ as lc,c_ as sc,c$ as uc,d0 as cc,d1 as dc,d2 as fc}from"./index-8d305a84.js";import{S as hc,a as vc,b as Va}from"./AvatarCropper-1987087f.js";import{F as pc,r as mc,s as gc,N as Wa,a as yc}from"./DatePicker-7446a121.js";import{V as bc}from"./VirtualList-0388670a.js";import{P as _c}from"./Peoples-37b34970.js";import{d as wc,c as kc,g as xc}from"./functions-9be2054c.js";import{u as To}from"./useInject-58e6e07a.js";import{u as Cc}from"./useUtil-50c48c7c.js";import{N as ir,a as Sc}from"./Checkbox-f0418712.js";import{N as Ut,a as Ve}from"./FormItem-742d2080.js";import{e as Oc}from"./emojis-0ead063f.js";import{U as Ec}from"./UploadOne-235eef33.js";import{I as xr,P as Tc}from"./Plus-9d1366a5.js";import{A as so,N as Ro,a as fr,b as Qo}from"./Tabs-c78031bf.js";import{t as Rc,N as Ga,a as Vn,D as Ac,d as Pc,b as Mc}from"./Image-503320aa.js";import{N as uo}from"./Scrollbar-97004e60.js";import{N as rr,a as Dn,G as Lc,b as Nc}from"./GroupPanel-7cf07086.js";import{u as Ic}from"./useEventBus-2e9c55c9.js";import{_ as Cr}from"./no-data-bde0995b.js";import{S as Ka}from"./Search-6c0eed6a.js";import{r as en,S as $c,D as Za}from"./util-4b2be36e.js";import{C as Ya}from"./Close-e5fa65a5.js";import{L as Ao}from"./Loading-1aa29ebc.js";import{f as jc}from"./strings-8042df5b.js";import{N as Xa}from"./Progress-4e1b0ee7.js";import{N as Bc}from"./Switch-42f61b41.js";import{A as Dc,N as Ja}from"./AddOne-2b277f35.js";import{R as zc}from"./Remind-35ad5d70.js";import"./CheckSmall-880f6223.js";const Fc=window.$message;function qc(e,a,i){const t=Math.ceil(e.size/i),n=[];for(let h=0;h<t;h++){const o=h*i,l=Math.min(e.size,o+i),s=new FormData;s.append("file",e.slice(o,l)),s.append("upload_id",a),s.append("split_index",`${h+1}`),s.append("split_num",`${t}`),n.push(s)}return n}const Po=Ta("uploads",{state:()=>({isShow:!1,items:[]}),getters:{successCount:e=>e.items.filter(a=>a.status===2).length},actions:{close(){this.isShow=!1},initUploadFile(e,a,i,t,n){hc({file_name:e.name,file_size:e.size,cover:n}).then(h=>{if(h.code==200){const{upload_id:o,split_size:l}=h.data;this.items.unshift({file:e,talk_type:a,receiver_id:i,upload_id:o,uploadIndex:0,percentage:0,status:0,files:qc(e,o,l),avatar:"",username:t}),this.triggerUpload(o),this.isShow=!0}else Fc.error(h.message)})},findItem(e){return this.items.find(a=>a.upload_id===e)},triggerUpload(e){const a=this.findItem(e),i=a.files[a.uploadIndex];a.status=1,vc(i).then(t=>{if(t.code==200)if(a.uploadIndex++,a.uploadIndex===a.files.length)a.status=2,a.percentage=100,this.sendUploadMessage(a);else{const n=a.uploadIndex/a.files.length*100;a.percentage=n.toFixed(1),this.triggerUpload(e)}else a.status=3}).catch(()=>{a.status=3})},sendUploadMessage(e){Xl({upload_id:e.upload_id,receiver_id:e.receiver_id,talk_type:e.talk_type})}}}),yn=Ta("case-detail",{state:()=>({recordTip:"加载中...",informationTip:"加载中...",visible:!1,type:0,informationVisible:!1,informationReload:!1,paymentVisible:!1,detailReload:!1,superviseVisible:!1,closeVisible:!1,refundVisible:!1,orderReload:!1,informationOperateType:"add",detail:{},transferDetail:{},signList:[],orderItems:[],recordList:[],informationList:[]}),getters:{},actions:{setVisible(e){this.visible=e},setInformationVisible(e){this.informationVisible=e},setPaymentVisible(e,a){this.paymentVisible=e,this.type=a},setSuperviseVisible(e){this.superviseVisible=e},setCloseVisible(e){this.closeVisible=e},setRefundVisible(e){this.refundVisible=e},setOrderReload(e){this.orderReload=e},async getDetail(e){const a=await Jl({gid:e});a.code===200&&(this.detail=a.data)},async getTransferDetail(e){const a=await Ql({enterprise_case_id:e});a.code===200&&(this.transferDetail=a.data)},async getSignList(e){const a=await es({code:e});a.code===200&&(this.signList=a.data.records)},async getOrderItems(e){const a=await ts({code:e});a.code===200&&(this.orderItems=a.data.records)},async getRecordList(e){const a=await ns({code:e});a.code===200&&(this.recordList=a.data.records,a.data.records.length===0&&(this.recordTip="暂无数据"))},async getInformationList(e){const a=await Uo(e);a.code===200&&(this.informationList=a.data.records,a.data.records.length===0&&(this.informationTip="暂无数据"))},async getFollowList(e){const a=await Uo({...e,type:2});a.code===200&&(this.informationList=a.data.records,a.data.records.length===0&&(this.informationTip="暂无数据"))},async caseComponentSave(e){const a=await is(e);a.code===200?(this.informationReload=!0,this.informationVisible=!1,window.$message.success("提交成功")):window.$message.error(a.message)},async caseTransferComponentSave(e){const a=await rs(e);a.code===200?(this.informationReload=!0,this.informationVisible=!1,window.$message.success("提交成功")):window.$message.error(a.message)},async caseBalanceOrderSave(e){const a=await os(e);a.code===200?(this.paymentVisible=!1,window.$message.success("提交成功")):window.$message.error(a.message)},async caseSuperviseSave(e){const a=await as(e);a.code===200?(this.visible=!1,this.superviseVisible=!1,this.detailReload=!0,window.$message.success("提交成功")):window.$message.error(a.message)},async caseCloseSave(e){const a=await ls(e);a.code===200?(this.visible=!1,this.closeVisible=!1,this.detailReload=!0,window.$message.success("提交成功")):window.$message.error(a.message)},async caseCaseTransferBack(e){const a=await ss(e);a.code===200?(this.visible=!1,this.detailReload=!0,window.$message.success("提交成功")):window.$message.error(a.message)},async caseCaseRefund(e){const a=await us(e);a.code===200?(this.visible=!1,this.detailReload=!0,window.$message.success("提交成功")):window.$message.error(a.message)}}});function Uc(e){if(typeof e=="number")return{"":e.toString()};const a={};return e.split(/ +/).forEach(i=>{if(i==="")return;const[t,n]=i.split(":");n===void 0?a[""]=t:a[t]=n}),a}function zn(e,a){var i;if(e==null)return;const t=Uc(e);if(a===void 0)return t[""];if(typeof a=="string")return(i=t[a])!==null&&i!==void 0?i:t[""];if(Array.isArray(a)){for(let n=a.length-1;n>=0;--n){const h=a[n];if(h in t)return t[h]}return t[""]}else{let n,h=-1;return Object.keys(t).forEach(o=>{const l=Number(o);!Number.isNaN(l)&&a>=l&&l>=h&&(h=l,n=t[o])}),n}}const Hc={xs:0,s:640,m:1024,l:1280,xl:1536,"2xl":1920};function Vc(e){return`(min-width: ${e}px)`}const xi={};function Wc(e=Hc){if(!cs)return fe(()=>[]);if(typeof window.matchMedia!="function")return fe(()=>[]);const a=te({}),i=Object.keys(e),t=(n,h)=>{n.matches?a.value[h]=!0:a.value[h]=!1};return i.forEach(n=>{const h=e[n];let o,l;xi[h]===void 0?(o=window.matchMedia(Vc(h)),o.addEventListener?o.addEventListener("change",s=>{l.forEach(p=>{p(s,n)})}):o.addListener&&o.addListener(s=>{l.forEach(p=>{p(s,n)})}),l=new Set,xi[h]={mql:o,cbs:l}):(o=xi[h].mql,l=xi[h].cbs),l.add(t),o.matches&&l.forEach(s=>{s(o,n)})}),br(()=>{i.forEach(n=>{const{cbs:h}=xi[e[n]];h.has(t)&&h.delete(t)})}),fe(()=>{const{value:n}=a;return i.filter(h=>n[h])})}let ea=!1;function Qa(){if(bo&&window.CSS&&!ea&&(ea=!0,"registerProperty"in(window==null?void 0:window.CSS)))try{CSS.registerProperty({name:"--n-color-start",syntax:"<color>",inherits:!1,initialValue:"#0000"}),CSS.registerProperty({name:"--n-color-end",syntax:"<color>",inherits:!1,initialValue:"#0000"})}catch{}}const tn="v-hidden",Gc=vs("[v-hidden]",{display:"none!important"}),ta=we({name:"Overflow",props:{getCounter:Function,getTail:Function,updateCounter:Function,onUpdateCount:Function,onUpdateOverflow:Function},setup(e,{slots:a}){const i=te(null),t=te(null);function n(o){const{value:l}=i,{getCounter:s,getTail:p}=e;let f;if(s!==void 0?f=s():f=t.value,!l||!f)return;f.hasAttribute(tn)&&f.removeAttribute(tn);const{children:v}=l;if(o.showAllItemsBeforeCalculate)for(const m of v)m.hasAttribute(tn)&&m.removeAttribute(tn);const u=l.offsetWidth,d=[],_=a.tail?p==null?void 0:p():null;let b=_?_.offsetWidth:0,g=!1;const y=l.children.length-(a.tail?1:0);for(let m=0;m<y-1;++m){if(m<0)continue;const r=v[m];if(g){r.hasAttribute(tn)||r.setAttribute(tn,"");continue}else r.hasAttribute(tn)&&r.removeAttribute(tn);const w=r.offsetWidth;if(b+=w,d[m]=w,b>u){const{updateCounter:O}=e;for(let C=m;C>=0;--C){const L=y-1-C;O!==void 0?O(L):f.textContent=`${L}`;const A=f.offsetWidth;if(b-=d[C],b+A<=u||C===0){g=!0,m=C-1,_&&(m===-1?(_.style.maxWidth=`${u-A}px`,_.style.boxSizing="border-box"):_.style.maxWidth="");const{onUpdateCount:S}=e;S&&S(L);break}}}}const{onUpdateOverflow:c}=e;g?c!==void 0&&c(!0):(c!==void 0&&c(!1),f.setAttribute(tn,""))}const h=ds();return Gc.mount({id:"vueuc/overflow",head:!0,anchorMetaName:fs,ssr:h}),wt(()=>n({showAllItemsBeforeCalculate:!1})),{selfRef:i,counterRef:t,sync:n}},render(){const{$slots:e}=this;return jt(()=>this.sync({showAllItemsBeforeCalculate:!1})),V("div",{class:"v-overflow",ref:"selfRef"},[hs(e,"default"),e.counter?e.counter():V("span",{style:{display:"inline-block"},ref:"counterRef"}),e.tail?e.tail():null])}});function el(e,a){a&&(wt(()=>{const{value:i}=e;i&&Kr.registerHandler(i,a)}),Ke(e,(i,t)=>{t&&Kr.unregisterHandler(t)},{deep:!1}),br(()=>{const{value:i}=e;i&&Kr.unregisterHandler(i)}))}function co(e){switch(typeof e){case"string":return e||void 0;case"number":return String(e);default:return}}function Kc(e){var a;const i=(a=e.dirs)===null||a===void 0?void 0:a.find(({dir:t})=>t===je);return!!(i&&i.value===!1)}function Ei(e){const a=e.filter(i=>i!==void 0);if(a.length!==0)return a.length===1?a[0]:i=>{e.forEach(t=>{t&&t(i)})}}const Zc=we({name:"ArrowDown",render(){return V("svg",{viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},V("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},V("g",{"fill-rule":"nonzero"},V("path",{d:"M23.7916,15.2664 C24.0788,14.9679 24.0696,14.4931 23.7711,14.206 C23.4726,13.9188 22.9978,13.928 22.7106,14.2265 L14.7511,22.5007 L14.7511,3.74792 C14.7511,3.33371 14.4153,2.99792 14.0011,2.99792 C13.5869,2.99792 13.2511,3.33371 13.2511,3.74793 L13.2511,22.4998 L5.29259,14.2265 C5.00543,13.928 4.53064,13.9188 4.23213,14.206 C3.93361,14.4931 3.9244,14.9679 4.21157,15.2664 L13.2809,24.6944 C13.6743,25.1034 14.3289,25.1034 14.7223,24.6944 L23.7916,15.2664 Z"}))))}}),Yc=we({name:"ArrowUp",render(){return V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},V("g",{fill:"none"},V("path",{d:"M3.13 9.163a.5.5 0 1 0 .74.674L9.5 3.67V17.5a.5.5 0 0 0 1 0V3.672l5.63 6.165a.5.5 0 0 0 .738-.674l-6.315-6.916a.746.746 0 0 0-.632-.24a.746.746 0 0 0-.476.24L3.131 9.163z",fill:"currentColor"})))}}),Xc=_r("attach",()=>V("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},V("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},V("g",{fill:"currentColor","fill-rule":"nonzero"},V("path",{d:"M3.25735931,8.70710678 L7.85355339,4.1109127 C8.82986412,3.13460197 10.4127766,3.13460197 11.3890873,4.1109127 C12.365398,5.08722343 12.365398,6.67013588 11.3890873,7.64644661 L6.08578644,12.9497475 C5.69526215,13.3402718 5.06209717,13.3402718 4.67157288,12.9497475 C4.28104858,12.5592232 4.28104858,11.9260582 4.67157288,11.5355339 L9.97487373,6.23223305 C10.1701359,6.0369709 10.1701359,5.72038841 9.97487373,5.52512627 C9.77961159,5.32986412 9.4630291,5.32986412 9.26776695,5.52512627 L3.96446609,10.8284271 C3.18341751,11.6094757 3.18341751,12.8758057 3.96446609,13.6568542 C4.74551468,14.4379028 6.01184464,14.4379028 6.79289322,13.6568542 L12.0961941,8.35355339 C13.4630291,6.98671837 13.4630291,4.77064094 12.0961941,3.40380592 C10.7293591,2.0369709 8.51328163,2.0369709 7.14644661,3.40380592 L2.55025253,8 C2.35499039,8.19526215 2.35499039,8.51184464 2.55025253,8.70710678 C2.74551468,8.90236893 3.06209717,8.90236893 3.25735931,8.70710678 Z"}))))),Jc=_r("cancel",()=>V("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},V("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},V("g",{fill:"currentColor","fill-rule":"nonzero"},V("path",{d:"M2.58859116,2.7156945 L2.64644661,2.64644661 C2.82001296,2.47288026 3.08943736,2.45359511 3.2843055,2.58859116 L3.35355339,2.64644661 L8,7.293 L12.6464466,2.64644661 C12.8417088,2.45118446 13.1582912,2.45118446 13.3535534,2.64644661 C13.5488155,2.84170876 13.5488155,3.15829124 13.3535534,3.35355339 L8.707,8 L13.3535534,12.6464466 C13.5271197,12.820013 13.5464049,13.0894374 13.4114088,13.2843055 L13.3535534,13.3535534 C13.179987,13.5271197 12.9105626,13.5464049 12.7156945,13.4114088 L12.6464466,13.3535534 L8,8.707 L3.35355339,13.3535534 C3.15829124,13.5488155 2.84170876,13.5488155 2.64644661,13.3535534 C2.45118446,13.1582912 2.45118446,12.8417088 2.64644661,12.6464466 L7.293,8 L2.64644661,3.35355339 C2.47288026,3.17998704 2.45359511,2.91056264 2.58859116,2.7156945 L2.64644661,2.64644661 L2.58859116,2.7156945 Z"}))))),Qc=we({name:"Checkmark",render(){return V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},V("g",{fill:"none"},V("path",{d:"M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032z",fill:"currentColor"})))}}),ed=we({name:"Remove",render(){return V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},V("line",{x1:"400",y1:"256",x2:"112",y2:"256",style:`
        fill: none;
        stroke: currentColor;
        stroke-linecap: round;
        stroke-linejoin: round;
        stroke-width: 32px;
      `}))}}),td=_r("retry",()=>V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},V("path",{d:"M320,146s24.36-12-64-12A160,160,0,1,0,416,294",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-miterlimit: 10; stroke-width: 32px;"}),V("polyline",{points:"256 58 336 138 256 218",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),nd=_r("trash",()=>V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},V("path",{d:"M432,144,403.33,419.74A32,32,0,0,1,371.55,448H140.46a32,32,0,0,1-31.78-28.26L80,144",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),V("rect",{x:"32",y:"64",width:"448",height:"80",rx:"16",ry:"16",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),V("line",{x1:"312",y1:"240",x2:"200",y2:"352",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),V("line",{x1:"312",y1:"352",x2:"200",y2:"240",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),na=we({name:"NBaseSelectGroupHeader",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(){const{renderLabelRef:e,renderOptionRef:a,labelFieldRef:i,nodePropsRef:t}=Tt(_o);return{labelField:i,nodeProps:t,renderLabel:e,renderOption:a}},render(){const{clsPrefix:e,renderLabel:a,renderOption:i,nodeProps:t,tmNode:{rawNode:n}}=this,h=t==null?void 0:t(n),o=a?a(n,!1):Hn(n[this.labelField],n,!1),l=V("div",Object.assign({},h,{class:[`${e}-base-select-group-header`,h==null?void 0:h.class]}),o);return n.render?n.render({node:l,option:n}):i?i({node:l,option:n,selected:!1}):l}});function id(e,a){return V(wo,{name:"fade-in-scale-up-transition"},{default:()=>e?V(Pt,{clsPrefix:a,class:`${a}-base-select-option__check`},{default:()=>V(Qc)}):null})}const ia=we({name:"NBaseSelectOption",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(e){const{valueRef:a,pendingTmNodeRef:i,multipleRef:t,valueSetRef:n,renderLabelRef:h,renderOptionRef:o,labelFieldRef:l,valueFieldRef:s,showCheckmarkRef:p,nodePropsRef:f,handleOptionClick:v,handleOptionMouseEnter:u}=Tt(_o),d=un(()=>{const{value:y}=i;return y?e.tmNode.key===y.key:!1});function _(y){const{tmNode:c}=e;c.disabled||v(y,c)}function b(y){const{tmNode:c}=e;c.disabled||u(y,c)}function g(y){const{tmNode:c}=e,{value:m}=d;c.disabled||m||u(y,c)}return{multiple:t,isGrouped:un(()=>{const{tmNode:y}=e,{parent:c}=y;return c&&c.rawNode.type==="group"}),showCheckmark:p,nodeProps:f,isPending:d,isSelected:un(()=>{const{value:y}=a,{value:c}=t;if(y===null)return!1;const m=e.tmNode.rawNode[s.value];if(c){const{value:r}=n;return r.has(m)}else return y===m}),labelField:l,renderLabel:h,renderOption:o,handleMouseMove:g,handleMouseEnter:b,handleClick:_}},render(){const{clsPrefix:e,tmNode:{rawNode:a},isSelected:i,isPending:t,isGrouped:n,showCheckmark:h,nodeProps:o,renderOption:l,renderLabel:s,handleClick:p,handleMouseEnter:f,handleMouseMove:v}=this,u=id(i,e),d=s?[s(a,i),h&&u]:[Hn(a[this.labelField],a,i),h&&u],_=o==null?void 0:o(a),b=V("div",Object.assign({},_,{class:[`${e}-base-select-option`,a.class,_==null?void 0:_.class,{[`${e}-base-select-option--disabled`]:a.disabled,[`${e}-base-select-option--selected`]:i,[`${e}-base-select-option--grouped`]:n,[`${e}-base-select-option--pending`]:t,[`${e}-base-select-option--show-checkmark`]:h}],style:[(_==null?void 0:_.style)||"",a.style||""],onClick:Ei([p,_==null?void 0:_.onClick]),onMouseenter:Ei([f,_==null?void 0:_.onMouseenter]),onMousemove:Ei([v,_==null?void 0:_.onMousemove])}),V("div",{class:`${e}-base-select-option__content`},d));return a.render?a.render({node:b,option:a,selected:i}):l?l({node:b,option:a,selected:i}):b}}),rd=ue("base-select-menu",`
 line-height: 1.5;
 outline: none;
 z-index: 0;
 position: relative;
 border-radius: var(--n-border-radius);
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 background-color: var(--n-color);
`,[ue("scrollbar",`
 max-height: var(--n-height);
 `),ue("virtual-list",`
 max-height: var(--n-height);
 `),ue("base-select-option",`
 min-height: var(--n-option-height);
 font-size: var(--n-option-font-size);
 display: flex;
 align-items: center;
 `,[Ce("content",`
 z-index: 1;
 white-space: nowrap;
 text-overflow: ellipsis;
 overflow: hidden;
 `)]),ue("base-select-group-header",`
 min-height: var(--n-option-height);
 font-size: .93em;
 display: flex;
 align-items: center;
 `),ue("base-select-menu-option-wrapper",`
 position: relative;
 width: 100%;
 `),Ce("loading, empty",`
 display: flex;
 padding: 12px 32px;
 flex: 1;
 justify-content: center;
 `),Ce("loading",`
 color: var(--n-loading-color);
 font-size: var(--n-loading-size);
 `),Ce("header",`
 padding: 8px var(--n-option-padding-left);
 font-size: var(--n-option-font-size);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-action-divider-color);
 color: var(--n-action-text-color);
 `),Ce("action",`
 padding: 8px var(--n-option-padding-left);
 font-size: var(--n-option-font-size);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 border-top: 1px solid var(--n-action-divider-color);
 color: var(--n-action-text-color);
 `),ue("base-select-group-header",`
 position: relative;
 cursor: default;
 padding: var(--n-option-padding);
 color: var(--n-group-header-text-color);
 `),ue("base-select-option",`
 cursor: pointer;
 position: relative;
 padding: var(--n-option-padding);
 transition:
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 box-sizing: border-box;
 color: var(--n-option-text-color);
 opacity: 1;
 `,[xe("show-checkmark",`
 padding-right: calc(var(--n-option-padding-right) + 20px);
 `),pe("&::before",`
 content: "";
 position: absolute;
 left: 4px;
 right: 4px;
 top: 0;
 bottom: 0;
 border-radius: var(--n-border-radius);
 transition: background-color .3s var(--n-bezier);
 `),pe("&:active",`
 color: var(--n-option-text-color-pressed);
 `),xe("grouped",`
 padding-left: calc(var(--n-option-padding-left) * 1.5);
 `),xe("pending",[pe("&::before",`
 background-color: var(--n-option-color-pending);
 `)]),xe("selected",`
 color: var(--n-option-text-color-active);
 `,[pe("&::before",`
 background-color: var(--n-option-color-active);
 `),xe("pending",[pe("&::before",`
 background-color: var(--n-option-color-active-pending);
 `)])]),xe("disabled",`
 cursor: not-allowed;
 `,[Tn("selected",`
 color: var(--n-option-text-color-disabled);
 `),xe("selected",`
 opacity: var(--n-option-opacity-disabled);
 `)]),Ce("check",`
 font-size: 16px;
 position: absolute;
 right: calc(var(--n-option-padding-right) - 4px);
 top: calc(50% - 7px);
 color: var(--n-option-check-color);
 transition: color .3s var(--n-bezier);
 `,[lr({enterScale:"0.5"})])])]),tl=we({name:"InternalSelectMenu",props:Object.assign(Object.assign({},Qe.props),{clsPrefix:{type:String,required:!0},scrollable:{type:Boolean,default:!0},treeMate:{type:Object,required:!0},multiple:Boolean,size:{type:String,default:"medium"},value:{type:[String,Number,Array],default:null},autoPending:Boolean,virtualScroll:{type:Boolean,default:!0},show:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},loading:Boolean,focusable:Boolean,renderLabel:Function,renderOption:Function,nodeProps:Function,showCheckmark:{type:Boolean,default:!0},onMousedown:Function,onScroll:Function,onFocus:Function,onBlur:Function,onKeyup:Function,onKeydown:Function,onTabOut:Function,onMouseenter:Function,onMouseleave:Function,onResize:Function,resetMenuOnOptionsChange:{type:Boolean,default:!0},inlineThemeDisabled:Boolean,onToggle:Function}),setup(e){const{mergedClsPrefixRef:a,mergedRtlRef:i}=kt(e),t=vn("InternalSelectMenu",i,a),n=Qe("InternalSelectMenu","-internal-select-menu",rd,Ra,e,Le(e,"clsPrefix")),h=te(null),o=te(null),l=te(null),s=fe(()=>e.treeMate.getFlattenedNodes()),p=fe(()=>ps(s.value)),f=te(null);function v(){const{treeMate:I}=e;let $=null;const{value:U}=e;U===null?$=I.getFirstAvailableNode():(e.multiple?$=I.getNode((U||[])[(U||[]).length-1]):$=I.getNode(U),(!$||$.disabled)&&($=I.getFirstAvailableNode())),B($||null)}function u(){const{value:I}=f;I&&!e.treeMate.getNode(I.key)&&(f.value=null)}let d;Ke(()=>e.show,I=>{I?d=Ke(()=>e.treeMate,()=>{e.resetMenuOnOptionsChange?(e.autoPending?v():u(),jt(q)):u()},{immediate:!0}):d==null||d()},{immediate:!0}),br(()=>{d==null||d()});const _=fe(()=>Ti(n.value.self[yt("optionHeight",e.size)])),b=fe(()=>Oi(n.value.self[yt("padding",e.size)])),g=fe(()=>e.multiple&&Array.isArray(e.value)?new Set(e.value):new Set),y=fe(()=>{const I=s.value;return I&&I.length===0});function c(I){const{onToggle:$}=e;$&&$(I)}function m(I){const{onScroll:$}=e;$&&$(I)}function r(I){var $;($=l.value)===null||$===void 0||$.sync(),m(I)}function w(){var I;(I=l.value)===null||I===void 0||I.sync()}function O(){const{value:I}=f;return I||null}function C(I,$){$.disabled||B($,!1)}function L(I,$){$.disabled||c($)}function A(I){var $;dn(I,"action")||($=e.onKeyup)===null||$===void 0||$.call(e,I)}function S(I){var $;dn(I,"action")||($=e.onKeydown)===null||$===void 0||$.call(e,I)}function k(I){var $;($=e.onMousedown)===null||$===void 0||$.call(e,I),!e.focusable&&I.preventDefault()}function E(){const{value:I}=f;I&&B(I.getNext({loop:!0}),!0)}function R(){const{value:I}=f;I&&B(I.getPrev({loop:!0}),!0)}function B(I,$=!1){f.value=I,$&&q()}function q(){var I,$;const U=f.value;if(!U)return;const G=p.value(U.key);G!==null&&(e.virtualScroll?(I=o.value)===null||I===void 0||I.scrollTo({index:G}):($=l.value)===null||$===void 0||$.scrollTo({index:G,elSize:_.value}))}function K(I){var $,U;!(($=h.value)===null||$===void 0)&&$.contains(I.target)&&((U=e.onFocus)===null||U===void 0||U.call(e,I))}function W(I){var $,U;!(($=h.value)===null||$===void 0)&&$.contains(I.relatedTarget)||(U=e.onBlur)===null||U===void 0||U.call(e,I)}rn(_o,{handleOptionMouseEnter:C,handleOptionClick:L,valueSetRef:g,pendingTmNodeRef:f,nodePropsRef:Le(e,"nodeProps"),showCheckmarkRef:Le(e,"showCheckmark"),multipleRef:Le(e,"multiple"),valueRef:Le(e,"value"),renderLabelRef:Le(e,"renderLabel"),renderOptionRef:Le(e,"renderOption"),labelFieldRef:Le(e,"labelField"),valueFieldRef:Le(e,"valueField")}),rn(ms,h),wt(()=>{const{value:I}=l;I&&I.sync()});const Q=fe(()=>{const{size:I}=e,{common:{cubicBezierEaseInOut:$},self:{height:U,borderRadius:G,color:j,groupHeaderTextColor:J,actionDividerColor:Y,optionTextColorPressed:ee,optionTextColor:se,optionTextColorDisabled:me,optionTextColorActive:ke,optionOpacityDisabled:Ee,optionCheckColor:Ae,actionTextColor:qe,optionColorPending:tt,optionColorActive:Xe,loadingColor:re,loadingSize:le,optionColorActivePending:ve,[yt("optionFontSize",I)]:ge,[yt("optionHeight",I)]:ce,[yt("optionPadding",I)]:Se}}=n.value;return{"--n-height":U,"--n-action-divider-color":Y,"--n-action-text-color":qe,"--n-bezier":$,"--n-border-radius":G,"--n-color":j,"--n-option-font-size":ge,"--n-group-header-text-color":J,"--n-option-check-color":Ae,"--n-option-color-pending":tt,"--n-option-color-active":Xe,"--n-option-color-active-pending":ve,"--n-option-height":ce,"--n-option-opacity-disabled":Ee,"--n-option-text-color":se,"--n-option-text-color-active":ke,"--n-option-text-color-disabled":me,"--n-option-text-color-pressed":ee,"--n-option-padding":Se,"--n-option-padding-left":Oi(Se,"left"),"--n-option-padding-right":Oi(Se,"right"),"--n-loading-color":re,"--n-loading-size":le}}),{inlineThemeDisabled:H}=e,z=H?Bt("internal-select-menu",fe(()=>e.size[0]),Q,e):void 0,M={selfRef:h,next:E,prev:R,getPendingTmNode:O};return el(h,e.onResize),Object.assign({mergedTheme:n,mergedClsPrefix:a,rtlEnabled:t,virtualListRef:o,scrollbarRef:l,itemSize:_,padding:b,flattenedNodes:s,empty:y,virtualListContainer(){const{value:I}=o;return I==null?void 0:I.listElRef},virtualListContent(){const{value:I}=o;return I==null?void 0:I.itemsElRef},doScroll:m,handleFocusin:K,handleFocusout:W,handleKeyUp:A,handleKeyDown:S,handleMouseDown:k,handleVirtualListResize:w,handleVirtualListScroll:r,cssVars:H?void 0:Q,themeClass:z==null?void 0:z.themeClass,onRender:z==null?void 0:z.onRender},M)},render(){const{$slots:e,virtualScroll:a,clsPrefix:i,mergedTheme:t,themeClass:n,onRender:h}=this;return h==null||h(),V("div",{ref:"selfRef",tabindex:this.focusable?0:-1,class:[`${i}-base-select-menu`,this.rtlEnabled&&`${i}-base-select-menu--rtl`,n,this.multiple&&`${i}-base-select-menu--multiple`],style:this.cssVars,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onKeyup:this.handleKeyUp,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},Ri(e.header,o=>o&&V("div",{class:`${i}-base-select-menu__header`,"data-header":!0,key:"header"},o)),this.loading?V("div",{class:`${i}-base-select-menu__loading`},V(gs,{clsPrefix:i,strokeWidth:20})):this.empty?V("div",{class:`${i}-base-select-menu__empty`,"data-empty":!0},hn(e.empty,()=>[V(Ai,{theme:t.peers.Empty,themeOverrides:t.peerOverrides.Empty,size:this.size})])):V(Aa,{ref:"scrollbarRef",theme:t.peers.Scrollbar,themeOverrides:t.peerOverrides.Scrollbar,scrollable:this.scrollable,container:a?this.virtualListContainer:void 0,content:a?this.virtualListContent:void 0,onScroll:a?void 0:this.doScroll},{default:()=>a?V(bc,{ref:"virtualListRef",class:`${i}-virtual-list`,items:this.flattenedNodes,itemSize:this.itemSize,showScrollbar:!1,paddingTop:this.padding.top,paddingBottom:this.padding.bottom,onResize:this.handleVirtualListResize,onScroll:this.handleVirtualListScroll,itemResizable:!0},{default:({item:o})=>o.isGroup?V(na,{key:o.key,clsPrefix:i,tmNode:o}):o.ignored?null:V(ia,{clsPrefix:i,key:o.key,tmNode:o})}):V("div",{class:`${i}-base-select-menu-option-wrapper`,style:{paddingTop:this.padding.top,paddingBottom:this.padding.bottom}},this.flattenedNodes.map(o=>o.isGroup?V(na,{key:o.key,clsPrefix:i,tmNode:o}):V(ia,{clsPrefix:i,key:o.key,tmNode:o})))}),Ri(e.action,o=>o&&[V("div",{class:`${i}-base-select-menu__action`,"data-action":!0,key:"action"},o),V(pc,{onFocus:this.onTabOut,key:"focus-detector"})]))}}),od=pe([ue("base-selection",`
 --n-padding-single: var(--n-padding-single-top) var(--n-padding-single-right) var(--n-padding-single-bottom) var(--n-padding-single-left);
 --n-padding-multiple: var(--n-padding-multiple-top) var(--n-padding-multiple-right) var(--n-padding-multiple-bottom) var(--n-padding-multiple-left);
 position: relative;
 z-index: auto;
 box-shadow: none;
 width: 100%;
 max-width: 100%;
 display: inline-block;
 vertical-align: bottom;
 border-radius: var(--n-border-radius);
 min-height: var(--n-height);
 line-height: 1.5;
 font-size: var(--n-font-size);
 `,[ue("base-loading",`
 color: var(--n-loading-color);
 `),ue("base-selection-tags","min-height: var(--n-height);"),Ce("border, state-border",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border: var(--n-border);
 border-radius: inherit;
 transition:
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `),Ce("state-border",`
 z-index: 1;
 border-color: #0000;
 `),ue("base-suffix",`
 cursor: pointer;
 position: absolute;
 top: 50%;
 transform: translateY(-50%);
 right: 10px;
 `,[Ce("arrow",`
 font-size: var(--n-arrow-size);
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 `)]),ue("base-selection-overlay",`
 display: flex;
 align-items: center;
 white-space: nowrap;
 pointer-events: none;
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 padding: var(--n-padding-single);
 transition: color .3s var(--n-bezier);
 `,[Ce("wrapper",`
 flex-basis: 0;
 flex-grow: 1;
 overflow: hidden;
 text-overflow: ellipsis;
 `)]),ue("base-selection-placeholder",`
 color: var(--n-placeholder-color);
 `,[Ce("inner",`
 max-width: 100%;
 overflow: hidden;
 `)]),ue("base-selection-tags",`
 cursor: pointer;
 outline: none;
 box-sizing: border-box;
 position: relative;
 z-index: auto;
 display: flex;
 padding: var(--n-padding-multiple);
 flex-wrap: wrap;
 align-items: center;
 width: 100%;
 vertical-align: bottom;
 background-color: var(--n-color);
 border-radius: inherit;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `),ue("base-selection-label",`
 height: var(--n-height);
 display: inline-flex;
 width: 100%;
 vertical-align: bottom;
 cursor: pointer;
 outline: none;
 z-index: auto;
 box-sizing: border-box;
 position: relative;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 border-radius: inherit;
 background-color: var(--n-color);
 align-items: center;
 `,[ue("base-selection-input",`
 font-size: inherit;
 line-height: inherit;
 outline: none;
 cursor: pointer;
 box-sizing: border-box;
 border:none;
 width: 100%;
 padding: var(--n-padding-single);
 background-color: #0000;
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 caret-color: var(--n-caret-color);
 `,[Ce("content",`
 text-overflow: ellipsis;
 overflow: hidden;
 white-space: nowrap; 
 `)]),Ce("render-label",`
 color: var(--n-text-color);
 `)]),Tn("disabled",[pe("&:hover",[Ce("state-border",`
 box-shadow: var(--n-box-shadow-hover);
 border: var(--n-border-hover);
 `)]),xe("focus",[Ce("state-border",`
 box-shadow: var(--n-box-shadow-focus);
 border: var(--n-border-focus);
 `)]),xe("active",[Ce("state-border",`
 box-shadow: var(--n-box-shadow-active);
 border: var(--n-border-active);
 `),ue("base-selection-label","background-color: var(--n-color-active);"),ue("base-selection-tags","background-color: var(--n-color-active);")])]),xe("disabled","cursor: not-allowed;",[Ce("arrow",`
 color: var(--n-arrow-color-disabled);
 `),ue("base-selection-label",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `,[ue("base-selection-input",`
 cursor: not-allowed;
 color: var(--n-text-color-disabled);
 `),Ce("render-label",`
 color: var(--n-text-color-disabled);
 `)]),ue("base-selection-tags",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `),ue("base-selection-placeholder",`
 cursor: not-allowed;
 color: var(--n-placeholder-color-disabled);
 `)]),ue("base-selection-input-tag",`
 height: calc(var(--n-height) - 6px);
 line-height: calc(var(--n-height) - 6px);
 outline: none;
 display: none;
 position: relative;
 margin-bottom: 3px;
 max-width: 100%;
 vertical-align: bottom;
 `,[Ce("input",`
 font-size: inherit;
 font-family: inherit;
 min-width: 1px;
 padding: 0;
 background-color: #0000;
 outline: none;
 border: none;
 max-width: 100%;
 overflow: hidden;
 width: 1em;
 line-height: inherit;
 cursor: pointer;
 color: var(--n-text-color);
 caret-color: var(--n-caret-color);
 `),Ce("mirror",`
 position: absolute;
 left: 0;
 top: 0;
 white-space: pre;
 visibility: hidden;
 user-select: none;
 -webkit-user-select: none;
 opacity: 0;
 `)]),["warning","error"].map(e=>xe(`${e}-status`,[Ce("state-border",`border: var(--n-border-${e});`),Tn("disabled",[pe("&:hover",[Ce("state-border",`
 box-shadow: var(--n-box-shadow-hover-${e});
 border: var(--n-border-hover-${e});
 `)]),xe("active",[Ce("state-border",`
 box-shadow: var(--n-box-shadow-active-${e});
 border: var(--n-border-active-${e});
 `),ue("base-selection-label",`background-color: var(--n-color-active-${e});`),ue("base-selection-tags",`background-color: var(--n-color-active-${e});`)]),xe("focus",[Ce("state-border",`
 box-shadow: var(--n-box-shadow-focus-${e});
 border: var(--n-border-focus-${e});
 `)])])]))]),ue("base-selection-popover",`
 margin-bottom: -3px;
 display: flex;
 flex-wrap: wrap;
 margin-right: -8px;
 `),ue("base-selection-tag-wrapper",`
 max-width: 100%;
 display: inline-flex;
 padding: 0 7px 3px 0;
 `,[pe("&:last-child","padding-right: 0;"),ue("tag",`
 font-size: 14px;
 max-width: 100%;
 `,[Ce("content",`
 line-height: 1.25;
 text-overflow: ellipsis;
 overflow: hidden;
 `)])])]),ad=we({name:"InternalSelection",props:Object.assign(Object.assign({},Qe.props),{clsPrefix:{type:String,required:!0},bordered:{type:Boolean,default:void 0},active:Boolean,pattern:{type:String,default:""},placeholder:String,selectedOption:{type:Object,default:null},selectedOptions:{type:Array,default:null},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},multiple:Boolean,filterable:Boolean,clearable:Boolean,disabled:Boolean,size:{type:String,default:"medium"},loading:Boolean,autofocus:Boolean,showArrow:{type:Boolean,default:!0},inputProps:Object,focused:Boolean,renderTag:Function,onKeydown:Function,onClick:Function,onBlur:Function,onFocus:Function,onDeleteOption:Function,maxTagCount:[String,Number],ellipsisTagPopoverProps:Object,onClear:Function,onPatternInput:Function,onPatternFocus:Function,onPatternBlur:Function,renderLabel:Function,status:String,inlineThemeDisabled:Boolean,ignoreComposition:{type:Boolean,default:!0},onResize:Function}),setup(e){const{mergedClsPrefixRef:a,mergedRtlRef:i}=kt(e),t=vn("InternalSelection",i,a),n=te(null),h=te(null),o=te(null),l=te(null),s=te(null),p=te(null),f=te(null),v=te(null),u=te(null),d=te(null),_=te(!1),b=te(!1),g=te(!1),y=Qe("InternalSelection","-internal-selection",od,ys,e,Le(e,"clsPrefix")),c=fe(()=>e.clearable&&!e.disabled&&(g.value||e.active)),m=fe(()=>e.selectedOption?e.renderTag?e.renderTag({option:e.selectedOption,handleClose:()=>{}}):e.renderLabel?e.renderLabel(e.selectedOption,!0):Hn(e.selectedOption[e.labelField],e.selectedOption,!0):e.placeholder),r=fe(()=>{const oe=e.selectedOption;if(oe)return oe[e.labelField]}),w=fe(()=>e.multiple?!!(Array.isArray(e.selectedOptions)&&e.selectedOptions.length):e.selectedOption!==null);function O(){var oe;const{value:he}=n;if(he){const{value:He}=h;He&&(He.style.width=`${he.offsetWidth}px`,e.maxTagCount!=="responsive"&&((oe=u.value)===null||oe===void 0||oe.sync({showAllItemsBeforeCalculate:!1})))}}function C(){const{value:oe}=d;oe&&(oe.style.display="none")}function L(){const{value:oe}=d;oe&&(oe.style.display="inline-block")}Ke(Le(e,"active"),oe=>{oe||C()}),Ke(Le(e,"pattern"),()=>{e.multiple&&jt(O)});function A(oe){const{onFocus:he}=e;he&&he(oe)}function S(oe){const{onBlur:he}=e;he&&he(oe)}function k(oe){const{onDeleteOption:he}=e;he&&he(oe)}function E(oe){const{onClear:he}=e;he&&he(oe)}function R(oe){const{onPatternInput:he}=e;he&&he(oe)}function B(oe){var he;(!oe.relatedTarget||!(!((he=o.value)===null||he===void 0)&&he.contains(oe.relatedTarget)))&&A(oe)}function q(oe){var he;!((he=o.value)===null||he===void 0)&&he.contains(oe.relatedTarget)||S(oe)}function K(oe){E(oe)}function W(){g.value=!0}function Q(){g.value=!1}function H(oe){!e.active||!e.filterable||oe.target!==h.value&&oe.preventDefault()}function z(oe){k(oe)}const M=te(!1);function I(oe){if(oe.key==="Backspace"&&!M.value&&!e.pattern.length){const{selectedOptions:he}=e;he!=null&&he.length&&z(he[he.length-1])}}let $=null;function U(oe){const{value:he}=n;if(he){const He=oe.target.value;he.textContent=He,O()}e.ignoreComposition&&M.value?$=oe:R(oe)}function G(){M.value=!0}function j(){M.value=!1,e.ignoreComposition&&R($),$=null}function J(oe){var he;b.value=!0,(he=e.onPatternFocus)===null||he===void 0||he.call(e,oe)}function Y(oe){var he;b.value=!1,(he=e.onPatternBlur)===null||he===void 0||he.call(e,oe)}function ee(){var oe,he;if(e.filterable)b.value=!1,(oe=p.value)===null||oe===void 0||oe.blur(),(he=h.value)===null||he===void 0||he.blur();else if(e.multiple){const{value:He}=l;He==null||He.blur()}else{const{value:He}=s;He==null||He.blur()}}function se(){var oe,he,He;e.filterable?(b.value=!1,(oe=p.value)===null||oe===void 0||oe.focus()):e.multiple?(he=l.value)===null||he===void 0||he.focus():(He=s.value)===null||He===void 0||He.focus()}function me(){const{value:oe}=h;oe&&(L(),oe.focus())}function ke(){const{value:oe}=h;oe&&oe.blur()}function Ee(oe){const{value:he}=f;he&&he.setTextContent(`+${oe}`)}function Ae(){const{value:oe}=v;return oe}function qe(){return h.value}let tt=null;function Xe(){tt!==null&&window.clearTimeout(tt)}function re(){e.active||(Xe(),tt=window.setTimeout(()=>{w.value&&(_.value=!0)},100))}function le(){Xe()}function ve(oe){oe||(Xe(),_.value=!1)}Ke(w,oe=>{oe||(_.value=!1)}),wt(()=>{Kn(()=>{const oe=p.value;oe&&(e.disabled?oe.removeAttribute("tabindex"):oe.tabIndex=b.value?-1:0)})}),el(o,e.onResize);const{inlineThemeDisabled:ge}=e,ce=fe(()=>{const{size:oe}=e,{common:{cubicBezierEaseInOut:he},self:{fontWeight:He,borderRadius:ut,color:Ze,placeholderColor:It,textColor:Ue,paddingSingle:pt,paddingMultiple:on,caretColor:bn,colorDisabled:Ht,textColorDisabled:Rt,placeholderColorDisabled:ne,colorActive:be,boxShadowFocus:Pe,boxShadowActive:Ie,boxShadowHover:ze,border:Fe,borderFocus:Be,borderHover:ot,borderActive:mt,arrowColor:_n,arrowColorDisabled:wn,loadingColor:kn,colorActiveWarning:Vt,boxShadowFocusWarning:Mn,boxShadowActiveWarning:Dt,boxShadowHoverWarning:ti,borderWarning:ni,borderFocusWarning:ii,borderHoverWarning:Ln,borderActiveWarning:xn,colorActiveError:ft,boxShadowFocusError:ri,boxShadowActiveError:oi,boxShadowHoverError:ai,borderError:li,borderFocusError:si,borderHoverError:gt,borderActiveError:ui,clearColor:ci,clearColorHover:di,clearColorPressed:fi,clearSize:hi,arrowSize:St,[yt("height",oe)]:vi,[yt("fontSize",oe)]:pi}}=y.value,an=Oi(pt),ln=Oi(on);return{"--n-bezier":he,"--n-border":Fe,"--n-border-active":mt,"--n-border-focus":Be,"--n-border-hover":ot,"--n-border-radius":ut,"--n-box-shadow-active":Ie,"--n-box-shadow-focus":Pe,"--n-box-shadow-hover":ze,"--n-caret-color":bn,"--n-color":Ze,"--n-color-active":be,"--n-color-disabled":Ht,"--n-font-size":pi,"--n-height":vi,"--n-padding-single-top":an.top,"--n-padding-multiple-top":ln.top,"--n-padding-single-right":an.right,"--n-padding-multiple-right":ln.right,"--n-padding-single-left":an.left,"--n-padding-multiple-left":ln.left,"--n-padding-single-bottom":an.bottom,"--n-padding-multiple-bottom":ln.bottom,"--n-placeholder-color":It,"--n-placeholder-color-disabled":ne,"--n-text-color":Ue,"--n-text-color-disabled":Rt,"--n-arrow-color":_n,"--n-arrow-color-disabled":wn,"--n-loading-color":kn,"--n-color-active-warning":Vt,"--n-box-shadow-focus-warning":Mn,"--n-box-shadow-active-warning":Dt,"--n-box-shadow-hover-warning":ti,"--n-border-warning":ni,"--n-border-focus-warning":ii,"--n-border-hover-warning":Ln,"--n-border-active-warning":xn,"--n-color-active-error":ft,"--n-box-shadow-focus-error":ri,"--n-box-shadow-active-error":oi,"--n-box-shadow-hover-error":ai,"--n-border-error":li,"--n-border-focus-error":si,"--n-border-hover-error":gt,"--n-border-active-error":ui,"--n-clear-size":hi,"--n-clear-color":ci,"--n-clear-color-hover":di,"--n-clear-color-pressed":fi,"--n-arrow-size":St,"--n-font-weight":He}}),Se=ge?Bt("internal-selection",fe(()=>e.size[0]),ce,e):void 0;return{mergedTheme:y,mergedClearable:c,mergedClsPrefix:a,rtlEnabled:t,patternInputFocused:b,filterablePlaceholder:m,label:r,selected:w,showTagsPanel:_,isComposing:M,counterRef:f,counterWrapperRef:v,patternInputMirrorRef:n,patternInputRef:h,selfRef:o,multipleElRef:l,singleElRef:s,patternInputWrapperRef:p,overflowRef:u,inputTagElRef:d,handleMouseDown:H,handleFocusin:B,handleClear:K,handleMouseEnter:W,handleMouseLeave:Q,handleDeleteOption:z,handlePatternKeyDown:I,handlePatternInputInput:U,handlePatternInputBlur:Y,handlePatternInputFocus:J,handleMouseEnterCounter:re,handleMouseLeaveCounter:le,handleFocusout:q,handleCompositionEnd:j,handleCompositionStart:G,onPopoverUpdateShow:ve,focus:se,focusInput:me,blur:ee,blurInput:ke,updateCounter:Ee,getCounter:Ae,getTail:qe,renderLabel:e.renderLabel,cssVars:ge?void 0:ce,themeClass:Se==null?void 0:Se.themeClass,onRender:Se==null?void 0:Se.onRender}},render(){const{status:e,multiple:a,size:i,disabled:t,filterable:n,maxTagCount:h,bordered:o,clsPrefix:l,ellipsisTagPopoverProps:s,onRender:p,renderTag:f,renderLabel:v}=this;p==null||p();const u=h==="responsive",d=typeof h=="number",_=u||d,b=V(_s,null,{default:()=>V(bs,{clsPrefix:l,loading:this.loading,showArrow:this.showArrow,showClear:this.mergedClearable&&this.selected,onClear:this.handleClear},{default:()=>{var y,c;return(c=(y=this.$slots).arrow)===null||c===void 0?void 0:c.call(y)}})});let g;if(a){const{labelField:y}=this,c=R=>V("div",{class:`${l}-base-selection-tag-wrapper`,key:R.value},f?f({option:R,handleClose:()=>{this.handleDeleteOption(R)}}):V(nr,{size:i,closable:!R.disabled,disabled:t,onClose:()=>{this.handleDeleteOption(R)},internalCloseIsButtonTag:!1,internalCloseFocusable:!1},{default:()=>v?v(R,!0):Hn(R[y],R,!0)})),m=()=>(d?this.selectedOptions.slice(0,h):this.selectedOptions).map(c),r=n?V("div",{class:`${l}-base-selection-input-tag`,ref:"inputTagElRef",key:"__input-tag__"},V("input",Object.assign({},this.inputProps,{ref:"patternInputRef",tabindex:-1,disabled:t,value:this.pattern,autofocus:this.autofocus,class:`${l}-base-selection-input-tag__input`,onBlur:this.handlePatternInputBlur,onFocus:this.handlePatternInputFocus,onKeydown:this.handlePatternKeyDown,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),V("span",{ref:"patternInputMirrorRef",class:`${l}-base-selection-input-tag__mirror`},this.pattern)):null,w=u?()=>V("div",{class:`${l}-base-selection-tag-wrapper`,ref:"counterWrapperRef"},V(nr,{size:i,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,onMouseleave:this.handleMouseLeaveCounter,disabled:t})):void 0;let O;if(d){const R=this.selectedOptions.length-h;R>0&&(O=V("div",{class:`${l}-base-selection-tag-wrapper`,key:"__counter__"},V(nr,{size:i,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,disabled:t},{default:()=>`+${R}`})))}const C=u?n?V(ta,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,getTail:this.getTail,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:m,counter:w,tail:()=>r}):V(ta,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:m,counter:w}):d&&O?m().concat(O):m(),L=_?()=>V("div",{class:`${l}-base-selection-popover`},u?m():this.selectedOptions.map(c)):void 0,A=_?Object.assign({show:this.showTagsPanel,trigger:"hover",overlap:!0,placement:"top",width:"trigger",onUpdateShow:this.onPopoverUpdateShow,theme:this.mergedTheme.peers.Popover,themeOverrides:this.mergedTheme.peerOverrides.Popover},s):null,k=(this.selected?!1:this.active?!this.pattern&&!this.isComposing:!0)?V("div",{class:`${l}-base-selection-placeholder ${l}-base-selection-overlay`},V("div",{class:`${l}-base-selection-placeholder__inner`},this.placeholder)):null,E=n?V("div",{ref:"patternInputWrapperRef",class:`${l}-base-selection-tags`},C,u?null:r,b):V("div",{ref:"multipleElRef",class:`${l}-base-selection-tags`,tabindex:t?void 0:0},C,b);g=V(Te,null,_?V(wr,Object.assign({},A,{scrollable:!0,style:"max-height: calc(var(--v-target-height) * 6.6);"}),{trigger:()=>E,default:L}):E,k)}else if(n){const y=this.pattern||this.isComposing,c=this.active?!y:!this.selected,m=this.active?!1:this.selected;g=V("div",{ref:"patternInputWrapperRef",class:`${l}-base-selection-label`,title:this.patternInputFocused?void 0:co(this.label)},V("input",Object.assign({},this.inputProps,{ref:"patternInputRef",class:`${l}-base-selection-input`,value:this.active?this.pattern:"",placeholder:"",readonly:t,disabled:t,tabindex:-1,autofocus:this.autofocus,onFocus:this.handlePatternInputFocus,onBlur:this.handlePatternInputBlur,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),m?V("div",{class:`${l}-base-selection-label__render-label ${l}-base-selection-overlay`,key:"input"},V("div",{class:`${l}-base-selection-overlay__wrapper`},f?f({option:this.selectedOption,handleClose:()=>{}}):v?v(this.selectedOption,!0):Hn(this.label,this.selectedOption,!0))):null,c?V("div",{class:`${l}-base-selection-placeholder ${l}-base-selection-overlay`,key:"placeholder"},V("div",{class:`${l}-base-selection-overlay__wrapper`},this.filterablePlaceholder)):null,b)}else g=V("div",{ref:"singleElRef",class:`${l}-base-selection-label`,tabindex:this.disabled?void 0:0},this.label!==void 0?V("div",{class:`${l}-base-selection-input`,title:co(this.label),key:"input"},V("div",{class:`${l}-base-selection-input__content`},f?f({option:this.selectedOption,handleClose:()=>{}}):v?v(this.selectedOption,!0):Hn(this.label,this.selectedOption,!0))):V("div",{class:`${l}-base-selection-placeholder ${l}-base-selection-overlay`,key:"placeholder"},V("div",{class:`${l}-base-selection-placeholder__inner`},this.placeholder)),b);return V("div",{ref:"selfRef",class:[`${l}-base-selection`,this.rtlEnabled&&`${l}-base-selection--rtl`,this.themeClass,e&&`${l}-base-selection--${e}-status`,{[`${l}-base-selection--active`]:this.active,[`${l}-base-selection--selected`]:this.selected||this.active&&this.pattern,[`${l}-base-selection--disabled`]:this.disabled,[`${l}-base-selection--multiple`]:this.multiple,[`${l}-base-selection--focus`]:this.focused}],style:this.cssVars,onClick:this.onClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onKeydown:this.onKeydown,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onMousedown:this.handleMouseDown},g,o?V("div",{class:`${l}-base-selection__border`}):null,o?V("div",{class:`${l}-base-selection__state-border`}):null)}}),ra=we({name:"SlotMachineNumber",props:{clsPrefix:{type:String,required:!0},value:{type:[Number,String],required:!0},oldOriginalNumber:{type:Number,default:void 0},newOriginalNumber:{type:Number,default:void 0}},setup(e){const a=te(null),i=te(e.value),t=te(e.value),n=te("up"),h=te(!1),o=fe(()=>h.value?`${e.clsPrefix}-base-slot-machine-current-number--${n.value}-scroll`:null),l=fe(()=>h.value?`${e.clsPrefix}-base-slot-machine-old-number--${n.value}-scroll`:null);Ke(Le(e,"value"),(f,v)=>{i.value=v,t.value=f,jt(s)});function s(){const f=e.newOriginalNumber,v=e.oldOriginalNumber;v===void 0||f===void 0||(f>v?p("up"):v>f&&p("down"))}function p(f){n.value=f,h.value=!1,jt(()=>{var v;(v=a.value)===null||v===void 0||v.offsetWidth,h.value=!0})}return()=>{const{clsPrefix:f}=e;return V("span",{ref:a,class:`${f}-base-slot-machine-number`},i.value!==null?V("span",{class:[`${f}-base-slot-machine-old-number ${f}-base-slot-machine-old-number--top`,l.value]},i.value):null,V("span",{class:[`${f}-base-slot-machine-current-number`,o.value]},V("span",{ref:"numberWrapper",class:[`${f}-base-slot-machine-current-number__inner`,typeof e.value!="number"&&`${f}-base-slot-machine-current-number__inner--not-number`]},t.value)),i.value!==null?V("span",{class:[`${f}-base-slot-machine-old-number ${f}-base-slot-machine-old-number--bottom`,l.value]},i.value):null)}}}),{cubicBezierEaseOut:Fn}=ws;function ld({duration:e=".2s"}={}){return[pe("&.fade-up-width-expand-transition-leave-active",{transition:`
 opacity ${e} ${Fn},
 max-width ${e} ${Fn},
 transform ${e} ${Fn}
 `}),pe("&.fade-up-width-expand-transition-enter-active",{transition:`
 opacity ${e} ${Fn},
 max-width ${e} ${Fn},
 transform ${e} ${Fn}
 `}),pe("&.fade-up-width-expand-transition-enter-to",{opacity:1,transform:"translateX(0) translateY(0)"}),pe("&.fade-up-width-expand-transition-enter-from",{maxWidth:"0 !important",opacity:0,transform:"translateY(60%)"}),pe("&.fade-up-width-expand-transition-leave-from",{opacity:1,transform:"translateY(0)"}),pe("&.fade-up-width-expand-transition-leave-to",{maxWidth:"0 !important",opacity:0,transform:"translateY(60%)"})]}const sd=pe([pe("@keyframes n-base-slot-machine-fade-up-in",`
 from {
 transform: translateY(60%);
 opacity: 0;
 }
 to {
 transform: translateY(0);
 opacity: 1;
 }
 `),pe("@keyframes n-base-slot-machine-fade-down-in",`
 from {
 transform: translateY(-60%);
 opacity: 0;
 }
 to {
 transform: translateY(0);
 opacity: 1;
 }
 `),pe("@keyframes n-base-slot-machine-fade-up-out",`
 from {
 transform: translateY(0%);
 opacity: 1;
 }
 to {
 transform: translateY(-60%);
 opacity: 0;
 }
 `),pe("@keyframes n-base-slot-machine-fade-down-out",`
 from {
 transform: translateY(0%);
 opacity: 1;
 }
 to {
 transform: translateY(60%);
 opacity: 0;
 }
 `),ue("base-slot-machine",`
 overflow: hidden;
 white-space: nowrap;
 display: inline-block;
 height: 18px;
 line-height: 18px;
 `,[ue("base-slot-machine-number",`
 display: inline-block;
 position: relative;
 height: 18px;
 width: .6em;
 max-width: .6em;
 `,[ld({duration:".2s"}),ks({duration:".2s",delay:"0s"}),ue("base-slot-machine-old-number",`
 display: inline-block;
 opacity: 0;
 position: absolute;
 left: 0;
 right: 0;
 `,[xe("top",{transform:"translateY(-100%)"}),xe("bottom",{transform:"translateY(100%)"}),xe("down-scroll",{animation:"n-base-slot-machine-fade-down-out .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1}),xe("up-scroll",{animation:"n-base-slot-machine-fade-up-out .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1})]),ue("base-slot-machine-current-number",`
 display: inline-block;
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 1;
 transform: translateY(0);
 width: .6em;
 `,[xe("down-scroll",{animation:"n-base-slot-machine-fade-down-in .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1}),xe("up-scroll",{animation:"n-base-slot-machine-fade-up-in .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1}),Ce("inner",`
 display: inline-block;
 position: absolute;
 right: 0;
 top: 0;
 width: .6em;
 `,[xe("not-number",`
 right: unset;
 left: 0;
 `)])])])])]),ud=we({name:"BaseSlotMachine",props:{clsPrefix:{type:String,required:!0},value:{type:[Number,String],default:0},max:{type:Number,default:void 0},appeared:{type:Boolean,required:!0}},setup(e){Pa("-base-slot-machine",sd,Le(e,"clsPrefix"));const a=te(),i=te(),t=fe(()=>{if(typeof e.value=="string")return[];if(e.value<1)return[0];const n=[];let h=e.value;for(e.max!==void 0&&(h=Math.min(e.max,h));h>=1;)n.push(h%10),h/=10,h=Math.floor(h);return n.reverse(),n});return Ke(Le(e,"value"),(n,h)=>{typeof n=="string"?(i.value=void 0,a.value=void 0):typeof h=="string"?(i.value=n,a.value=void 0):(i.value=n,a.value=h)}),()=>{const{value:n,clsPrefix:h}=e;return typeof n=="number"?V("span",{class:`${h}-base-slot-machine`},V(xs,{name:"fade-up-width-expand-transition",tag:"span"},{default:()=>t.value.map((o,l)=>V(ra,{clsPrefix:h,key:t.value.length-l-1,oldOriginalNumber:a.value,newOriginalNumber:i.value,value:o}))}),V(ko,{key:"+",width:!0},{default:()=>e.max!==void 0&&e.max<n?V(ra,{clsPrefix:h,value:"+"}):null})):V("span",{class:`${h}-base-slot-machine`},n)}}});function hr(e){return e.type==="group"}function nl(e){return e.type==="ignored"}function Jr(e,a){try{return!!(1+a.toString().toLowerCase().indexOf(e.trim().toLowerCase()))}catch{return!1}}function il(e,a){return{getIsGroup:hr,getIgnored:nl,getKey(t){return hr(t)?t.name||t.key||"key-required":t[e]},getChildren(t){return t[a]}}}function cd(e,a,i,t){if(!a)return e;function n(h){if(!Array.isArray(h))return[];const o=[];for(const l of h)if(hr(l)){const s=n(l[t]);s.length&&o.push(Object.assign({},l,{[t]:s}))}else{if(nl(l))continue;a(i,l)&&o.push(l)}return o}return n(e)}function dd(e,a,i){const t=new Map;return e.forEach(n=>{hr(n)?n[i].forEach(h=>{t.set(h[a],h)}):t.set(n[a],n)}),t}function fd(e){const{errorColor:a,infoColor:i,successColor:t,warningColor:n,fontFamily:h}=e;return{color:a,colorInfo:i,colorSuccess:t,colorError:a,colorWarning:n,fontSize:"12px",fontFamily:h}}const hd={name:"Badge",common:pn,self:fd},vd=hd,pd=pe([pe("@keyframes badge-wave-spread",{from:{boxShadow:"0 0 0.5px 0px var(--n-ripple-color)",opacity:.6},to:{boxShadow:"0 0 0.5px 4.5px var(--n-ripple-color)",opacity:0}}),ue("badge",`
 display: inline-flex;
 position: relative;
 vertical-align: middle;
 font-family: var(--n-font-family);
 `,[xe("as-is",[ue("badge-sup",{position:"static",transform:"translateX(0)"},[lr({transformOrigin:"left bottom",originalTransform:"translateX(0)"})])]),xe("dot",[ue("badge-sup",`
 height: 8px;
 width: 8px;
 padding: 0;
 min-width: 8px;
 left: 100%;
 bottom: calc(100% - 4px);
 `,[pe("::before","border-radius: 4px;")])]),ue("badge-sup",`
 background: var(--n-color);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 color: #FFF;
 position: absolute;
 height: 18px;
 line-height: 18px;
 border-radius: 9px;
 padding: 0 6px;
 text-align: center;
 font-size: var(--n-font-size);
 transform: translateX(-50%);
 left: 100%;
 bottom: calc(100% - 9px);
 font-variant-numeric: tabular-nums;
 z-index: 2;
 display: flex;
 align-items: center;
 `,[lr({transformOrigin:"left bottom",originalTransform:"translateX(-50%)"}),ue("base-wave",{zIndex:1,animationDuration:"2s",animationIterationCount:"infinite",animationDelay:"1s",animationTimingFunction:"var(--n-ripple-bezier)",animationName:"badge-wave-spread"}),pe("&::before",`
 opacity: 0;
 transform: scale(1);
 border-radius: 9px;
 content: "";
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `)])])]),md=Object.assign(Object.assign({},Qe.props),{value:[String,Number],max:Number,dot:Boolean,type:{type:String,default:"default"},show:{type:Boolean,default:!0},showZero:Boolean,processing:Boolean,color:String,offset:Array}),fo=we({name:"Badge",props:md,setup(e,{slots:a}){const{mergedClsPrefixRef:i,inlineThemeDisabled:t,mergedRtlRef:n}=kt(e),h=Qe("Badge","-badge",pd,vd,e,i),o=te(!1),l=()=>{o.value=!0},s=()=>{o.value=!1},p=fe(()=>e.show&&(e.dot||e.value!==void 0&&!(!e.showZero&&Number(e.value)<=0)||!Cs(a.value)));wt(()=>{p.value&&(o.value=!0)});const f=vn("Badge",n,i),v=fe(()=>{const{type:_,color:b}=e,{common:{cubicBezierEaseInOut:g,cubicBezierEaseOut:y},self:{[yt("color",_)]:c,fontFamily:m,fontSize:r}}=h.value;return{"--n-font-size":r,"--n-font-family":m,"--n-color":b||c,"--n-ripple-color":b||c,"--n-bezier":g,"--n-ripple-bezier":y}}),u=t?Bt("badge",fe(()=>{let _="";const{type:b,color:g}=e;return b&&(_+=b[0]),g&&(_+=Ss(g)),_}),v,e):void 0,d=fe(()=>{const{offset:_}=e;if(!_)return;const[b,g]=_,y=typeof b=="number"?`${b}px`:b,c=typeof g=="number"?`${g}px`:g;return{transform:`translate(calc(${f!=null&&f.value?"50%":"-50%"} + ${y}), ${c})`}});return{rtlEnabled:f,mergedClsPrefix:i,appeared:o,showBadge:p,handleAfterEnter:l,handleAfterLeave:s,cssVars:t?void 0:v,themeClass:u==null?void 0:u.themeClass,onRender:u==null?void 0:u.onRender,offsetStyle:d}},render(){var e;const{mergedClsPrefix:a,onRender:i,themeClass:t,$slots:n}=this;i==null||i();const h=(e=n.default)===null||e===void 0?void 0:e.call(n);return V("div",{class:[`${a}-badge`,this.rtlEnabled&&`${a}-badge--rtl`,t,{[`${a}-badge--dot`]:this.dot,[`${a}-badge--as-is`]:!h}],style:this.cssVars},h,V(wo,{name:"fade-in-scale-up-transition",onAfterEnter:this.handleAfterEnter,onAfterLeave:this.handleAfterLeave},{default:()=>this.showBadge?V("sup",{class:`${a}-badge-sup`,title:co(this.value),style:this.offsetStyle},hn(n.value,()=>[this.dot?null:V(ud,{clsPrefix:a,appeared:this.appeared,max:this.max,value:this.value})]),this.processing?V(Os,{clsPrefix:a}):null):null}))}}),lt="0!important",rl="-1px!important";function qn(e){return xe(`${e}-type`,[pe("& +",[ue("button",{},[xe(`${e}-type`,[Ce("border",{borderLeftWidth:lt}),Ce("state-border",{left:rl})])])])])}function Un(e){return xe(`${e}-type`,[pe("& +",[ue("button",[xe(`${e}-type`,[Ce("border",{borderTopWidth:lt}),Ce("state-border",{top:rl})])])])])}const gd=ue("button-group",`
 flex-wrap: nowrap;
 display: inline-flex;
 position: relative;
`,[Tn("vertical",{flexDirection:"row"},[Tn("rtl",[ue("button",[pe("&:first-child:not(:last-child)",`
 margin-right: ${lt};
 border-top-right-radius: ${lt};
 border-bottom-right-radius: ${lt};
 `),pe("&:last-child:not(:first-child)",`
 margin-left: ${lt};
 border-top-left-radius: ${lt};
 border-bottom-left-radius: ${lt};
 `),pe("&:not(:first-child):not(:last-child)",`
 margin-left: ${lt};
 margin-right: ${lt};
 border-radius: ${lt};
 `),qn("default"),xe("ghost",[qn("primary"),qn("info"),qn("success"),qn("warning"),qn("error")])])])]),xe("vertical",{flexDirection:"column"},[ue("button",[pe("&:first-child:not(:last-child)",`
 margin-bottom: ${lt};
 margin-left: ${lt};
 margin-right: ${lt};
 border-bottom-left-radius: ${lt};
 border-bottom-right-radius: ${lt};
 `),pe("&:last-child:not(:first-child)",`
 margin-top: ${lt};
 margin-left: ${lt};
 margin-right: ${lt};
 border-top-left-radius: ${lt};
 border-top-right-radius: ${lt};
 `),pe("&:not(:first-child):not(:last-child)",`
 margin: ${lt};
 border-radius: ${lt};
 `),Un("default"),xe("ghost",[Un("primary"),Un("info"),Un("success"),Un("warning"),Un("error")])])])]),yd={size:{type:String,default:void 0},vertical:Boolean},bd=we({name:"ButtonGroup",props:yd,setup(e){const{mergedClsPrefixRef:a,mergedRtlRef:i}=kt(e);return Pa("-button-group",gd,a),rn(Es,e),{rtlEnabled:vn("ButtonGroup",i,a),mergedClsPrefix:a}},render(){const{mergedClsPrefix:e}=this;return V("div",{class:[`${e}-button-group`,this.rtlEnabled&&`${e}-button-group--rtl`,this.vertical&&`${e}-button-group--vertical`],role:"group"},this.$slots)}});function _d(e){const{boxShadow2:a}=e;return{menuBoxShadow:a}}const wd=xo({name:"Popselect",common:pn,peers:{Popover:Ts,InternalSelectMenu:Ra},self:_d}),ol=wd,al=Yn("n-popselect"),kd=ue("popselect-menu",`
 box-shadow: var(--n-menu-box-shadow);
`),Mo={multiple:Boolean,value:{type:[String,Number,Array],default:null},cancelable:Boolean,options:{type:Array,default:()=>[]},size:{type:String,default:"medium"},scrollable:Boolean,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onMouseenter:Function,onMouseleave:Function,renderLabel:Function,showCheckmark:{type:Boolean,default:void 0},nodeProps:Function,virtualScroll:Boolean,onChange:[Function,Array]},oa=Rs(Mo),xd=we({name:"PopselectPanel",props:Mo,setup(e){const a=Tt(al),{mergedClsPrefixRef:i,inlineThemeDisabled:t}=kt(e),n=Qe("Popselect","-pop-select",kd,ol,a.props,i),h=fe(()=>Ma(e.options,il("value","children")));function o(u,d){const{onUpdateValue:_,"onUpdate:value":b,onChange:g}=e;_&&st(_,u,d),b&&st(b,u,d),g&&st(g,u,d)}function l(u){p(u.key)}function s(u){!dn(u,"action")&&!dn(u,"empty")&&!dn(u,"header")&&u.preventDefault()}function p(u){const{value:{getNode:d}}=h;if(e.multiple)if(Array.isArray(e.value)){const _=[],b=[];let g=!0;e.value.forEach(y=>{if(y===u){g=!1;return}const c=d(y);c&&(_.push(c.key),b.push(c.rawNode))}),g&&(_.push(u),b.push(d(u).rawNode)),o(_,b)}else{const _=d(u);_&&o([u],[_.rawNode])}else if(e.value===u&&e.cancelable)o(null,null);else{const _=d(u);_&&o(u,_.rawNode);const{"onUpdate:show":b,onUpdateShow:g}=a.props;b&&st(b,!1),g&&st(g,!1),a.setShow(!1)}jt(()=>{a.syncPosition()})}Ke(Le(e,"options"),()=>{jt(()=>{a.syncPosition()})});const f=fe(()=>{const{self:{menuBoxShadow:u}}=n.value;return{"--n-menu-box-shadow":u}}),v=t?Bt("select",void 0,f,a.props):void 0;return{mergedTheme:a.mergedThemeRef,mergedClsPrefix:i,treeMate:h,handleToggle:l,handleMenuMousedown:s,cssVars:t?void 0:f,themeClass:v==null?void 0:v.themeClass,onRender:v==null?void 0:v.onRender}},render(){var e;return(e=this.onRender)===null||e===void 0||e.call(this),V(tl,{clsPrefix:this.mergedClsPrefix,focusable:!0,nodeProps:this.nodeProps,class:[`${this.mergedClsPrefix}-popselect-menu`,this.themeClass],style:this.cssVars,theme:this.mergedTheme.peers.InternalSelectMenu,themeOverrides:this.mergedTheme.peerOverrides.InternalSelectMenu,multiple:this.multiple,treeMate:this.treeMate,size:this.size,value:this.value,virtualScroll:this.virtualScroll,scrollable:this.scrollable,renderLabel:this.renderLabel,onToggle:this.handleToggle,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseenter,onMousedown:this.handleMenuMousedown,showCheckmark:this.showCheckmark},{header:()=>{var a,i;return((i=(a=this.$slots).header)===null||i===void 0?void 0:i.call(a))||[]},action:()=>{var a,i;return((i=(a=this.$slots).action)===null||i===void 0?void 0:i.call(a))||[]},empty:()=>{var a,i;return((i=(a=this.$slots).empty)===null||i===void 0?void 0:i.call(a))||[]}})}}),Cd=Object.assign(Object.assign(Object.assign(Object.assign({},Qe.props),La(Ho,["showArrow","arrow"])),{placement:Object.assign(Object.assign({},Ho.placement),{default:"bottom"}),trigger:{type:String,default:"hover"}}),Mo),ll=we({name:"Popselect",props:Cd,slots:Object,inheritAttrs:!1,__popover__:!0,setup(e){const{mergedClsPrefixRef:a}=kt(e),i=Qe("Popselect","-popselect",void 0,ol,e,a),t=te(null);function n(){var l;(l=t.value)===null||l===void 0||l.syncPosition()}function h(l){var s;(s=t.value)===null||s===void 0||s.setShow(l)}return rn(al,{props:e,mergedThemeRef:i,syncPosition:n,setShow:h}),Object.assign(Object.assign({},{syncPosition:n,setShow:h}),{popoverInstRef:t,mergedTheme:i})},render(){const{mergedTheme:e}=this,a={theme:e.peers.Popover,themeOverrides:e.peerOverrides.Popover,builtinThemeOverrides:{padding:"0"},ref:"popoverInstRef",internalRenderBody:(i,t,n,h,o)=>{const{$attrs:l}=this;return V(xd,Object.assign({},l,{class:[l.class,i],style:[l.style,...n]},As(this.$props,oa),{ref:Ps(t),onMouseenter:Ei([h,l.onMouseenter]),onMouseleave:Ei([o,l.onMouseleave])}),{header:()=>{var s,p;return(p=(s=this.$slots).header)===null||p===void 0?void 0:p.call(s)},action:()=>{var s,p;return(p=(s=this.$slots).action)===null||p===void 0?void 0:p.call(s)},empty:()=>{var s,p;return(p=(s=this.$slots).empty)===null||p===void 0?void 0:p.call(s)}})}};return V(wr,Object.assign({},La(this.$props,oa),a,{internalDeactivateImmediately:!0}),{trigger:()=>{var i,t;return(t=(i=this.$slots).default)===null||t===void 0?void 0:t.call(i)}})}}),Sd=pe([ue("select",`
 z-index: auto;
 outline: none;
 width: 100%;
 position: relative;
 font-weight: var(--n-font-weight);
 `),ue("select-menu",`
 margin: 4px 0;
 box-shadow: var(--n-menu-box-shadow);
 `,[lr({originalTransition:"background-color .3s var(--n-bezier), box-shadow .3s var(--n-bezier)"})])]),Od=Object.assign(Object.assign({},Qe.props),{to:oo.propTo,bordered:{type:Boolean,default:void 0},clearable:Boolean,clearFilterAfterSelect:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},defaultValue:{type:[String,Number,Array],default:null},keyboard:{type:Boolean,default:!0},value:[String,Number,Array],placeholder:String,menuProps:Object,multiple:Boolean,size:String,menuSize:{type:String},filterable:Boolean,disabled:{type:Boolean,default:void 0},remote:Boolean,loading:Boolean,filter:Function,placement:{type:String,default:"bottom-start"},widthMode:{type:String,default:"trigger"},tag:Boolean,onCreate:Function,fallbackOption:{type:[Function,Boolean],default:void 0},show:{type:Boolean,default:void 0},showArrow:{type:Boolean,default:!0},maxTagCount:[Number,String],ellipsisTagPopoverProps:Object,consistentMenuWidth:{type:Boolean,default:!0},virtualScroll:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},childrenField:{type:String,default:"children"},renderLabel:Function,renderOption:Function,renderTag:Function,"onUpdate:value":[Function,Array],inputProps:Object,nodeProps:Function,ignoreComposition:{type:Boolean,default:!0},showOnFocus:Boolean,onUpdateValue:[Function,Array],onBlur:[Function,Array],onClear:[Function,Array],onFocus:[Function,Array],onScroll:[Function,Array],onSearch:[Function,Array],onUpdateShow:[Function,Array],"onUpdate:show":[Function,Array],displayDirective:{type:String,default:"show"},resetMenuOnOptionsChange:{type:Boolean,default:!0},status:String,showCheckmark:{type:Boolean,default:!0},onChange:[Function,Array],items:Array}),Xn=we({name:"Select",props:Od,slots:Object,setup(e){const{mergedClsPrefixRef:a,mergedBorderedRef:i,namespaceRef:t,inlineThemeDisabled:n}=kt(e),h=Qe("Select","-select",Sd,js,e,a),o=te(e.defaultValue),l=Le(e,"value"),s=Pi(l,o),p=te(!1),f=te(""),v=Ms(e,["items","options"]),u=te([]),d=te([]),_=fe(()=>d.value.concat(u.value).concat(v.value)),b=fe(()=>{const{filter:ne}=e;if(ne)return ne;const{labelField:be,valueField:Pe}=e;return(Ie,ze)=>{if(!ze)return!1;const Fe=ze[be];if(typeof Fe=="string")return Jr(Ie,Fe);const Be=ze[Pe];return typeof Be=="string"?Jr(Ie,Be):typeof Be=="number"?Jr(Ie,String(Be)):!1}}),g=fe(()=>{if(e.remote)return v.value;{const{value:ne}=_,{value:be}=f;return!be.length||!e.filterable?ne:cd(ne,b.value,be,e.childrenField)}}),y=fe(()=>{const{valueField:ne,childrenField:be}=e,Pe=il(ne,be);return Ma(g.value,Pe)}),c=fe(()=>dd(_.value,e.valueField,e.childrenField)),m=te(!1),r=Pi(Le(e,"show"),m),w=te(null),O=te(null),C=te(null),{localeRef:L}=Na("Select"),A=fe(()=>{var ne;return(ne=e.placeholder)!==null&&ne!==void 0?ne:L.value.placeholder}),S=[],k=te(new Map),E=fe(()=>{const{fallbackOption:ne}=e;if(ne===void 0){const{labelField:be,valueField:Pe}=e;return Ie=>({[be]:String(Ie),[Pe]:Ie})}return ne===!1?!1:be=>Object.assign(ne(be),{value:be})});function R(ne){const be=e.remote,{value:Pe}=k,{value:Ie}=c,{value:ze}=E,Fe=[];return ne.forEach(Be=>{if(Ie.has(Be))Fe.push(Ie.get(Be));else if(be&&Pe.has(Be))Fe.push(Pe.get(Be));else if(ze){const ot=ze(Be);ot&&Fe.push(ot)}}),Fe}const B=fe(()=>{if(e.multiple){const{value:ne}=s;return Array.isArray(ne)?R(ne):[]}return null}),q=fe(()=>{const{value:ne}=s;return!e.multiple&&!Array.isArray(ne)?ne===null?null:R([ne])[0]||null:null}),K=Ia(e),{mergedSizeRef:W,mergedDisabledRef:Q,mergedStatusRef:H}=K;function z(ne,be){const{onChange:Pe,"onUpdate:value":Ie,onUpdateValue:ze}=e,{nTriggerFormChange:Fe,nTriggerFormInput:Be}=K;Pe&&st(Pe,ne,be),ze&&st(ze,ne,be),Ie&&st(Ie,ne,be),o.value=ne,Fe(),Be()}function M(ne){const{onBlur:be}=e,{nTriggerFormBlur:Pe}=K;be&&st(be,ne),Pe()}function I(){const{onClear:ne}=e;ne&&st(ne)}function $(ne){const{onFocus:be,showOnFocus:Pe}=e,{nTriggerFormFocus:Ie}=K;be&&st(be,ne),Ie(),Pe&&Y()}function U(ne){const{onSearch:be}=e;be&&st(be,ne)}function G(ne){const{onScroll:be}=e;be&&st(be,ne)}function j(){var ne;const{remote:be,multiple:Pe}=e;if(be){const{value:Ie}=k;if(Pe){const{valueField:ze}=e;(ne=B.value)===null||ne===void 0||ne.forEach(Fe=>{Ie.set(Fe[ze],Fe)})}else{const ze=q.value;ze&&Ie.set(ze[e.valueField],ze)}}}function J(ne){const{onUpdateShow:be,"onUpdate:show":Pe}=e;be&&st(be,ne),Pe&&st(Pe,ne),m.value=ne}function Y(){Q.value||(J(!0),m.value=!0,e.filterable&&pt())}function ee(){J(!1)}function se(){f.value="",d.value=S}const me=te(!1);function ke(){e.filterable&&(me.value=!0)}function Ee(){e.filterable&&(me.value=!1,r.value||se())}function Ae(){Q.value||(r.value?e.filterable?pt():ee():Y())}function qe(ne){var be,Pe;!((Pe=(be=C.value)===null||be===void 0?void 0:be.selfRef)===null||Pe===void 0)&&Pe.contains(ne.relatedTarget)||(p.value=!1,M(ne),ee())}function tt(ne){$(ne),p.value=!0}function Xe(){p.value=!0}function re(ne){var be;!((be=w.value)===null||be===void 0)&&be.$el.contains(ne.relatedTarget)||(p.value=!1,M(ne),ee())}function le(){var ne;(ne=w.value)===null||ne===void 0||ne.focus(),ee()}function ve(ne){var be;r.value&&(!((be=w.value)===null||be===void 0)&&be.$el.contains(Bs(ne))||ee())}function ge(ne){if(!Array.isArray(ne))return[];if(E.value)return Array.from(ne);{const{remote:be}=e,{value:Pe}=c;if(be){const{value:Ie}=k;return ne.filter(ze=>Pe.has(ze)||Ie.has(ze))}else return ne.filter(Ie=>Pe.has(Ie))}}function ce(ne){Se(ne.rawNode)}function Se(ne){if(Q.value)return;const{tag:be,remote:Pe,clearFilterAfterSelect:Ie,valueField:ze}=e;if(be&&!Pe){const{value:Fe}=d,Be=Fe[0]||null;if(Be){const ot=u.value;ot.length?ot.push(Be):u.value=[Be],d.value=S}}if(Pe&&k.value.set(ne[ze],ne),e.multiple){const Fe=ge(s.value),Be=Fe.findIndex(ot=>ot===ne[ze]);if(~Be){if(Fe.splice(Be,1),be&&!Pe){const ot=oe(ne[ze]);~ot&&(u.value.splice(ot,1),Ie&&(f.value=""))}}else Fe.push(ne[ze]),Ie&&(f.value="");z(Fe,R(Fe))}else{if(be&&!Pe){const Fe=oe(ne[ze]);~Fe?u.value=[u.value[Fe]]:u.value=S}Ue(),ee(),z(ne[ze],ne)}}function oe(ne){return u.value.findIndex(Pe=>Pe[e.valueField]===ne)}function he(ne){r.value||Y();const{value:be}=ne.target;f.value=be;const{tag:Pe,remote:Ie}=e;if(U(be),Pe&&!Ie){if(!be){d.value=S;return}const{onCreate:ze}=e,Fe=ze?ze(be):{[e.labelField]:be,[e.valueField]:be},{valueField:Be,labelField:ot}=e;v.value.some(mt=>mt[Be]===Fe[Be]||mt[ot]===Fe[ot])||u.value.some(mt=>mt[Be]===Fe[Be]||mt[ot]===Fe[ot])?d.value=S:d.value=[Fe]}}function He(ne){ne.stopPropagation();const{multiple:be}=e;!be&&e.filterable&&ee(),I(),be?z([],[]):z(null,null)}function ut(ne){!dn(ne,"action")&&!dn(ne,"empty")&&!dn(ne,"header")&&ne.preventDefault()}function Ze(ne){G(ne)}function It(ne){var be,Pe,Ie,ze,Fe;if(!e.keyboard){ne.preventDefault();return}switch(ne.key){case" ":if(e.filterable)break;ne.preventDefault();case"Enter":if(!(!((be=w.value)===null||be===void 0)&&be.isComposing)){if(r.value){const Be=(Pe=C.value)===null||Pe===void 0?void 0:Pe.getPendingTmNode();Be?ce(Be):e.filterable||(ee(),Ue())}else if(Y(),e.tag&&me.value){const Be=d.value[0];if(Be){const ot=Be[e.valueField],{value:mt}=s;e.multiple&&Array.isArray(mt)&&mt.includes(ot)||Se(Be)}}}ne.preventDefault();break;case"ArrowUp":if(ne.preventDefault(),e.loading)return;r.value&&((Ie=C.value)===null||Ie===void 0||Ie.prev());break;case"ArrowDown":if(ne.preventDefault(),e.loading)return;r.value?(ze=C.value)===null||ze===void 0||ze.next():Y();break;case"Escape":r.value&&(Ds(ne),ee()),(Fe=w.value)===null||Fe===void 0||Fe.focus();break}}function Ue(){var ne;(ne=w.value)===null||ne===void 0||ne.focus()}function pt(){var ne;(ne=w.value)===null||ne===void 0||ne.focusInput()}function on(){var ne;r.value&&((ne=O.value)===null||ne===void 0||ne.syncPosition())}j(),Ke(Le(e,"options"),j);const bn={focus:()=>{var ne;(ne=w.value)===null||ne===void 0||ne.focus()},focusInput:()=>{var ne;(ne=w.value)===null||ne===void 0||ne.focusInput()},blur:()=>{var ne;(ne=w.value)===null||ne===void 0||ne.blur()},blurInput:()=>{var ne;(ne=w.value)===null||ne===void 0||ne.blurInput()}},Ht=fe(()=>{const{self:{menuBoxShadow:ne}}=h.value;return{"--n-menu-box-shadow":ne}}),Rt=n?Bt("select",void 0,Ht,e):void 0;return Object.assign(Object.assign({},bn),{mergedStatus:H,mergedClsPrefix:a,mergedBordered:i,namespace:t,treeMate:y,isMounted:Ls(),triggerRef:w,menuRef:C,pattern:f,uncontrolledShow:m,mergedShow:r,adjustedTo:oo(e),uncontrolledValue:o,mergedValue:s,followerRef:O,localizedPlaceholder:A,selectedOption:q,selectedOptions:B,mergedSize:W,mergedDisabled:Q,focused:p,activeWithoutMenuOpen:me,inlineThemeDisabled:n,onTriggerInputFocus:ke,onTriggerInputBlur:Ee,handleTriggerOrMenuResize:on,handleMenuFocus:Xe,handleMenuBlur:re,handleMenuTabOut:le,handleTriggerClick:Ae,handleToggle:ce,handleDeleteOption:Se,handlePatternInput:he,handleClear:He,handleTriggerBlur:qe,handleTriggerFocus:tt,handleKeydown:It,handleMenuAfterLeave:se,handleMenuClickOutside:ve,handleMenuScroll:Ze,handleMenuKeydown:It,handleMenuMousedown:ut,mergedTheme:h,cssVars:n?void 0:Ht,themeClass:Rt==null?void 0:Rt.themeClass,onRender:Rt==null?void 0:Rt.onRender})},render(){return V("div",{class:`${this.mergedClsPrefix}-select`},V(Ns,null,{default:()=>[V(Is,null,{default:()=>V(ad,{ref:"triggerRef",inlineThemeDisabled:this.inlineThemeDisabled,status:this.mergedStatus,inputProps:this.inputProps,clsPrefix:this.mergedClsPrefix,showArrow:this.showArrow,maxTagCount:this.maxTagCount,ellipsisTagPopoverProps:this.ellipsisTagPopoverProps,bordered:this.mergedBordered,active:this.activeWithoutMenuOpen||this.mergedShow,pattern:this.pattern,placeholder:this.localizedPlaceholder,selectedOption:this.selectedOption,selectedOptions:this.selectedOptions,multiple:this.multiple,renderTag:this.renderTag,renderLabel:this.renderLabel,filterable:this.filterable,clearable:this.clearable,disabled:this.mergedDisabled,size:this.mergedSize,theme:this.mergedTheme.peers.InternalSelection,labelField:this.labelField,valueField:this.valueField,themeOverrides:this.mergedTheme.peerOverrides.InternalSelection,loading:this.loading,focused:this.focused,onClick:this.handleTriggerClick,onDeleteOption:this.handleDeleteOption,onPatternInput:this.handlePatternInput,onClear:this.handleClear,onBlur:this.handleTriggerBlur,onFocus:this.handleTriggerFocus,onKeydown:this.handleKeydown,onPatternBlur:this.onTriggerInputBlur,onPatternFocus:this.onTriggerInputFocus,onResize:this.handleTriggerOrMenuResize,ignoreComposition:this.ignoreComposition},{arrow:()=>{var e,a;return[(a=(e=this.$slots).arrow)===null||a===void 0?void 0:a.call(e)]}})}),V($s,{ref:"followerRef",show:this.mergedShow,to:this.adjustedTo,teleportDisabled:this.adjustedTo===oo.tdkey,containerClass:this.namespace,width:this.consistentMenuWidth?"target":void 0,minWidth:"target",placement:this.placement},{default:()=>V(wo,{name:"fade-in-scale-up-transition",appear:this.isMounted,onAfterLeave:this.handleMenuAfterLeave},{default:()=>{var e,a,i;return this.mergedShow||this.displayDirective==="show"?((e=this.onRender)===null||e===void 0||e.call(this),De(V(tl,Object.assign({},this.menuProps,{ref:"menuRef",onResize:this.handleTriggerOrMenuResize,inlineThemeDisabled:this.inlineThemeDisabled,virtualScroll:this.consistentMenuWidth&&this.virtualScroll,class:[`${this.mergedClsPrefix}-select-menu`,this.themeClass,(a=this.menuProps)===null||a===void 0?void 0:a.class],clsPrefix:this.mergedClsPrefix,focusable:!0,labelField:this.labelField,valueField:this.valueField,autoPending:!0,nodeProps:this.nodeProps,theme:this.mergedTheme.peers.InternalSelectMenu,themeOverrides:this.mergedTheme.peerOverrides.InternalSelectMenu,treeMate:this.treeMate,multiple:this.multiple,size:this.menuSize,renderOption:this.renderOption,renderLabel:this.renderLabel,value:this.mergedValue,style:[(i=this.menuProps)===null||i===void 0?void 0:i.style,this.cssVars],onToggle:this.handleToggle,onScroll:this.handleMenuScroll,onFocus:this.handleMenuFocus,onBlur:this.handleMenuBlur,onKeydown:this.handleMenuKeydown,onTabOut:this.handleMenuTabOut,onMousedown:this.handleMenuMousedown,show:this.mergedShow,showCheckmark:this.showCheckmark,resetMenuOnOptionsChange:this.resetMenuOnOptionsChange}),{empty:()=>{var t,n;return[(n=(t=this.$slots).empty)===null||n===void 0?void 0:n.call(t)]},header:()=>{var t,n;return[(n=(t=this.$slots).header)===null||n===void 0?void 0:n.call(t)]},action:()=>{var t,n;return[(n=(t=this.$slots).action)===null||n===void 0?void 0:n.call(t)]}}),this.displayDirective==="show"?[[je,this.mergedShow],[Vo,this.handleMenuClickOutside,void 0,{capture:!0}]]:[[Vo,this.handleMenuClickOutside,void 0,{capture:!0}]])):null}})})]}))}}),Ed=xo({name:"Ellipsis",common:pn,peers:{Tooltip:Rc}}),Td=Ed,sl=we({name:"RadioButton",props:mc,setup:gc,render(){const{mergedClsPrefix:e}=this;return V("label",{class:[`${e}-radio-button`,this.mergedDisabled&&`${e}-radio-button--disabled`,this.renderSafeChecked&&`${e}-radio-button--checked`,this.focus&&[`${e}-radio-button--focus`]]},V("input",{ref:"inputRef",type:"radio",class:`${e}-radio-input`,value:this.value,name:this.mergedName,checked:this.renderSafeChecked,disabled:this.mergedDisabled,onChange:this.handleRadioInputChange,onFocus:this.handleRadioInputFocus,onBlur:this.handleRadioInputBlur}),V("div",{class:`${e}-radio-button__state-border`}),Ri(this.$slots.default,a=>!a&&!this.label?null:V("div",{ref:"labelRef",class:`${e}-radio__label`},a||this.label)))}}),Rd=ue("ellipsis",{overflow:"hidden"},[Tn("line-clamp",`
 white-space: nowrap;
 display: inline-block;
 vertical-align: bottom;
 max-width: 100%;
 `),xe("line-clamp",`
 display: -webkit-inline-box;
 -webkit-box-orient: vertical;
 `),xe("cursor-pointer",`
 cursor: pointer;
 `)]);function aa(e){return`${e}-ellipsis--line-clamp`}function la(e,a){return`${e}-ellipsis--cursor-${a}`}const Ad=Object.assign(Object.assign({},Qe.props),{expandTrigger:String,lineClamp:[Number,String],tooltip:{type:[Boolean,Object],default:!0}}),ul=we({name:"Ellipsis",inheritAttrs:!1,props:Ad,slots:Object,setup(e,{slots:a,attrs:i}){const t=zs(),n=Qe("Ellipsis","-ellipsis",Rd,Td,e,t),h=te(null),o=te(null),l=te(null),s=te(!1),p=fe(()=>{const{lineClamp:g}=e,{value:y}=s;return g!==void 0?{textOverflow:"","-webkit-line-clamp":y?"":g}:{textOverflow:y?"":"ellipsis","-webkit-line-clamp":""}});function f(){let g=!1;const{value:y}=s;if(y)return!0;const{value:c}=h;if(c){const{lineClamp:m}=e;if(d(c),m!==void 0)g=c.scrollHeight<=c.offsetHeight;else{const{value:r}=o;r&&(g=r.getBoundingClientRect().width<=c.getBoundingClientRect().width)}_(c,g)}return g}const v=fe(()=>e.expandTrigger==="click"?()=>{var g;const{value:y}=s;y&&((g=l.value)===null||g===void 0||g.setShow(!1)),s.value=!y}:void 0);Fs(()=>{var g;e.tooltip&&((g=l.value)===null||g===void 0||g.setShow(!1))});const u=()=>V("span",Object.assign({},sr(i,{class:[`${t.value}-ellipsis`,e.lineClamp!==void 0?aa(t.value):void 0,e.expandTrigger==="click"?la(t.value,"pointer"):void 0],style:p.value}),{ref:"triggerRef",onClick:v.value,onMouseenter:e.expandTrigger==="click"?f:void 0}),e.lineClamp?a:V("span",{ref:"triggerInnerRef"},a));function d(g){if(!g)return;const y=p.value,c=aa(t.value);e.lineClamp!==void 0?b(g,c,"add"):b(g,c,"remove");for(const m in y)g.style[m]!==y[m]&&(g.style[m]=y[m])}function _(g,y){const c=la(t.value,"pointer");e.expandTrigger==="click"&&!y?b(g,c,"add"):b(g,c,"remove")}function b(g,y,c){c==="add"?g.classList.contains(y)||g.classList.add(y):g.classList.contains(y)&&g.classList.remove(y)}return{mergedTheme:n,triggerRef:h,triggerInnerRef:o,tooltipRef:l,handleClick:v,renderTrigger:u,getTooltipDisabled:f}},render(){var e;const{tooltip:a,renderTrigger:i,$slots:t}=this;if(a){const{mergedTheme:n}=this;return V(Ga,Object.assign({ref:"tooltipRef",placement:"top"},a,{getDisabled:this.getTooltipDisabled,theme:n.peers.Tooltip,themeOverrides:n.peerOverrides.Tooltip}),{trigger:i,default:(e=t.tooltip)!==null&&e!==void 0?e:t.default})}else return i()}}),Pd={title:String,headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],bodyClass:String,bodyStyle:[Object,String],bodyContentClass:String,bodyContentStyle:[Object,String],nativeScrollbar:{type:Boolean,default:!0},scrollbarProps:Object,closable:Boolean},Md=we({name:"DrawerContent",props:Pd,slots:Object,setup(){const e=Tt(qs,null);e||An("drawer-content","`n-drawer-content` must be placed inside `n-drawer`.");const{doUpdateShow:a}=e;function i(){a(!1)}return{handleCloseClick:i,mergedTheme:e.mergedThemeRef,mergedClsPrefix:e.mergedClsPrefixRef}},render(){const{title:e,mergedClsPrefix:a,nativeScrollbar:i,mergedTheme:t,bodyClass:n,bodyStyle:h,bodyContentClass:o,bodyContentStyle:l,headerClass:s,headerStyle:p,footerClass:f,footerStyle:v,scrollbarProps:u,closable:d,$slots:_}=this;return V("div",{role:"none",class:[`${a}-drawer-content`,i&&`${a}-drawer-content--native-scrollbar`]},_.header||e||d?V("div",{class:[`${a}-drawer-header`,s],style:p,role:"none"},V("div",{class:`${a}-drawer-header__main`,role:"heading","aria-level":"1"},_.header!==void 0?_.header():e),d&&V(Us,{onClick:this.handleCloseClick,clsPrefix:a,class:`${a}-drawer-header__close`,absolute:!0})):null,i?V("div",{class:[`${a}-drawer-body`,n],style:h,role:"none"},V("div",{class:[`${a}-drawer-body-content-wrapper`,o],style:l,role:"none"},_)):V(Aa,Object.assign({themeOverrides:t.peerOverrides.Scrollbar,theme:t.peers.Scrollbar},u,{class:`${a}-drawer-body`,contentClass:[`${a}-drawer-body-content-wrapper`,o],contentStyle:l}),_),_.footer?V("div",{class:[`${a}-drawer-footer`,f],style:v,role:"none"},_.footer()):null)}});function Ld(){return Ws}const Nd=xo({name:"DynamicInput",common:pn,peers:{Input:Hs,Button:Vs},self:Ld}),Id=Nd,Lo=Yn("n-dynamic-input"),$d=we({name:"DynamicInputInputPreset",props:{clsPrefix:{type:String,required:!0},value:{type:String,default:""},disabled:Boolean,parentPath:String,path:String,onUpdateValue:{type:Function,required:!0}},setup(){const{mergedThemeRef:e,placeholderRef:a}=Tt(Lo);return{mergedTheme:e,placeholder:a}},render(){const{mergedTheme:e,placeholder:a,value:i,clsPrefix:t,onUpdateValue:n,disabled:h}=this;return V("div",{class:`${t}-dynamic-input-preset-input`},V(Je,{theme:e.peers.Input,"theme-overrides":e.peerOverrides.Input,value:i,placeholder:a,onUpdateValue:n,disabled:h}))}}),jd=we({name:"DynamicInputPairPreset",props:{clsPrefix:{type:String,required:!0},value:{type:Object,default:()=>({key:"",value:""})},disabled:Boolean,parentPath:String,path:String,onUpdateValue:{type:Function,required:!0}},setup(e){const{mergedThemeRef:a,keyPlaceholderRef:i,valuePlaceholderRef:t}=Tt(Lo);return{mergedTheme:a,keyPlaceholder:i,valuePlaceholder:t,handleKeyInput(n){e.onUpdateValue({key:n,value:e.value.value})},handleValueInput(n){e.onUpdateValue({key:e.value.key,value:n})}}},render(){const{mergedTheme:e,keyPlaceholder:a,valuePlaceholder:i,value:t,clsPrefix:n,disabled:h}=this;return V("div",{class:`${n}-dynamic-input-preset-pair`},V(Je,{theme:e.peers.Input,"theme-overrides":e.peerOverrides.Input,value:t.key,class:`${n}-dynamic-input-pair-input`,placeholder:a,onUpdateValue:this.handleKeyInput,disabled:h}),V(Je,{theme:e.peers.Input,"theme-overrides":e.peerOverrides.Input,value:t.value,class:`${n}-dynamic-input-pair-input`,placeholder:i,onUpdateValue:this.handleValueInput,disabled:h}))}}),Bd=ue("dynamic-input",{width:"100%"},[ue("dynamic-input-item",`
 margin-bottom: 10px;
 display: flex;
 flex-wrap: nowrap;
 `,[ue("dynamic-input-preset-input",{flex:1,alignItems:"center"}),ue("dynamic-input-preset-pair",`
 flex: 1;
 display: flex;
 align-items: center;
 `,[ue("dynamic-input-pair-input",[pe("&:first-child",{"margin-right":"12px"})])]),Ce("action",`
 align-self: flex-start;
 display: flex;
 justify-content: flex-end;
 flex-shrink: 0;
 flex-grow: 0;
 margin: var(--action-margin);
 `,[xe("icon",{cursor:"pointer"})]),pe("&:last-child",{marginBottom:0})]),ue("form-item",`
 padding-top: 0 !important;
 margin-right: 0 !important;
 `,[ue("form-item-blank",{paddingTop:"0 !important"})])]),Xi=new WeakMap,Dd=Object.assign(Object.assign({},Qe.props),{max:Number,min:{type:Number,default:0},value:Array,defaultValue:{type:Array,default:()=>[]},preset:{type:String,default:"input"},keyField:String,itemClass:String,itemStyle:[String,Object],keyPlaceholder:{type:String,default:""},valuePlaceholder:{type:String,default:""},placeholder:{type:String,default:""},disabled:Boolean,showSortButton:Boolean,createButtonProps:Object,onCreate:Function,onRemove:Function,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onClear:Function,onInput:[Function,Array]}),zd=we({name:"DynamicInput",props:Dd,setup(e,{slots:a}){const{mergedComponentPropsRef:i,mergedClsPrefixRef:t,mergedRtlRef:n,inlineThemeDisabled:h}=kt(),o=Tt(Gs,null),l=te(e.defaultValue),s=Le(e,"value"),p=Pi(s,l),f=Qe("DynamicInput","-dynamic-input",Bd,Id,e,t),v=fe(()=>{const{value:A}=p;if(Array.isArray(A)){const{max:S}=e;return S!==void 0&&A.length>=S}return!1}),u=fe(()=>{const{value:A}=p;return Array.isArray(A)?A.length<=e.min:!0}),d=fe(()=>{var A,S;return(S=(A=i==null?void 0:i.value)===null||A===void 0?void 0:A.DynamicInput)===null||S===void 0?void 0:S.buttonSize});function _(A){const{onInput:S,"onUpdate:value":k,onUpdateValue:E}=e;S&&st(S,A),k&&st(k,A),E&&st(E,A),l.value=A}function b(A,S){if(A==null||typeof A!="object")return S;const k=Zr(A)?Yr(A):A;let E=Xi.get(k);return E===void 0&&Xi.set(k,E=ao()),E}function g(A,S){const{value:k}=p,E=Array.from(k??[]),R=E[A];if(E[A]=S,R&&S&&typeof R=="object"&&typeof S=="object"){const B=Zr(R)?Yr(R):R,q=Zr(S)?Yr(S):S,K=Xi.get(B);K!==void 0&&Xi.set(q,K)}_(E)}function y(){c(-1)}function c(A){const{value:S}=p,{onCreate:k}=e,E=Array.from(S??[]);if(k)E.splice(A+1,0,k(A+1)),_(E);else if(a.default)E.splice(A+1,0,null),_(E);else switch(e.preset){case"input":E.splice(A+1,0,""),_(E);break;case"pair":E.splice(A+1,0,{key:"",value:""}),_(E);break}}function m(A){const{value:S}=p;if(!Array.isArray(S))return;const{min:k}=e;if(S.length<=k)return;const{onRemove:E}=e;E&&E(A);const R=Array.from(S);R.splice(A,1),_(R)}function r(A,S,k){if(S<0||k<0||S>=A.length||k>=A.length||S===k)return;const E=A[S];A[S]=A[k],A[k]=E}function w(A,S){const{value:k}=p;if(!Array.isArray(k))return;const E=Array.from(k);A==="up"&&r(E,S,S-1),A==="down"&&r(E,S,S+1),_(E)}rn(Lo,{mergedThemeRef:f,keyPlaceholderRef:Le(e,"keyPlaceholder"),valuePlaceholderRef:Le(e,"valuePlaceholder"),placeholderRef:Le(e,"placeholder")});const O=vn("DynamicInput",n,t),C=fe(()=>{const{self:{actionMargin:A,actionMarginRtl:S}}=f.value;return{"--action-margin":A,"--action-margin-rtl":S}}),L=h?Bt("dynamic-input",void 0,C,e):void 0;return{locale:Na("DynamicInput").localeRef,rtlEnabled:O,buttonSize:d,mergedClsPrefix:t,NFormItem:o,uncontrolledValue:l,mergedValue:p,insertionDisabled:v,removeDisabled:u,handleCreateClick:y,ensureKey:b,handleValueChange:g,remove:m,move:w,createItem:c,mergedTheme:f,cssVars:h?void 0:C,themeClass:L==null?void 0:L.themeClass,onRender:L==null?void 0:L.onRender}},render(){const{$slots:e,itemClass:a,buttonSize:i,mergedClsPrefix:t,mergedValue:n,locale:h,mergedTheme:o,keyField:l,itemStyle:s,preset:p,showSortButton:f,NFormItem:v,ensureKey:u,handleValueChange:d,remove:_,createItem:b,move:g,onRender:y,disabled:c}=this;return y==null||y(),V("div",{class:[`${t}-dynamic-input`,this.rtlEnabled&&`${t}-dynamic-input--rtl`,this.themeClass],style:this.cssVars},!Array.isArray(n)||n.length===0?V(Re,Object.assign({block:!0,ghost:!0,dashed:!0,size:i},this.createButtonProps,{disabled:this.insertionDisabled||c,theme:o.peers.Button,themeOverrides:o.peerOverrides.Button,onClick:this.handleCreateClick}),{default:()=>hn(e["create-button-default"],()=>[h.create]),icon:()=>hn(e["create-button-icon"],()=>[V(Pt,{clsPrefix:t},{default:()=>V(so,null)})])}):n.map((m,r)=>V("div",{key:l?m[l]:u(m,r),"data-key":l?m[l]:u(m,r),class:[`${t}-dynamic-input-item`,a],style:s},Wo(e.default,{value:n[r],index:r},()=>[p==="input"?V($d,{disabled:c,clsPrefix:t,value:n[r],parentPath:v?v.path.value:void 0,path:v!=null&&v.path.value?`${v.path.value}[${r}]`:void 0,onUpdateValue:w=>{d(r,w)}}):p==="pair"?V(jd,{disabled:c,clsPrefix:t,value:n[r],parentPath:v?v.path.value:void 0,path:v!=null&&v.path.value?`${v.path.value}[${r}]`:void 0,onUpdateValue:w=>{d(r,w)}}):null]),Wo(e.action,{value:n[r],index:r,create:b,remove:_,move:g},()=>[V("div",{class:`${t}-dynamic-input-item__action`},V(bd,{size:i},{default:()=>[V(Re,{disabled:this.removeDisabled||c,theme:o.peers.Button,themeOverrides:o.peerOverrides.Button,circle:!0,onClick:()=>{_(r)}},{icon:()=>V(Pt,{clsPrefix:t},{default:()=>V(ed,null)})}),V(Re,{disabled:this.insertionDisabled||c,circle:!0,theme:o.peers.Button,themeOverrides:o.peerOverrides.Button,onClick:()=>{b(r)}},{icon:()=>V(Pt,{clsPrefix:t},{default:()=>V(so,null)})}),f?V(Re,{disabled:r===0||c,circle:!0,theme:o.peers.Button,themeOverrides:o.peerOverrides.Button,onClick:()=>{g("up",r)}},{icon:()=>V(Pt,{clsPrefix:t},{default:()=>V(Yc,null)})}):null,f?V(Re,{disabled:r===n.length-1||c,circle:!0,theme:o.peers.Button,themeOverrides:o.peerOverrides.Button,onClick:()=>{g("down",r)}},{icon:()=>V(Pt,{clsPrefix:t},{default:()=>V(Zc,null)})}):null]}))]))))}});function Fd(){return Ks}const qd={name:"Flex",self:Fd},Ud=qd,Hd=Object.assign(Object.assign({},Qe.props),{align:String,justify:{type:String,default:"start"},inline:Boolean,vertical:Boolean,reverse:Boolean,size:{type:[String,Number,Array],default:"medium"},wrap:{type:Boolean,default:!0}}),sa=we({name:"Flex",props:Hd,setup(e){const{mergedClsPrefixRef:a,mergedRtlRef:i}=kt(e),t=Qe("Flex","-flex",void 0,Ud,e,a);return{rtlEnabled:vn("Flex",i,a),mergedClsPrefix:a,margin:fe(()=>{const{size:h}=e;if(Array.isArray(h))return{horizontal:h[0],vertical:h[1]};if(typeof h=="number")return{horizontal:h,vertical:h};const{self:{[yt("gap",h)]:o}}=t.value,{row:l,col:s}=Zs(o);return{horizontal:Ti(s),vertical:Ti(l)}})}},render(){const{vertical:e,reverse:a,align:i,inline:t,justify:n,margin:h,wrap:o,mergedClsPrefix:l,rtlEnabled:s}=this,p=$a(ja(this),!1);return p.length?V("div",{role:"none",class:[`${l}-flex`,s&&`${l}-flex--rtl`],style:{display:t?"inline-flex":"flex",flexDirection:(()=>e&&!a?"column":e&&a?"column-reverse":!e&&a?"row-reverse":"row")(),justifyContent:n,flexWrap:!o||e?"nowrap":"wrap",alignItems:i,gap:`${h.vertical}px ${h.horizontal}px`}},p):null}});function Vd(e){const{textColor3:a,infoColor:i,errorColor:t,successColor:n,warningColor:h,textColor1:o,textColor2:l,railColor:s,fontWeightStrong:p,fontSize:f}=e;return Object.assign(Object.assign({},Ys),{contentFontSize:f,titleFontWeight:p,circleBorder:`2px solid ${a}`,circleBorderInfo:`2px solid ${i}`,circleBorderError:`2px solid ${t}`,circleBorderSuccess:`2px solid ${n}`,circleBorderWarning:`2px solid ${h}`,iconColor:a,iconColorInfo:i,iconColorError:t,iconColorSuccess:n,iconColorWarning:h,titleTextColor:o,contentTextColor:l,metaTextColor:a,lineColor:s})}const Wd={name:"Timeline",common:pn,self:Vd},Gd=Wd,ua=1,cl=Yn("n-grid"),dl=1,Kd={span:{type:[Number,String],default:dl},offset:{type:[Number,String],default:0},suffix:Boolean,privateOffset:Number,privateSpan:Number,privateColStart:Number,privateShow:{type:Boolean,default:!0}},it=we({__GRID_ITEM__:!0,name:"GridItem",alias:["Gi"],props:Kd,setup(){const{isSsrRef:e,xGapRef:a,itemStyleRef:i,overflowRef:t,layoutShiftDisabledRef:n}=Tt(cl),h=Ba();return{overflow:t,itemStyle:i,layoutShiftDisabled:n,mergedXGap:fe(()=>cn(a.value||0)),deriveStyle:()=>{e.value;const{privateSpan:o=dl,privateShow:l=!0,privateColStart:s=void 0,privateOffset:p=0}=h.vnode.props,{value:f}=a,v=cn(f||0);return{display:l?"":"none",gridColumn:`${s??`span ${o}`} / span ${o}`,marginLeft:p?`calc((100% - (${o} - 1) * ${v}) / ${o} * ${p} + ${v} * ${p})`:""}}}},render(){var e,a;if(this.layoutShiftDisabled){const{span:i,offset:t,mergedXGap:n}=this;return V("div",{style:{gridColumn:`span ${i} / span ${i}`,marginLeft:t?`calc((100% - (${i} - 1) * ${n}) / ${i} * ${t} + ${n} * ${t})`:""}},this.$slots)}return V("div",{style:[this.itemStyle,this.deriveStyle()]},(a=(e=this.$slots).default)===null||a===void 0?void 0:a.call(e,{overflow:this.overflow}))}}),Zd={xs:0,s:640,m:1024,l:1280,xl:1536,xxl:1920},fl=24,Qr="__ssr__",Yd={layoutShiftDisabled:Boolean,responsive:{type:[String,Boolean],default:"self"},cols:{type:[Number,String],default:fl},itemResponsive:Boolean,collapsed:Boolean,collapsedRows:{type:Number,default:1},itemStyle:[Object,String],xGap:{type:[Number,String],default:0},yGap:{type:[Number,String],default:0}},Zt=we({name:"Grid",inheritAttrs:!1,props:Yd,setup(e){const{mergedClsPrefixRef:a,mergedBreakpointsRef:i}=kt(e),t=/^\d+$/,n=te(void 0),h=Wc((i==null?void 0:i.value)||Zd),o=un(()=>!!(e.itemResponsive||!t.test(e.cols.toString())||!t.test(e.xGap.toString())||!t.test(e.yGap.toString()))),l=fe(()=>{if(o.value)return e.responsive==="self"?n.value:h.value}),s=un(()=>{var y;return(y=Number(zn(e.cols.toString(),l.value)))!==null&&y!==void 0?y:fl}),p=un(()=>zn(e.xGap.toString(),l.value)),f=un(()=>zn(e.yGap.toString(),l.value)),v=y=>{n.value=y.contentRect.width},u=y=>{Js(v,y)},d=te(!1),_=fe(()=>{if(e.responsive==="self")return u}),b=te(!1),g=te();return wt(()=>{const{value:y}=g;y&&y.hasAttribute(Qr)&&(y.removeAttribute(Qr),b.value=!0)}),rn(cl,{layoutShiftDisabledRef:Le(e,"layoutShiftDisabled"),isSsrRef:b,itemStyleRef:Le(e,"itemStyle"),xGapRef:p,overflowRef:d}),{isSsr:!bo,contentEl:g,mergedClsPrefix:a,style:fe(()=>e.layoutShiftDisabled?{width:"100%",display:"grid",gridTemplateColumns:`repeat(${e.cols}, minmax(0, 1fr))`,columnGap:cn(e.xGap),rowGap:cn(e.yGap)}:{width:"100%",display:"grid",gridTemplateColumns:`repeat(${s.value}, minmax(0, 1fr))`,columnGap:cn(p.value),rowGap:cn(f.value)}),isResponsive:o,responsiveQuery:l,responsiveCols:s,handleResize:_,overflow:d}},render(){if(this.layoutShiftDisabled)return V("div",sr({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style},this.$attrs),this.$slots);const e=()=>{var a,i,t,n,h,o,l;this.overflow=!1;const s=$a(ja(this)),p=[],{collapsed:f,collapsedRows:v,responsiveCols:u,responsiveQuery:d}=this;s.forEach(c=>{var m,r,w,O,C;if(((m=c==null?void 0:c.type)===null||m===void 0?void 0:m.__GRID_ITEM__)!==!0)return;if(Kc(c)){const S=Go(c);S.props?S.props.privateShow=!1:S.props={privateShow:!1},p.push({child:S,rawChildSpan:0});return}c.dirs=((r=c.dirs)===null||r===void 0?void 0:r.filter(({dir:S})=>S!==je))||null,((w=c.dirs)===null||w===void 0?void 0:w.length)===0&&(c.dirs=null);const L=Go(c),A=Number((C=zn((O=L.props)===null||O===void 0?void 0:O.span,d))!==null&&C!==void 0?C:ua);A!==0&&p.push({child:L,rawChildSpan:A})});let _=0;const b=(a=p[p.length-1])===null||a===void 0?void 0:a.child;if(b!=null&&b.props){const c=(i=b.props)===null||i===void 0?void 0:i.suffix;c!==void 0&&c!==!1&&(_=Number((n=zn((t=b.props)===null||t===void 0?void 0:t.span,d))!==null&&n!==void 0?n:ua),b.props.privateSpan=_,b.props.privateColStart=u+1-_,b.props.privateShow=(h=b.props.privateShow)!==null&&h!==void 0?h:!0)}let g=0,y=!1;for(const{child:c,rawChildSpan:m}of p){if(y&&(this.overflow=!0),!y){const r=Number((l=zn((o=c.props)===null||o===void 0?void 0:o.offset,d))!==null&&l!==void 0?l:0),w=Math.min(m+r,u);if(c.props?(c.props.privateSpan=w,c.props.privateOffset=r):c.props={privateSpan:w,privateOffset:r},f){const O=g%u;w+O>u&&(g+=u-O),w+g+_>v*u?y=!0:g+=w}}y&&(c.props?c.props.privateShow!==!0&&(c.props.privateShow=!1):c.props={privateShow:!1})}return V("div",sr({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style,[Qr]:this.isSsr||void 0},this.$attrs),p.map(({child:c})=>c))};return this.isResponsive&&this.responsive==="self"?V(Xs,{onResize:this.handleResize},{default:e}):e()}}),Xd=pe([ue("list",`
 --n-merged-border-color: var(--n-border-color);
 --n-merged-color: var(--n-color);
 --n-merged-color-hover: var(--n-color-hover);
 margin: 0;
 font-size: var(--n-font-size);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 padding: 0;
 list-style-type: none;
 color: var(--n-text-color);
 background-color: var(--n-merged-color);
 `,[xe("show-divider",[ue("list-item",[pe("&:not(:last-child)",[Ce("divider",`
 background-color: var(--n-merged-border-color);
 `)])])]),xe("clickable",[ue("list-item",`
 cursor: pointer;
 `)]),xe("bordered",`
 border: 1px solid var(--n-merged-border-color);
 border-radius: var(--n-border-radius);
 `),xe("hoverable",[ue("list-item",`
 border-radius: var(--n-border-radius);
 `,[pe("&:hover",`
 background-color: var(--n-merged-color-hover);
 `,[Ce("divider",`
 background-color: transparent;
 `)])])]),xe("bordered, hoverable",[ue("list-item",`
 padding: 12px 20px;
 `),Ce("header, footer",`
 padding: 12px 20px;
 `)]),Ce("header, footer",`
 padding: 12px 0;
 box-sizing: border-box;
 transition: border-color .3s var(--n-bezier);
 `,[pe("&:not(:last-child)",`
 border-bottom: 1px solid var(--n-merged-border-color);
 `)]),ue("list-item",`
 position: relative;
 padding: 12px 0; 
 box-sizing: border-box;
 display: flex;
 flex-wrap: nowrap;
 align-items: center;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[Ce("prefix",`
 margin-right: 20px;
 flex: 0;
 `),Ce("suffix",`
 margin-left: 20px;
 flex: 0;
 `),Ce("main",`
 flex: 1;
 `),Ce("divider",`
 height: 1px;
 position: absolute;
 bottom: 0;
 left: 0;
 right: 0;
 background-color: transparent;
 transition: background-color .3s var(--n-bezier);
 pointer-events: none;
 `)])]),Da(ue("list",`
 --n-merged-color-hover: var(--n-color-hover-modal);
 --n-merged-color: var(--n-color-modal);
 --n-merged-border-color: var(--n-border-color-modal);
 `)),za(ue("list",`
 --n-merged-color-hover: var(--n-color-hover-popover);
 --n-merged-color: var(--n-color-popover);
 --n-merged-border-color: var(--n-border-color-popover);
 `))]),Jd=Object.assign(Object.assign({},Qe.props),{size:{type:String,default:"medium"},bordered:Boolean,clickable:Boolean,hoverable:Boolean,showDivider:{type:Boolean,default:!0}}),hl=Yn("n-list"),vr=we({name:"List",props:Jd,slots:Object,setup(e){const{mergedClsPrefixRef:a,inlineThemeDisabled:i,mergedRtlRef:t}=kt(e),n=vn("List",t,a),h=Qe("List","-list",Xd,Qs,e,a);rn(hl,{showDividerRef:Le(e,"showDivider"),mergedClsPrefixRef:a});const o=fe(()=>{const{common:{cubicBezierEaseInOut:s},self:{fontSize:p,textColor:f,color:v,colorModal:u,colorPopover:d,borderColor:_,borderColorModal:b,borderColorPopover:g,borderRadius:y,colorHover:c,colorHoverModal:m,colorHoverPopover:r}}=h.value;return{"--n-font-size":p,"--n-bezier":s,"--n-text-color":f,"--n-color":v,"--n-border-radius":y,"--n-border-color":_,"--n-border-color-modal":b,"--n-border-color-popover":g,"--n-color-modal":u,"--n-color-popover":d,"--n-color-hover":c,"--n-color-hover-modal":m,"--n-color-hover-popover":r}}),l=i?Bt("list",void 0,o,e):void 0;return{mergedClsPrefix:a,rtlEnabled:n,cssVars:i?void 0:o,themeClass:l==null?void 0:l.themeClass,onRender:l==null?void 0:l.onRender}},render(){var e;const{$slots:a,mergedClsPrefix:i,onRender:t}=this;return t==null||t(),V("ul",{class:[`${i}-list`,this.rtlEnabled&&`${i}-list--rtl`,this.bordered&&`${i}-list--bordered`,this.showDivider&&`${i}-list--show-divider`,this.hoverable&&`${i}-list--hoverable`,this.clickable&&`${i}-list--clickable`,this.themeClass],style:this.cssVars},a.header?V("div",{class:`${i}-list__header`},a.header()):null,(e=a.default)===null||e===void 0?void 0:e.call(a),a.footer?V("div",{class:`${i}-list__footer`},a.footer()):null)}}),pr=we({name:"ListItem",slots:Object,setup(){const e=Tt(hl,null);return e||An("list-item","`n-list-item` must be placed in `n-list`."),{showDivider:e.showDividerRef,mergedClsPrefix:e.mergedClsPrefixRef}},render(){const{$slots:e,mergedClsPrefix:a}=this;return V("li",{class:`${a}-list-item`},e.prefix?V("div",{class:`${a}-list-item__prefix`},e.prefix()):null,e.default?V("div",{class:`${a}-list-item__main`},e):null,e.suffix?V("div",{class:`${a}-list-item__suffix`},e.suffix()):null,this.showDivider&&V("div",{class:`${a}-list-item__divider`}))}});function Qd(e){return{borderRadius:e.borderRadius}}const ef={name:"QrCode",common:pn,self:Qd},tf=ef;var Rn;(function(e){class a{static encodeText(o,l){const s=e.QrSegment.makeSegments(o);return a.encodeSegments(s,l)}static encodeBinary(o,l){const s=e.QrSegment.makeBytes(o);return a.encodeSegments([s],l)}static encodeSegments(o,l,s=1,p=40,f=-1,v=!0){if(!(a.MIN_VERSION<=s&&s<=p&&p<=a.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");let u,d;for(u=s;;u++){const y=a.getNumDataCodewords(u,l)*8,c=n.getTotalBits(o,u);if(c<=y){d=c;break}if(u>=p)throw new RangeError("Data too long")}for(const y of[a.Ecc.MEDIUM,a.Ecc.QUARTILE,a.Ecc.HIGH])v&&d<=a.getNumDataCodewords(u,y)*8&&(l=y);const _=[];for(const y of o){i(y.mode.modeBits,4,_),i(y.numChars,y.mode.numCharCountBits(u),_);for(const c of y.getData())_.push(c)}const b=a.getNumDataCodewords(u,l)*8;i(0,Math.min(4,b-_.length),_),i(0,(8-_.length%8)%8,_);for(let y=236;_.length<b;y^=253)i(y,8,_);const g=[];for(;g.length*8<_.length;)g.push(0);return _.forEach((y,c)=>g[c>>>3]|=y<<7-(c&7)),new a(u,l,g,f)}constructor(o,l,s,p){if(this.version=o,this.errorCorrectionLevel=l,this.modules=[],this.isFunction=[],o<a.MIN_VERSION||o>a.MAX_VERSION)throw new RangeError("Version value out of range");if(p<-1||p>7)throw new RangeError("Mask value out of range");this.size=o*4+17;const f=[];for(let u=0;u<this.size;u++)f.push(!1);for(let u=0;u<this.size;u++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();const v=this.addEccAndInterleave(s);if(this.drawCodewords(v),p===-1){let u=1e9;for(let d=0;d<8;d++){this.applyMask(d),this.drawFormatBits(d);const _=this.getPenaltyScore();_<u&&(p=d,u=_),this.applyMask(d)}}this.mask=p,this.applyMask(p),this.drawFormatBits(p),this.isFunction=[]}getModule(o,l){return o>=0&&o<this.size&&l>=0&&l<this.size&&this.modules[l][o]}getModules(){return this.modules}drawFunctionPatterns(){for(let s=0;s<this.size;s++)this.setFunctionModule(6,s,s%2===0),this.setFunctionModule(s,6,s%2===0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const o=this.getAlignmentPatternPositions(),l=o.length;for(let s=0;s<l;s++)for(let p=0;p<l;p++)s===0&&p===0||s===0&&p===l-1||s===l-1&&p===0||this.drawAlignmentPattern(o[s],o[p]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(o){const l=this.errorCorrectionLevel.formatBits<<3|o;let s=l;for(let f=0;f<10;f++)s=s<<1^(s>>>9)*1335;const p=(l<<10|s)^21522;for(let f=0;f<=5;f++)this.setFunctionModule(8,f,t(p,f));this.setFunctionModule(8,7,t(p,6)),this.setFunctionModule(8,8,t(p,7)),this.setFunctionModule(7,8,t(p,8));for(let f=9;f<15;f++)this.setFunctionModule(14-f,8,t(p,f));for(let f=0;f<8;f++)this.setFunctionModule(this.size-1-f,8,t(p,f));for(let f=8;f<15;f++)this.setFunctionModule(8,this.size-15+f,t(p,f));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let o=this.version;for(let s=0;s<12;s++)o=o<<1^(o>>>11)*7973;const l=this.version<<12|o;for(let s=0;s<18;s++){const p=t(l,s),f=this.size-11+s%3,v=Math.floor(s/3);this.setFunctionModule(f,v,p),this.setFunctionModule(v,f,p)}}drawFinderPattern(o,l){for(let s=-4;s<=4;s++)for(let p=-4;p<=4;p++){const f=Math.max(Math.abs(p),Math.abs(s)),v=o+p,u=l+s;v>=0&&v<this.size&&u>=0&&u<this.size&&this.setFunctionModule(v,u,f!==2&&f!==4)}}drawAlignmentPattern(o,l){for(let s=-2;s<=2;s++)for(let p=-2;p<=2;p++)this.setFunctionModule(o+p,l+s,Math.max(Math.abs(p),Math.abs(s))!==1)}setFunctionModule(o,l,s){this.modules[l][o]=s,this.isFunction[l][o]=!0}addEccAndInterleave(o){const l=this.version,s=this.errorCorrectionLevel;if(o.length!==a.getNumDataCodewords(l,s))throw new RangeError("Invalid argument");const p=a.NUM_ERROR_CORRECTION_BLOCKS[s.ordinal][l],f=a.ECC_CODEWORDS_PER_BLOCK[s.ordinal][l],v=Math.floor(a.getNumRawDataModules(l)/8),u=p-v%p,d=Math.floor(v/p),_=[],b=a.reedSolomonComputeDivisor(f);for(let y=0,c=0;y<p;y++){const m=o.slice(c,c+d-f+(y<u?0:1));c+=m.length;const r=a.reedSolomonComputeRemainder(m,b);y<u&&m.push(0),_.push(m.concat(r))}const g=[];for(let y=0;y<_[0].length;y++)_.forEach((c,m)=>{(y!==d-f||m>=u)&&g.push(c[y])});return g}drawCodewords(o){if(o.length!==Math.floor(a.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let l=0;for(let s=this.size-1;s>=1;s-=2){s===6&&(s=5);for(let p=0;p<this.size;p++)for(let f=0;f<2;f++){const v=s-f,d=(s+1&2)===0?this.size-1-p:p;!this.isFunction[d][v]&&l<o.length*8&&(this.modules[d][v]=t(o[l>>>3],7-(l&7)),l++)}}}applyMask(o){if(o<0||o>7)throw new RangeError("Mask value out of range");for(let l=0;l<this.size;l++)for(let s=0;s<this.size;s++){let p;switch(o){case 0:p=(s+l)%2===0;break;case 1:p=l%2===0;break;case 2:p=s%3===0;break;case 3:p=(s+l)%3===0;break;case 4:p=(Math.floor(s/3)+Math.floor(l/2))%2===0;break;case 5:p=s*l%2+s*l%3===0;break;case 6:p=(s*l%2+s*l%3)%2===0;break;case 7:p=((s+l)%2+s*l%3)%2===0;break;default:throw new Error("Unreachable")}!this.isFunction[l][s]&&p&&(this.modules[l][s]=!this.modules[l][s])}}getPenaltyScore(){let o=0;for(let f=0;f<this.size;f++){let v=!1,u=0;const d=[0,0,0,0,0,0,0];for(let _=0;_<this.size;_++)this.modules[f][_]===v?(u++,u===5?o+=a.PENALTY_N1:u>5&&o++):(this.finderPenaltyAddHistory(u,d),v||(o+=this.finderPenaltyCountPatterns(d)*a.PENALTY_N3),v=this.modules[f][_],u=1);o+=this.finderPenaltyTerminateAndCount(v,u,d)*a.PENALTY_N3}for(let f=0;f<this.size;f++){let v=!1,u=0;const d=[0,0,0,0,0,0,0];for(let _=0;_<this.size;_++)this.modules[_][f]===v?(u++,u===5?o+=a.PENALTY_N1:u>5&&o++):(this.finderPenaltyAddHistory(u,d),v||(o+=this.finderPenaltyCountPatterns(d)*a.PENALTY_N3),v=this.modules[_][f],u=1);o+=this.finderPenaltyTerminateAndCount(v,u,d)*a.PENALTY_N3}for(let f=0;f<this.size-1;f++)for(let v=0;v<this.size-1;v++){const u=this.modules[f][v];u===this.modules[f][v+1]&&u===this.modules[f+1][v]&&u===this.modules[f+1][v+1]&&(o+=a.PENALTY_N2)}let l=0;for(const f of this.modules)l=f.reduce((v,u)=>v+(u?1:0),l);const s=this.size*this.size,p=Math.ceil(Math.abs(l*20-s*10)/s)-1;return o+=p*a.PENALTY_N4,o}getAlignmentPatternPositions(){if(this.version===1)return[];{const o=Math.floor(this.version/7)+2,l=this.version===32?26:Math.ceil((this.version*4+4)/(o*2-2))*2,s=[6];for(let p=this.size-7;s.length<o;p-=l)s.splice(1,0,p);return s}}static getNumRawDataModules(o){if(o<a.MIN_VERSION||o>a.MAX_VERSION)throw new RangeError("Version number out of range");let l=(16*o+128)*o+64;if(o>=2){const s=Math.floor(o/7)+2;l-=(25*s-10)*s-55,o>=7&&(l-=36)}return l}static getNumDataCodewords(o,l){return Math.floor(a.getNumRawDataModules(o)/8)-a.ECC_CODEWORDS_PER_BLOCK[l.ordinal][o]*a.NUM_ERROR_CORRECTION_BLOCKS[l.ordinal][o]}static reedSolomonComputeDivisor(o){if(o<1||o>255)throw new RangeError("Degree out of range");const l=[];for(let p=0;p<o-1;p++)l.push(0);l.push(1);let s=1;for(let p=0;p<o;p++){for(let f=0;f<l.length;f++)l[f]=a.reedSolomonMultiply(l[f],s),f+1<l.length&&(l[f]^=l[f+1]);s=a.reedSolomonMultiply(s,2)}return l}static reedSolomonComputeRemainder(o,l){const s=l.map(p=>0);for(const p of o){const f=p^s.shift();s.push(0),l.forEach((v,u)=>s[u]^=a.reedSolomonMultiply(v,f))}return s}static reedSolomonMultiply(o,l){if(o>>>8||l>>>8)throw new RangeError("Byte out of range");let s=0;for(let p=7;p>=0;p--)s=s<<1^(s>>>7)*285,s^=(l>>>p&1)*o;return s}finderPenaltyCountPatterns(o){const l=o[1],s=l>0&&o[2]===l&&o[3]===l*3&&o[4]===l&&o[5]===l;return(s&&o[0]>=l*4&&o[6]>=l?1:0)+(s&&o[6]>=l*4&&o[0]>=l?1:0)}finderPenaltyTerminateAndCount(o,l,s){return o&&(this.finderPenaltyAddHistory(l,s),l=0),l+=this.size,this.finderPenaltyAddHistory(l,s),this.finderPenaltyCountPatterns(s)}finderPenaltyAddHistory(o,l){l[0]===0&&(o+=this.size),l.pop(),l.unshift(o)}}a.MIN_VERSION=1,a.MAX_VERSION=40,a.PENALTY_N1=3,a.PENALTY_N2=3,a.PENALTY_N3=40,a.PENALTY_N4=10,a.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],a.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=a;function i(h,o,l){if(o<0||o>31||h>>>o)throw new RangeError("Value out of range");for(let s=o-1;s>=0;s--)l.push(h>>>s&1)}function t(h,o){return(h>>>o&1)!==0}class n{static makeBytes(o){const l=[];for(const s of o)i(s,8,l);return new n(n.Mode.BYTE,o.length,l)}static makeNumeric(o){if(!n.isNumeric(o))throw new RangeError("String contains non-numeric characters");const l=[];for(let s=0;s<o.length;){const p=Math.min(o.length-s,3);i(Number.parseInt(o.substr(s,p),10),p*3+1,l),s+=p}return new n(n.Mode.NUMERIC,o.length,l)}static makeAlphanumeric(o){if(!n.isAlphanumeric(o))throw new RangeError("String contains unencodable characters in alphanumeric mode");const l=[];let s;for(s=0;s+2<=o.length;s+=2){let p=n.ALPHANUMERIC_CHARSET.indexOf(o.charAt(s))*45;p+=n.ALPHANUMERIC_CHARSET.indexOf(o.charAt(s+1)),i(p,11,l)}return s<o.length&&i(n.ALPHANUMERIC_CHARSET.indexOf(o.charAt(s)),6,l),new n(n.Mode.ALPHANUMERIC,o.length,l)}static makeSegments(o){return o===""?[]:n.isNumeric(o)?[n.makeNumeric(o)]:n.isAlphanumeric(o)?[n.makeAlphanumeric(o)]:[n.makeBytes(n.toUtf8ByteArray(o))]}static makeEci(o){const l=[];if(o<0)throw new RangeError("ECI assignment value out of range");if(o<128)i(o,8,l);else if(o<16384)i(2,2,l),i(o,14,l);else if(o<1e6)i(6,3,l),i(o,21,l);else throw new RangeError("ECI assignment value out of range");return new n(n.Mode.ECI,0,l)}static isNumeric(o){return n.NUMERIC_REGEX.test(o)}static isAlphanumeric(o){return n.ALPHANUMERIC_REGEX.test(o)}constructor(o,l,s){if(this.mode=o,this.numChars=l,this.bitData=s,l<0)throw new RangeError("Invalid argument");this.bitData=s.slice()}getData(){return this.bitData.slice()}static getTotalBits(o,l){let s=0;for(const p of o){const f=p.mode.numCharCountBits(l);if(p.numChars>=1<<f)return 1/0;s+=4+f+p.bitData.length}return s}static toUtf8ByteArray(o){o=encodeURI(o);const l=[];for(let s=0;s<o.length;s++)o.charAt(s)!=="%"?l.push(o.charCodeAt(s)):(l.push(Number.parseInt(o.substr(s+1,2),16)),s+=2);return l}}n.NUMERIC_REGEX=/^[0-9]*$/,n.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+./:-]*$/,n.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=n})(Rn||(Rn={}));(function(e){(function(a){class i{constructor(n,h){this.ordinal=n,this.formatBits=h}}i.LOW=new i(0,1),i.MEDIUM=new i(1,0),i.QUARTILE=new i(2,3),i.HIGH=new i(3,2),a.Ecc=i})(e.QrCode||(e.QrCode={}))})(Rn||(Rn={}));(function(e){(function(a){class i{constructor(n,h){this.modeBits=n,this.numBitsCharCount=h}numCharCountBits(n){return this.numBitsCharCount[Math.floor((n+7)/17)]}}i.NUMERIC=new i(1,[10,12,14]),i.ALPHANUMERIC=new i(2,[9,11,13]),i.BYTE=new i(4,[8,16,16]),i.KANJI=new i(8,[8,10,12]),i.ECI=new i(7,[0,0,0]),a.Mode=i})(e.QrSegment||(e.QrSegment={}))})(Rn||(Rn={}));const Si=Rn,nf=pe([ue("qr-code",`
 background: #fff;
 border-radius: var(--n-border-radius);
 display: inline-flex;
 `)]),rf={L:Si.QrCode.Ecc.LOW,M:Si.QrCode.Ecc.MEDIUM,Q:Si.QrCode.Ecc.QUARTILE,H:Si.QrCode.Ecc.HIGH},of=Object.assign(Object.assign({},Qe.props),{value:String,color:{type:String,default:"#000"},backgroundColor:{type:String,default:"#FFF"},iconSrc:String,iconSize:{type:Number,default:40},iconBackgroundColor:{type:String,default:"#FFF"},iconBorderRadius:{type:Number,default:4},size:{type:Number,default:100},padding:{type:[Number,String],default:12},errorCorrectionLevel:{type:String,default:"M"},type:{type:String,default:"canvas"}}),eo=2,af=we({name:"QrCode",props:of,setup(e){const{mergedClsPrefixRef:a,inlineThemeDisabled:i}=kt(e),t=Qe("QrCode","-qr-code",nf,tf,e,a),n=fe(()=>({"--n-border-radius":t.value.self.borderRadius})),h=i?Bt("qr-code",void 0,n,e):void 0,o=te(),l=fe(()=>{var u;const d=rf[e.errorCorrectionLevel];return Si.QrCode.encodeText((u=e.value)!==null&&u!==void 0?u:"-",d)});wt(()=>{const u=te(0);let d=null;Kn(()=>{e.type!=="svg"&&(u.value,s(l.value,e.size,e.color,e.backgroundColor,d?{icon:d,iconBorderRadius:e.iconBorderRadius,iconSize:e.iconSize,iconBackgroundColor:e.iconBackgroundColor}:null))}),Kn(()=>{if(e.type==="svg")return;const{iconSrc:_}=e;if(_){let b=!1;const g=new Image;return g.src=_,g.onload=()=>{b||(d=g,u.value++)},()=>{b=!0}}})});function s(u,d,_,b,g){const y=o.value;if(!y)return;const c=d*eo,m=u.size,r=c/m;y.width=c,y.height=c;const w=y.getContext("2d");if(w){w.clearRect(0,0,y.width,y.height);for(let O=0;O<u.size;O++)for(let C=0;C<u.size;C++){w.fillStyle=u.getModule(C,O)?_:b;const L=Math.floor(C*r),A=Math.ceil((C+1)*r),S=Math.floor(O*r),k=Math.ceil((O+1)*r);w.fillRect(L,S,A-L,k-S)}if(g){const{icon:O,iconBackgroundColor:C,iconBorderRadius:L,iconSize:A}=g,S=A*eo,k=(y.width-S)/2,E=(y.height-S)/2;w.fillStyle=C,w.beginPath(),w.roundRect(k,E,S,S,L*eo),w.fill();const R=O.width/O.height,B=R>=1?S:S*R,q=R<=1?S:S/R,K=k+(S-B)/2,W=E+(S-q)/2;w.drawImage(O,K,W,B,q)}}}function p(u,d=0){const _=[];return u.forEach((b,g)=>{let y=null;b.forEach((c,m)=>{if(!c&&y!==null){_.push(`M${y+d} ${g+d}h${m-y}v1H${y+d}z`),y=null;return}if(m===b.length-1){if(!c)return;y===null?_.push(`M${m+d},${g+d} h1v1H${m+d}z`):_.push(`M${y+d},${g+d} h${m+1-y}v1H${y+d}z`);return}c&&y===null&&(y=m)})}),_.join("")}function f(u,d,_){const b=u.getModules(),g=b.length,y=b;let c="";const m=`<path fill="transparent" d="M0,0 h${g}v${g}H0z" shape-rendering="crispEdges"></path>`,r=`<path fill="${e.color}" d="${p(y,0)}" shape-rendering="crispEdges"></path>`;let w="";if(_){const{iconSrc:O,iconSize:C}=_,A=Math.floor(d*.1),S=g/d,k=(C||A)*S,E=(C||A)*S,R=b.length/2-E/2,B=b.length/2-k/2;w+=`<image href="${O}" width="${E}" height="${k}" x="${R}" y="${B}" preserveAspectRatio="none"></image>`}return c+=m,c+=r,c+=w,{innerHtml:c,numCells:g}}const v=fe(()=>f(l.value,e.size,e.iconSrc?{iconSrc:e.iconSrc,iconBorderRadius:e.iconBorderRadius,iconSize:e.iconSize,iconBackgroundColor:e.iconBackgroundColor}:null));return{canvasRef:o,mergedClsPrefix:a,cssVars:i?void 0:n,themeClass:h==null?void 0:h.themeClass,svgInfo:v}},render(){const{mergedClsPrefix:e,backgroundColor:a,padding:i,cssVars:t,themeClass:n,size:h,type:o}=this;return V("div",{class:[`${e}-qr-code`,n],style:Object.assign({padding:typeof i=="number"?`${i}px`:i,backgroundColor:a,width:`${h}px`,height:`${h}px`},t)},o==="canvas"?V("canvas",{ref:"canvasRef",style:{width:`${h}px`,height:`${h}px`}}):V("svg",{height:h,width:h,viewBox:`0 0 ${this.svgInfo.numCells} ${this.svgInfo.numCells}`,role:"img",innerHTML:this.svgInfo.innerHtml}))}});function lf(e){const{heightSmall:a,heightMedium:i,heightLarge:t,borderRadius:n}=e;return{color:"#eee",colorEnd:"#ddd",borderRadius:n,heightSmall:a,heightMedium:i,heightLarge:t}}const sf={name:"Skeleton",common:pn,self:lf},uf=pe([ue("skeleton",`
 height: 1em;
 width: 100%;
 transition:
 --n-color-start .3s var(--n-bezier),
 --n-color-end .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 animation: 2s skeleton-loading infinite cubic-bezier(0.36, 0, 0.64, 1);
 background-color: var(--n-color-start);
 `),pe("@keyframes skeleton-loading",`
 0% {
 background: var(--n-color-start);
 }
 40% {
 background: var(--n-color-end);
 }
 80% {
 background: var(--n-color-start);
 }
 100% {
 background: var(--n-color-start);
 }
 `)]),cf=Object.assign(Object.assign({},Qe.props),{text:Boolean,round:Boolean,circle:Boolean,height:[String,Number],width:[String,Number],size:String,repeat:{type:Number,default:1},animated:{type:Boolean,default:!0},sharp:{type:Boolean,default:!0}}),to=we({name:"Skeleton",inheritAttrs:!1,props:cf,setup(e){Qa();const{mergedClsPrefixRef:a}=kt(e),i=Qe("Skeleton","-skeleton",uf,sf,e,a);return{mergedClsPrefix:a,style:fe(()=>{var t,n;const h=i.value,{common:{cubicBezierEaseInOut:o}}=h,l=h.self,{color:s,colorEnd:p,borderRadius:f}=l;let v;const{circle:u,sharp:d,round:_,width:b,height:g,size:y,text:c,animated:m}=e;y!==void 0&&(v=l[yt("height",y)]);const r=u?(t=b??g)!==null&&t!==void 0?t:v:b,w=(n=u?b??g:g)!==null&&n!==void 0?n:v;return{display:c?"inline-block":"",verticalAlign:c?"-0.125em":"",borderRadius:u?"50%":_?"4096px":d?"":f,width:typeof r=="number"?cn(r):r,height:typeof w=="number"?cn(w):w,animation:m?"":"none","--n-bezier":o,"--n-color-start":s,"--n-color-end":p}})}},render(){const{repeat:e,style:a,mergedClsPrefix:i,$attrs:t}=this,n=V("div",sr({class:`${i}-skeleton`,style:a},t));return e>1?V(Te,null,eu(e,null).map(h=>[n,`
`])):n}});function df(e){const{primaryColorHover:a,borderColor:i}=e;return{resizableTriggerColorHover:a,resizableTriggerColor:i}}const ff={name:"Split",common:pn,self:df},hf=ff,vf=ue("split",`
 display: flex;
 width: 100%;
 height: 100%;
`,[xe("horizontal",`
 flex-direction: row;
 `),xe("vertical",`
 flex-direction: column;
 `),ue("split-pane-1",`
 overflow: hidden;
 `),ue("split-pane-2",`
 overflow: hidden;
 flex: 1;
 `),Ce("resize-trigger",`
 background-color: var(--n-resize-trigger-color);
 transition: background-color .3s var(--n-bezier);
 `,[xe("hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `),pe("&:hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `)])]),pf=Object.assign(Object.assign({},Qe.props),{direction:{type:String,default:"horizontal"},resizeTriggerSize:{type:Number,default:3},disabled:Boolean,defaultSize:{type:[String,Number],default:.5},"onUpdate:size":[Function,Array],onUpdateSize:[Function,Array],size:[String,Number],min:{type:[String,Number],default:0},max:{type:[String,Number],default:1},pane1Class:String,pane1Style:[Object,String],pane2Class:String,pane2Style:[Object,String],onDragStart:Function,onDragMove:Function,onDragEnd:Function,watchProps:Array}),mf=we({name:"Split",props:pf,slots:Object,setup(e){var a;const{mergedClsPrefixRef:i,inlineThemeDisabled:t}=kt(e),n=Qe("Split","-split",vf,hf,e,i),h=fe(()=>{const{common:{cubicBezierEaseInOut:m},self:{resizableTriggerColor:r,resizableTriggerColorHover:w}}=n.value;return{"--n-bezier":m,"--n-resize-trigger-color":r,"--n-resize-trigger-color-hover":w}}),o=te(null),l=te(!1),s=Le(e,"size"),p=te(e.defaultSize);!((a=e.watchProps)===null||a===void 0)&&a.includes("defaultSize")&&Kn(()=>p.value=e.defaultSize);const f=m=>{const r=e["onUpdate:size"];e.onUpdateSize&&st(e.onUpdateSize,m),r&&st(r,m),p.value=m},v=Pi(s,p),u=fe(()=>{const m=v.value;if(typeof m=="string")return{flex:`0 0 ${m}`};if(typeof m=="number"){const r=m*100;return{flex:`0 0 calc(${r}% - ${e.resizeTriggerSize*r/100}px)`}}}),d=fe(()=>e.direction==="horizontal"?{width:`${e.resizeTriggerSize}px`,height:"100%"}:{width:"100%",height:`${e.resizeTriggerSize}px`}),_=fe(()=>{const m=e.direction==="horizontal";return{width:m?`${e.resizeTriggerSize}px`:"",height:m?"":`${e.resizeTriggerSize}px`,cursor:e.direction==="horizontal"?"col-resize":"row-resize"}});let b=0;const g=m=>{m.preventDefault(),l.value=!0,e.onDragStart&&e.onDragStart(m);const r="mousemove",w="mouseup",O=A=>{y(A),e.onDragMove&&e.onDragMove(A)},C=()=>{Zo(r,document,O),Zo(w,document,C),l.value=!1,e.onDragEnd&&e.onDragEnd(m),document.body.style.cursor=""};document.body.style.cursor=_.value.cursor,Ko(r,document,O),Ko(w,document,C);const L=o.value;if(L){const A=L.getBoundingClientRect();e.direction==="horizontal"?b=m.clientX-A.left:b=A.top-m.clientY}y(m)};function y(m){var r,w;const O=(w=(r=o.value)===null||r===void 0?void 0:r.parentElement)===null||w===void 0?void 0:w.getBoundingClientRect();if(!O)return;const{direction:C}=e,L=O.width-e.resizeTriggerSize,A=O.height-e.resizeTriggerSize,S=C==="horizontal"?L:A,k=C==="horizontal"?m.clientX-O.left-b:m.clientY-O.top+b,{min:E,max:R}=e,B=typeof E=="string"?Ti(E):E*S,q=typeof R=="string"?Ti(R):R*S;let K=k;K=Math.max(K,B),K=Math.min(K,q,S),typeof v.value=="string"?f(`${K}px`):f(K/S)}const c=t?Bt("split",void 0,h,e):void 0;return{themeClass:c==null?void 0:c.themeClass,onRender:c==null?void 0:c.onRender,cssVars:t?void 0:h,resizeTriggerElRef:o,isDragging:l,mergedClsPrefix:i,resizeTriggerWrapperStyle:_,resizeTriggerStyle:d,handleMouseDown:g,firstPaneStyle:u}},render(){var e,a,i,t,n;return(e=this.onRender)===null||e===void 0||e.call(this),V("div",{class:[`${this.mergedClsPrefix}-split`,`${this.mergedClsPrefix}-split--${this.direction}`,this.themeClass],style:this.cssVars},V("div",{class:[`${this.mergedClsPrefix}-split-pane-1`,this.pane1Class],style:[this.firstPaneStyle,this.pane1Style]},(i=(a=this.$slots)[1])===null||i===void 0?void 0:i.call(a)),!this.disabled&&V("div",{ref:"resizeTriggerElRef",class:`${this.mergedClsPrefix}-split__resize-trigger-wrapper`,style:this.resizeTriggerWrapperStyle,onMousedown:this.handleMouseDown},hn(this.$slots["resize-trigger"],()=>[V("div",{style:this.resizeTriggerStyle,class:[`${this.mergedClsPrefix}-split__resize-trigger`,this.isDragging&&`${this.mergedClsPrefix}-split__resize-trigger--hover`]})])),V("div",{class:[`${this.mergedClsPrefix}-split-pane-2`,this.pane2Class],style:this.pane2Style},(n=(t=this.$slots)[2])===null||n===void 0?void 0:n.call(t)))}}),gf=pe([ue("table",`
 font-size: var(--n-font-size);
 font-variant-numeric: tabular-nums;
 line-height: var(--n-line-height);
 width: 100%;
 border-radius: var(--n-border-radius) var(--n-border-radius) 0 0;
 text-align: left;
 border-collapse: separate;
 border-spacing: 0;
 overflow: hidden;
 background-color: var(--n-td-color);
 border-color: var(--n-merged-border-color);
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 --n-merged-border-color: var(--n-border-color);
 `,[pe("th",`
 white-space: nowrap;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 text-align: inherit;
 padding: var(--n-th-padding);
 vertical-align: inherit;
 text-transform: none;
 border: 0px solid var(--n-merged-border-color);
 font-weight: var(--n-th-font-weight);
 color: var(--n-th-text-color);
 background-color: var(--n-th-color);
 border-bottom: 1px solid var(--n-merged-border-color);
 border-right: 1px solid var(--n-merged-border-color);
 `,[pe("&:last-child",`
 border-right: 0px solid var(--n-merged-border-color);
 `)]),pe("td",`
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 padding: var(--n-td-padding);
 color: var(--n-td-text-color);
 background-color: var(--n-td-color);
 border: 0px solid var(--n-merged-border-color);
 border-right: 1px solid var(--n-merged-border-color);
 border-bottom: 1px solid var(--n-merged-border-color);
 `,[pe("&:last-child",`
 border-right: 0px solid var(--n-merged-border-color);
 `)]),xe("bordered",`
 border: 1px solid var(--n-merged-border-color);
 border-radius: var(--n-border-radius);
 `,[pe("tr",[pe("&:last-child",[pe("td",`
 border-bottom: 0 solid var(--n-merged-border-color);
 `)])])]),xe("single-line",[pe("th",`
 border-right: 0px solid var(--n-merged-border-color);
 `),pe("td",`
 border-right: 0px solid var(--n-merged-border-color);
 `)]),xe("single-column",[pe("tr",[pe("&:not(:last-child)",[pe("td",`
 border-bottom: 0px solid var(--n-merged-border-color);
 `)])])]),xe("striped",[pe("tr:nth-of-type(even)",[pe("td","background-color: var(--n-td-color-striped)")])]),Tn("bottom-bordered",[pe("tr",[pe("&:last-child",[pe("td",`
 border-bottom: 0px solid var(--n-merged-border-color);
 `)])])])]),Da(ue("table",`
 background-color: var(--n-td-color-modal);
 --n-merged-border-color: var(--n-border-color-modal);
 `,[pe("th",`
 background-color: var(--n-th-color-modal);
 `),pe("td",`
 background-color: var(--n-td-color-modal);
 `)])),za(ue("table",`
 background-color: var(--n-td-color-popover);
 --n-merged-border-color: var(--n-border-color-popover);
 `,[pe("th",`
 background-color: var(--n-th-color-popover);
 `),pe("td",`
 background-color: var(--n-td-color-popover);
 `)]))]),yf=Object.assign(Object.assign({},Qe.props),{bordered:{type:Boolean,default:!0},bottomBordered:{type:Boolean,default:!0},singleLine:{type:Boolean,default:!0},striped:Boolean,singleColumn:Boolean,size:{type:String,default:"medium"}}),bf=we({name:"Table",props:yf,setup(e){const{mergedClsPrefixRef:a,inlineThemeDisabled:i,mergedRtlRef:t}=kt(e),n=Qe("Table","-table",gf,tu,e,a),h=vn("Table",t,a),o=fe(()=>{const{size:s}=e,{self:{borderColor:p,tdColor:f,tdColorModal:v,tdColorPopover:u,thColor:d,thColorModal:_,thColorPopover:b,thTextColor:g,tdTextColor:y,borderRadius:c,thFontWeight:m,lineHeight:r,borderColorModal:w,borderColorPopover:O,tdColorStriped:C,tdColorStripedModal:L,tdColorStripedPopover:A,[yt("fontSize",s)]:S,[yt("tdPadding",s)]:k,[yt("thPadding",s)]:E},common:{cubicBezierEaseInOut:R}}=n.value;return{"--n-bezier":R,"--n-td-color":f,"--n-td-color-modal":v,"--n-td-color-popover":u,"--n-td-text-color":y,"--n-border-color":p,"--n-border-color-modal":w,"--n-border-color-popover":O,"--n-border-radius":c,"--n-font-size":S,"--n-th-color":d,"--n-th-color-modal":_,"--n-th-color-popover":b,"--n-th-font-weight":m,"--n-th-text-color":g,"--n-line-height":r,"--n-td-padding":k,"--n-th-padding":E,"--n-td-color-striped":C,"--n-td-color-striped-modal":L,"--n-td-color-striped-popover":A}}),l=i?Bt("table",fe(()=>e.size[0]),o,e):void 0;return{rtlEnabled:h,mergedClsPrefix:a,cssVars:i?void 0:o,themeClass:l==null?void 0:l.themeClass,onRender:l==null?void 0:l.onRender}},render(){var e;const{mergedClsPrefix:a}=this;return(e=this.onRender)===null||e===void 0||e.call(this),V("table",{class:[`${a}-table`,this.themeClass,{[`${a}-table--rtl`]:this.rtlEnabled,[`${a}-table--bottom-bordered`]:this.bottomBordered,[`${a}-table--bordered`]:this.bordered,[`${a}-table--single-line`]:this.singleLine,[`${a}-table--single-column`]:this.singleColumn,[`${a}-table--striped`]:this.striped}],style:this.cssVars},this.$slots)}}),ca=1.25,_f=ue("timeline",`
 position: relative;
 width: 100%;
 display: flex;
 flex-direction: column;
 line-height: ${ca};
`,[xe("horizontal",`
 flex-direction: row;
 `,[pe(">",[ue("timeline-item",`
 flex-shrink: 0;
 padding-right: 40px;
 `,[xe("dashed-line-type",[pe(">",[ue("timeline-item-timeline",[Ce("line",`
 background-image: linear-gradient(90deg, var(--n-color-start), var(--n-color-start) 50%, transparent 50%, transparent 100%);
 background-size: 10px 1px;
 `)])])]),pe(">",[ue("timeline-item-content",`
 margin-top: calc(var(--n-icon-size) + 12px);
 `,[pe(">",[Ce("meta",`
 margin-top: 6px;
 margin-bottom: unset;
 `)])]),ue("timeline-item-timeline",`
 width: 100%;
 height: calc(var(--n-icon-size) + 12px);
 `,[Ce("line",`
 left: var(--n-icon-size);
 top: calc(var(--n-icon-size) / 2 - 1px);
 right: 0px;
 width: unset;
 height: 2px;
 `)])])])])]),xe("right-placement",[ue("timeline-item",[ue("timeline-item-content",`
 text-align: right;
 margin-right: calc(var(--n-icon-size) + 12px);
 `),ue("timeline-item-timeline",`
 width: var(--n-icon-size);
 right: 0;
 `)])]),xe("left-placement",[ue("timeline-item",[ue("timeline-item-content",`
 margin-left: calc(var(--n-icon-size) + 12px);
 `),ue("timeline-item-timeline",`
 left: 0;
 `)])]),ue("timeline-item",`
 position: relative;
 `,[pe("&:last-child",[ue("timeline-item-timeline",[Ce("line",`
 display: none;
 `)]),ue("timeline-item-content",[Ce("meta",`
 margin-bottom: 0;
 `)])]),ue("timeline-item-content",[Ce("title",`
 margin: var(--n-title-margin);
 font-size: var(--n-title-font-size);
 transition: color .3s var(--n-bezier);
 font-weight: var(--n-title-font-weight);
 color: var(--n-title-text-color);
 `),Ce("content",`
 transition: color .3s var(--n-bezier);
 font-size: var(--n-content-font-size);
 color: var(--n-content-text-color);
 `),Ce("meta",`
 transition: color .3s var(--n-bezier);
 font-size: 12px;
 margin-top: 6px;
 margin-bottom: 20px;
 color: var(--n-meta-text-color);
 `)]),xe("dashed-line-type",[ue("timeline-item-timeline",[Ce("line",`
 --n-color-start: var(--n-line-color);
 transition: --n-color-start .3s var(--n-bezier);
 background-color: transparent;
 background-image: linear-gradient(180deg, var(--n-color-start), var(--n-color-start) 50%, transparent 50%, transparent 100%);
 background-size: 1px 10px;
 `)])]),ue("timeline-item-timeline",`
 width: calc(var(--n-icon-size) + 12px);
 position: absolute;
 top: calc(var(--n-title-font-size) * ${ca} / 2 - var(--n-icon-size) / 2);
 height: 100%;
 `,[Ce("circle",`
 border: var(--n-circle-border);
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 width: var(--n-icon-size);
 height: var(--n-icon-size);
 border-radius: var(--n-icon-size);
 box-sizing: border-box;
 `),Ce("icon",`
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 display: flex;
 align-items: center;
 justify-content: center;
 `),Ce("line",`
 transition: background-color .3s var(--n-bezier);
 position: absolute;
 top: var(--n-icon-size);
 left: calc(var(--n-icon-size) / 2 - 1px);
 bottom: 0px;
 width: 2px;
 background-color: var(--n-line-color);
 `)])])]),wf=Object.assign(Object.assign({},Qe.props),{horizontal:Boolean,itemPlacement:{type:String,default:"left"},size:{type:String,default:"medium"},iconSize:Number}),vl=Yn("n-timeline"),pl=we({name:"Timeline",props:wf,setup(e,{slots:a}){const{mergedClsPrefixRef:i}=kt(e),t=Qe("Timeline","-timeline",_f,Gd,e,i);return rn(vl,{props:e,mergedThemeRef:t,mergedClsPrefixRef:i}),()=>{const{value:n}=i;return V("div",{class:[`${n}-timeline`,e.horizontal&&`${n}-timeline--horizontal`,`${n}-timeline--${e.size}-size`,!e.horizontal&&`${n}-timeline--${e.itemPlacement}-placement`]},a)}}}),kf={time:[String,Number],title:String,content:String,color:String,lineType:{type:String,default:"default"},type:{type:String,default:"default"}},ml=we({name:"TimelineItem",props:kf,slots:Object,setup(e){const a=Tt(vl);a||An("timeline-item","`n-timeline-item` must be placed inside `n-timeline`."),Qa();const{inlineThemeDisabled:i}=kt(),t=fe(()=>{const{props:{size:h,iconSize:o},mergedThemeRef:l}=a,{type:s}=e,{self:{titleTextColor:p,contentTextColor:f,metaTextColor:v,lineColor:u,titleFontWeight:d,contentFontSize:_,[yt("iconSize",h)]:b,[yt("titleMargin",h)]:g,[yt("titleFontSize",h)]:y,[yt("circleBorder",s)]:c,[yt("iconColor",s)]:m},common:{cubicBezierEaseInOut:r}}=l.value;return{"--n-bezier":r,"--n-circle-border":c,"--n-icon-color":m,"--n-content-font-size":_,"--n-content-text-color":f,"--n-line-color":u,"--n-meta-text-color":v,"--n-title-font-size":y,"--n-title-font-weight":d,"--n-title-margin":g,"--n-title-text-color":p,"--n-icon-size":nu(o)||b}}),n=i?Bt("timeline-item",fe(()=>{const{props:{size:h,iconSize:o}}=a,{type:l}=e;return`${h[0]}${o||"a"}${l[0]}`}),t,a.props):void 0;return{mergedClsPrefix:a.mergedClsPrefixRef,cssVars:i?void 0:t,themeClass:n==null?void 0:n.themeClass,onRender:n==null?void 0:n.onRender}},render(){const{mergedClsPrefix:e,color:a,onRender:i,$slots:t}=this;return i==null||i(),V("div",{class:[`${e}-timeline-item`,this.themeClass,`${e}-timeline-item--${this.type}-type`,`${e}-timeline-item--${this.lineType}-line-type`],style:this.cssVars},V("div",{class:`${e}-timeline-item-timeline`},V("div",{class:`${e}-timeline-item-timeline__line`}),Ri(t.icon,n=>n?V("div",{class:`${e}-timeline-item-timeline__icon`,style:{color:a}},n):V("div",{class:`${e}-timeline-item-timeline__circle`,style:{borderColor:a}}))),V("div",{class:`${e}-timeline-item-content`},Ri(t.header,n=>n||this.title?V("div",{class:`${e}-timeline-item-content__title`},n||this.title):null),V("div",{class:`${e}-timeline-item-content__content`},hn(t.default,()=>[this.content])),V("div",{class:`${e}-timeline-item-content__meta`},hn(t.footer,()=>[this.time]))))}}),Jn=Yn("n-upload"),xf=pe([ue("upload","width: 100%;",[xe("dragger-inside",[ue("upload-trigger",`
 display: block;
 `)]),xe("drag-over",[ue("upload-dragger",`
 border: var(--n-dragger-border-hover);
 `)])]),ue("upload-dragger",`
 cursor: pointer;
 box-sizing: border-box;
 width: 100%;
 text-align: center;
 border-radius: var(--n-border-radius);
 padding: 24px;
 opacity: 1;
 transition:
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background-color: var(--n-dragger-color);
 border: var(--n-dragger-border);
 `,[pe("&:hover",`
 border: var(--n-dragger-border-hover);
 `),xe("disabled",`
 cursor: not-allowed;
 `)]),ue("upload-trigger",`
 display: inline-block;
 box-sizing: border-box;
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[pe("+",[ue("upload-file-list","margin-top: 8px;")]),xe("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `),xe("image-card",`
 width: 96px;
 height: 96px;
 `,[ue("base-icon",`
 font-size: 24px;
 `),ue("upload-dragger",`
 padding: 0;
 height: 100%;
 width: 100%;
 display: flex;
 align-items: center;
 justify-content: center;
 `)])]),ue("upload-file-list",`
 line-height: var(--n-line-height);
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[pe("a, img","outline: none;"),xe("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `,[ue("upload-file","cursor: not-allowed;")]),xe("grid",`
 display: grid;
 grid-template-columns: repeat(auto-fill, 96px);
 grid-gap: 8px;
 margin-top: 0;
 `),ue("upload-file",`
 display: block;
 box-sizing: border-box;
 cursor: default;
 padding: 0px 12px 0 6px;
 transition: background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 `,[Yo(),ue("progress",[Yo({foldPadding:!0})]),pe("&:hover",`
 background-color: var(--n-item-color-hover);
 `,[ue("upload-file-info",[Ce("action",`
 opacity: 1;
 `)])]),xe("image-type",`
 border-radius: var(--n-border-radius);
 text-decoration: underline;
 text-decoration-color: #0000;
 `,[ue("upload-file-info",`
 padding-top: 0px;
 padding-bottom: 0px;
 width: 100%;
 height: 100%;
 display: flex;
 justify-content: space-between;
 align-items: center;
 padding: 6px 0;
 `,[ue("progress",`
 padding: 2px 0;
 margin-bottom: 0;
 `),Ce("name",`
 padding: 0 8px;
 `),Ce("thumbnail",`
 width: 32px;
 height: 32px;
 font-size: 28px;
 display: flex;
 justify-content: center;
 align-items: center;
 `,[pe("img",`
 width: 100%;
 `)])])]),xe("text-type",[ue("progress",`
 box-sizing: border-box;
 padding-bottom: 6px;
 margin-bottom: 6px;
 `)]),xe("image-card-type",`
 position: relative;
 width: 96px;
 height: 96px;
 border: var(--n-item-border-image-card);
 border-radius: var(--n-border-radius);
 padding: 0;
 display: flex;
 align-items: center;
 justify-content: center;
 transition: border-color .3s var(--n-bezier), background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 overflow: hidden;
 `,[ue("progress",`
 position: absolute;
 left: 8px;
 bottom: 8px;
 right: 8px;
 width: unset;
 `),ue("upload-file-info",`
 padding: 0;
 width: 100%;
 height: 100%;
 `,[Ce("thumbnail",`
 width: 100%;
 height: 100%;
 display: flex;
 flex-direction: column;
 align-items: center;
 justify-content: center;
 font-size: 36px;
 `,[pe("img",`
 width: 100%;
 `)])]),pe("&::before",`
 position: absolute;
 z-index: 1;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 opacity: 0;
 transition: opacity .2s var(--n-bezier);
 content: "";
 `),pe("&:hover",[pe("&::before","opacity: 1;"),ue("upload-file-info",[Ce("thumbnail","opacity: .12;")])])]),xe("error-status",[pe("&:hover",`
 background-color: var(--n-item-color-hover-error);
 `),ue("upload-file-info",[Ce("name","color: var(--n-item-text-color-error);"),Ce("thumbnail","color: var(--n-item-text-color-error);")]),xe("image-card-type",`
 border: var(--n-item-border-image-card-error);
 `)]),xe("with-url",`
 cursor: pointer;
 `,[ue("upload-file-info",[Ce("name",`
 color: var(--n-item-text-color-success);
 text-decoration-color: var(--n-item-text-color-success);
 `,[pe("a",`
 text-decoration: underline;
 `)])])]),ue("upload-file-info",`
 position: relative;
 padding-top: 6px;
 padding-bottom: 6px;
 display: flex;
 flex-wrap: nowrap;
 `,[Ce("thumbnail",`
 font-size: 18px;
 opacity: 1;
 transition: opacity .2s var(--n-bezier);
 color: var(--n-item-icon-color);
 `,[ue("base-icon",`
 margin-right: 2px;
 vertical-align: middle;
 transition: color .3s var(--n-bezier);
 `)]),Ce("action",`
 padding-top: inherit;
 padding-bottom: inherit;
 position: absolute;
 right: 0;
 top: 0;
 bottom: 0;
 width: 80px;
 display: flex;
 align-items: center;
 transition: opacity .2s var(--n-bezier);
 justify-content: flex-end;
 opacity: 0;
 `,[ue("button",[pe("&:not(:last-child)",{marginRight:"4px"}),ue("base-icon",[pe("svg",[iu()])])]),xe("image-type",`
 position: relative;
 max-width: 80px;
 width: auto;
 `),xe("image-card-type",`
 z-index: 2;
 position: absolute;
 width: 100%;
 height: 100%;
 left: 0;
 right: 0;
 bottom: 0;
 top: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 `)]),Ce("name",`
 color: var(--n-item-text-color);
 flex: 1;
 display: flex;
 justify-content: center;
 text-overflow: ellipsis;
 overflow: hidden;
 flex-direction: column;
 text-decoration-color: #0000;
 font-size: var(--n-font-size);
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier); 
 `,[pe("a",`
 color: inherit;
 text-decoration: underline;
 `)])])])]),ue("upload-file-input",`
 display: none;
 width: 0;
 height: 0;
 opacity: 0;
 `)]),gl="__UPLOAD_DRAGGER__",Cf=we({name:"UploadDragger",[gl]:!0,setup(e,{slots:a}){const i=Tt(Jn,null);return i||An("upload-dragger","`n-upload-dragger` must be placed inside `n-upload`."),()=>{const{mergedClsPrefixRef:{value:t},mergedDisabledRef:{value:n},maxReachedRef:{value:h}}=i;return V("div",{class:[`${t}-upload-dragger`,(n||h)&&`${t}-upload-dragger--disabled`]},a)}}}),Sf=V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},V("g",{fill:"none"},V("path",{d:"M21.75 3A3.25 3.25 0 0 1 25 6.25v15.5A3.25 3.25 0 0 1 21.75 25H6.25A3.25 3.25 0 0 1 3 21.75V6.25A3.25 3.25 0 0 1 6.25 3h15.5zm.583 20.4l-7.807-7.68a.75.75 0 0 0-.968-.07l-.084.07l-7.808 7.68c.183.065.38.1.584.1h15.5c.204 0 .4-.035.583-.1l-7.807-7.68l7.807 7.68zM21.75 4.5H6.25A1.75 1.75 0 0 0 4.5 6.25v15.5c0 .208.036.408.103.593l7.82-7.692a2.25 2.25 0 0 1 3.026-.117l.129.117l7.82 7.692c.066-.185.102-.385.102-.593V6.25a1.75 1.75 0 0 0-1.75-1.75zm-3.25 3a2.5 2.5 0 1 1 0 5a2.5 2.5 0 0 1 0-5zm0 1.5a1 1 0 1 0 0 2a1 1 0 0 0 0-2z",fill:"currentColor"}))),Of=V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},V("g",{fill:"none"},V("path",{d:"M6.4 2A2.4 2.4 0 0 0 4 4.4v19.2A2.4 2.4 0 0 0 6.4 26h15.2a2.4 2.4 0 0 0 2.4-2.4V11.578c0-.729-.29-1.428-.805-1.944l-6.931-6.931A2.4 2.4 0 0 0 14.567 2H6.4zm-.9 2.4a.9.9 0 0 1 .9-.9H14V10a2 2 0 0 0 2 2h6.5v11.6a.9.9 0 0 1-.9.9H6.4a.9.9 0 0 1-.9-.9V4.4zm16.44 6.1H16a.5.5 0 0 1-.5-.5V4.06l6.44 6.44z",fill:"currentColor"}))),Ef=we({name:"UploadProgress",props:{show:Boolean,percentage:{type:Number,required:!0},status:{type:String,required:!0}},setup(){return{mergedTheme:Tt(Jn).mergedThemeRef}},render(){return V(ko,null,{default:()=>this.show?V(Xa,{type:"line",showIndicator:!1,percentage:this.percentage,status:this.status,height:2,theme:this.mergedTheme.peers.Progress,themeOverrides:this.mergedTheme.peerOverrides.Progress}):null})}});var ho=globalThis&&globalThis.__awaiter||function(e,a,i,t){function n(h){return h instanceof i?h:new i(function(o){o(h)})}return new(i||(i=Promise))(function(h,o){function l(f){try{p(t.next(f))}catch(v){o(v)}}function s(f){try{p(t.throw(f))}catch(v){o(v)}}function p(f){f.done?h(f.value):n(f.value).then(l,s)}p((t=t.apply(e,a||[])).next())})};function yl(e){return e.includes("image/")}function da(e=""){const a=e.split("/"),t=a[a.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(t)||[""])[0]}const fa=/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i,bl=e=>{if(e.type)return yl(e.type);const a=da(e.name||"");if(fa.test(a))return!0;const i=e.thumbnailUrl||e.url||"",t=da(i);return!!(/^data:image\//.test(i)||fa.test(t))};function Tf(e){return ho(this,void 0,void 0,function*(){return yield new Promise(a=>{if(!e.type||!yl(e.type)){a("");return}a(window.URL.createObjectURL(e))})})}const Rf=bo&&window.FileReader&&window.File;function Af(e){return e.isDirectory}function Pf(e){return e.isFile}function Mf(e,a){return ho(this,void 0,void 0,function*(){const i=[];function t(n){return ho(this,void 0,void 0,function*(){for(const h of n)if(h){if(a&&Af(h)){const o=h.createReader();let l=[],s;try{do s=yield new Promise((p,f)=>{o.readEntries(p,f)}),l=l.concat(s);while(s.length>0)}catch(p){Xo("upload","error happens when handling directory upload",p)}yield t(l)}else if(Pf(h))try{const o=yield new Promise((l,s)=>{h.file(l,s)});i.push({file:o,entry:h,source:"dnd"})}catch(o){Xo("upload","error happens when handling file upload",o)}}})}return yield t(e),i})}function Ni(e){const{id:a,name:i,percentage:t,status:n,url:h,file:o,thumbnailUrl:l,type:s,fullPath:p,batchId:f}=e;return{id:a,name:i,percentage:t??null,status:n,url:h??null,file:o??null,thumbnailUrl:l??null,type:s??null,fullPath:p??null,batchId:f??null}}function Lf(e,a,i){return e=e.toLowerCase(),a=a.toLocaleLowerCase(),i=i.toLocaleLowerCase(),i.split(",").map(n=>n.trim()).filter(Boolean).some(n=>{if(n.startsWith(".")){if(e.endsWith(n))return!0}else if(n.includes("/")){const[h,o]=a.split("/"),[l,s]=n.split("/");if((l==="*"||h&&l&&l===h)&&(s==="*"||o&&s&&s===o))return!0}else return!0;return!1})}var ha=globalThis&&globalThis.__awaiter||function(e,a,i,t){function n(h){return h instanceof i?h:new i(function(o){o(h)})}return new(i||(i=Promise))(function(h,o){function l(f){try{p(t.next(f))}catch(v){o(v)}}function s(f){try{p(t.throw(f))}catch(v){o(v)}}function p(f){f.done?h(f.value):n(f.value).then(l,s)}p((t=t.apply(e,a||[])).next())})};const Ji={paddingMedium:"0 3px",heightMedium:"24px",iconSizeMedium:"18px"},Nf=we({name:"UploadFile",props:{clsPrefix:{type:String,required:!0},file:{type:Object,required:!0},listType:{type:String,required:!0},index:{type:Number,required:!0}},setup(e){const a=Tt(Jn),i=te(null),t=te(""),n=fe(()=>{const{file:w}=e;return w.status==="finished"?"success":w.status==="error"?"error":"info"}),h=fe(()=>{const{file:w}=e;if(w.status==="error")return"error"}),o=fe(()=>{const{file:w}=e;return w.status==="uploading"}),l=fe(()=>{if(!a.showCancelButtonRef.value)return!1;const{file:w}=e;return["uploading","pending","error"].includes(w.status)}),s=fe(()=>{if(!a.showRemoveButtonRef.value)return!1;const{file:w}=e;return["finished"].includes(w.status)}),p=fe(()=>{if(!a.showDownloadButtonRef.value)return!1;const{file:w}=e;return["finished"].includes(w.status)}),f=fe(()=>{if(!a.showRetryButtonRef.value)return!1;const{file:w}=e;return["error"].includes(w.status)}),v=un(()=>t.value||e.file.thumbnailUrl||e.file.url),u=fe(()=>{if(!a.showPreviewButtonRef.value)return!1;const{file:{status:w},listType:O}=e;return["finished"].includes(w)&&v.value&&O==="image-card"});function d(){return ha(this,void 0,void 0,function*(){const w=a.onRetryRef.value;w&&(yield w({file:e.file}))===!1||a.submit(e.file.id)})}function _(w){w.preventDefault();const{file:O}=e;["finished","pending","error"].includes(O.status)?g(O):["uploading"].includes(O.status)?c(O):au("upload","The button clicked type is unknown.")}function b(w){w.preventDefault(),y(e.file)}function g(w){const{xhrMap:O,doChange:C,onRemoveRef:{value:L},mergedFileListRef:{value:A}}=a;Promise.resolve(L?L({file:Object.assign({},w),fileList:A,index:e.index}):!0).then(S=>{if(S===!1)return;const k=Object.assign({},w,{status:"removed"});O.delete(w.id),C(k,void 0,{remove:!0})})}function y(w){const{onDownloadRef:{value:O}}=a;Promise.resolve(O?O(Object.assign({},w)):!0).then(C=>{C!==!1&&Pc(w.url,w.name)})}function c(w){const{xhrMap:O}=a,C=O.get(w.id);C==null||C.abort(),g(Object.assign({},w))}function m(w){const{onPreviewRef:{value:O}}=a;if(O)O(e.file,{event:w});else if(e.listType==="image-card"){const{value:C}=i;if(!C)return;C.click()}}const r=()=>ha(this,void 0,void 0,function*(){const{listType:w}=e;w!=="image"&&w!=="image-card"||a.shouldUseThumbnailUrlRef.value(e.file)&&(t.value=yield a.getFileThumbnailUrlResolver(e.file))});return Kn(()=>{r()}),{mergedTheme:a.mergedThemeRef,progressStatus:n,buttonType:h,showProgress:o,disabled:a.mergedDisabledRef,showCancelButton:l,showRemoveButton:s,showDownloadButton:p,showRetryButton:f,showPreviewButton:u,mergedThumbnailUrl:v,shouldUseThumbnailUrl:a.shouldUseThumbnailUrlRef,renderIcon:a.renderIconRef,imageRef:i,handleRemoveOrCancelClick:_,handleDownloadClick:b,handleRetryClick:d,handlePreviewClick:m}},render(){const{clsPrefix:e,mergedTheme:a,listType:i,file:t,renderIcon:n}=this;let h;const o=i==="image";o||i==="image-card"?h=!this.shouldUseThumbnailUrl(t)||!this.mergedThumbnailUrl?V("span",{class:`${e}-upload-file-info__thumbnail`},n?n(t):bl(t)?V(Pt,{clsPrefix:e},{default:Sf}):V(Pt,{clsPrefix:e},{default:Of})):V("a",{rel:"noopener noreferer",target:"_blank",href:t.url||void 0,class:`${e}-upload-file-info__thumbnail`,onClick:this.handlePreviewClick},i==="image-card"?V(Vn,{src:this.mergedThumbnailUrl||void 0,previewSrc:t.url||void 0,alt:t.name,ref:"imageRef"}):V("img",{src:this.mergedThumbnailUrl||void 0,alt:t.name})):h=V("span",{class:`${e}-upload-file-info__thumbnail`},n?n(t):V(Pt,{clsPrefix:e},{default:()=>V(Xc,null)}));const s=V(Ef,{show:this.showProgress,percentage:t.percentage||0,status:this.progressStatus}),p=i==="text"||i==="image";return V("div",{class:[`${e}-upload-file`,`${e}-upload-file--${this.progressStatus}-status`,t.url&&t.status!=="error"&&i!=="image-card"&&`${e}-upload-file--with-url`,`${e}-upload-file--${i}-type`]},V("div",{class:`${e}-upload-file-info`},h,V("div",{class:`${e}-upload-file-info__name`},p&&(t.url&&t.status!=="error"?V("a",{rel:"noopener noreferer",target:"_blank",href:t.url||void 0,onClick:this.handlePreviewClick},t.name):V("span",{onClick:this.handlePreviewClick},t.name)),o&&s),V("div",{class:[`${e}-upload-file-info__action`,`${e}-upload-file-info__action--${i}-type`]},this.showPreviewButton?V(Re,{key:"preview",quaternary:!0,type:this.buttonType,onClick:this.handlePreviewClick,theme:a.peers.Button,themeOverrides:a.peerOverrides.Button,builtinThemeOverrides:Ji},{icon:()=>V(Pt,{clsPrefix:e},{default:()=>V(ru,null)})}):null,(this.showRemoveButton||this.showCancelButton)&&!this.disabled&&V(Re,{key:"cancelOrTrash",theme:a.peers.Button,themeOverrides:a.peerOverrides.Button,quaternary:!0,builtinThemeOverrides:Ji,type:this.buttonType,onClick:this.handleRemoveOrCancelClick},{icon:()=>V(ou,null,{default:()=>this.showRemoveButton?V(Pt,{clsPrefix:e,key:"trash"},{default:()=>V(nd,null)}):V(Pt,{clsPrefix:e,key:"cancel"},{default:()=>V(Jc,null)})})}),this.showRetryButton&&!this.disabled&&V(Re,{key:"retry",quaternary:!0,type:this.buttonType,onClick:this.handleRetryClick,theme:a.peers.Button,themeOverrides:a.peerOverrides.Button,builtinThemeOverrides:Ji},{icon:()=>V(Pt,{clsPrefix:e},{default:()=>V(td,null)})}),this.showDownloadButton?V(Re,{key:"download",quaternary:!0,type:this.buttonType,onClick:this.handleDownloadClick,theme:a.peers.Button,themeOverrides:a.peerOverrides.Button,builtinThemeOverrides:Ji},{icon:()=>V(Pt,{clsPrefix:e},{default:()=>V(Ac,null)})}):null)),!o&&s)}}),_l=we({name:"UploadTrigger",props:{abstract:Boolean},slots:Object,setup(e,{slots:a}){const i=Tt(Jn,null);i||An("upload-trigger","`n-upload-trigger` must be placed inside `n-upload`.");const{mergedClsPrefixRef:t,mergedDisabledRef:n,maxReachedRef:h,listTypeRef:o,dragOverRef:l,openOpenFileDialog:s,draggerInsideRef:p,handleFileAddition:f,mergedDirectoryDndRef:v,triggerClassRef:u,triggerStyleRef:d}=i,_=fe(()=>o.value==="image-card");function b(){n.value||h.value||s()}function g(r){r.preventDefault(),l.value=!0}function y(r){r.preventDefault(),l.value=!0}function c(r){r.preventDefault(),l.value=!1}function m(r){var w;if(r.preventDefault(),!p.value||n.value||h.value){l.value=!1;return}const O=(w=r.dataTransfer)===null||w===void 0?void 0:w.items;O!=null&&O.length?Mf(Array.from(O).map(C=>C.webkitGetAsEntry()),v.value).then(C=>{f(C)}).finally(()=>{l.value=!1}):l.value=!1}return()=>{var r;const{value:w}=t;return e.abstract?(r=a.default)===null||r===void 0?void 0:r.call(a,{handleClick:b,handleDrop:m,handleDragOver:g,handleDragEnter:y,handleDragLeave:c}):V("div",{class:[`${w}-upload-trigger`,(n.value||h.value)&&`${w}-upload-trigger--disabled`,_.value&&`${w}-upload-trigger--image-card`,u.value],style:d.value,onClick:b,onDrop:m,onDragover:g,onDragenter:y,onDragleave:c},_.value?V(Cf,null,{default:()=>hn(a.default,()=>[V(Pt,{clsPrefix:w},{default:()=>V(so,null)})])}):a)}}}),If=we({name:"UploadFileList",setup(e,{slots:a}){const i=Tt(Jn,null);i||An("upload-file-list","`n-upload-file-list` must be placed inside `n-upload`.");const{abstractRef:t,mergedClsPrefixRef:n,listTypeRef:h,mergedFileListRef:o,fileListClassRef:l,fileListStyleRef:s,cssVarsRef:p,themeClassRef:f,maxReachedRef:v,showTriggerRef:u,imageGroupPropsRef:d}=i,_=fe(()=>h.value==="image-card"),b=()=>o.value.map((y,c)=>V(Nf,{clsPrefix:n.value,key:y.id,file:y,index:c,listType:h.value})),g=()=>_.value?V(Mc,Object.assign({},d.value),{default:b}):V(ko,{group:!0},{default:b});return()=>{const{value:y}=n,{value:c}=t;return V("div",{class:[`${y}-upload-file-list`,_.value&&`${y}-upload-file-list--grid`,c?f==null?void 0:f.value:void 0,l.value],style:[c&&p?p.value:"",s.value]},g(),u.value&&!v.value&&_.value&&V(_l,null,a))}}});var va=globalThis&&globalThis.__awaiter||function(e,a,i,t){function n(h){return h instanceof i?h:new i(function(o){o(h)})}return new(i||(i=Promise))(function(h,o){function l(f){try{p(t.next(f))}catch(v){o(v)}}function s(f){try{p(t.throw(f))}catch(v){o(v)}}function p(f){f.done?h(f.value):n(f.value).then(l,s)}p((t=t.apply(e,a||[])).next())})};function $f(e,a,i){const{doChange:t,xhrMap:n}=e;let h=0;function o(s){var p;let f=Object.assign({},a,{status:"error",percentage:h});n.delete(a.id),f=Ni(((p=e.onError)===null||p===void 0?void 0:p.call(e,{file:f,event:s}))||f),t(f,s)}function l(s){var p;if(e.isErrorState){if(e.isErrorState(i)){o(s);return}}else if(i.status<200||i.status>=300){o(s);return}let f=Object.assign({},a,{status:"finished",percentage:h});n.delete(a.id),f=Ni(((p=e.onFinish)===null||p===void 0?void 0:p.call(e,{file:f,event:s}))||f),t(f,s)}return{handleXHRLoad:l,handleXHRError:o,handleXHRAbort(s){const p=Object.assign({},a,{status:"removed",file:null,percentage:h});n.delete(a.id),t(p,s)},handleXHRProgress(s){const p=Object.assign({},a,{status:"uploading"});if(s.lengthComputable){const f=Math.ceil(s.loaded/s.total*100);p.percentage=f,h=f}t(p,s)}}}function jf(e){const{inst:a,file:i,data:t,headers:n,withCredentials:h,action:o,customRequest:l}=e,{doChange:s}=e.inst;let p=0;l({file:i,data:t,headers:n,withCredentials:h,action:o,onProgress(f){const v=Object.assign({},i,{status:"uploading"}),u=f.percent;v.percentage=u,p=u,s(v)},onFinish(){var f;let v=Object.assign({},i,{status:"finished",percentage:p});v=Ni(((f=a.onFinish)===null||f===void 0?void 0:f.call(a,{file:v}))||v),s(v)},onError(){var f;let v=Object.assign({},i,{status:"error",percentage:p});v=Ni(((f=a.onError)===null||f===void 0?void 0:f.call(a,{file:v}))||v),s(v)}})}function Bf(e,a,i){const t=$f(e,a,i);i.onabort=t.handleXHRAbort,i.onerror=t.handleXHRError,i.onload=t.handleXHRLoad,i.upload&&(i.upload.onprogress=t.handleXHRProgress)}function wl(e,a){return typeof e=="function"?e({file:a}):e||{}}function Df(e,a,i){const t=wl(a,i);t&&Object.keys(t).forEach(n=>{e.setRequestHeader(n,t[n])})}function zf(e,a,i){const t=wl(a,i);t&&Object.keys(t).forEach(n=>{e.append(n,t[n])})}function Ff(e,a,i,{method:t,action:n,withCredentials:h,responseType:o,headers:l,data:s}){const p=new XMLHttpRequest;p.responseType=o,e.xhrMap.set(i.id,p),p.withCredentials=h;const f=new FormData;if(zf(f,s,i),i.file!==null&&f.append(a,i.file),Bf(e,i,p),n!==void 0){p.open(t.toUpperCase(),n),Df(p,l,i),p.send(f);const v=Object.assign({},i,{status:"uploading"});e.doChange(v)}}const qf=Object.assign(Object.assign({},Qe.props),{name:{type:String,default:"file"},accept:String,action:String,customRequest:Function,directory:Boolean,directoryDnd:{type:Boolean,default:void 0},method:{type:String,default:"POST"},multiple:Boolean,showFileList:{type:Boolean,default:!0},data:[Object,Function],headers:[Object,Function],withCredentials:Boolean,responseType:{type:String,default:""},disabled:{type:Boolean,default:void 0},onChange:Function,onRemove:Function,onFinish:Function,onError:Function,onRetry:Function,onBeforeUpload:Function,isErrorState:Function,onDownload:Function,defaultUpload:{type:Boolean,default:!0},fileList:Array,"onUpdate:fileList":[Function,Array],onUpdateFileList:[Function,Array],fileListClass:String,fileListStyle:[String,Object],defaultFileList:{type:Array,default:()=>[]},showCancelButton:{type:Boolean,default:!0},showRemoveButton:{type:Boolean,default:!0},showDownloadButton:Boolean,showRetryButton:{type:Boolean,default:!0},showPreviewButton:{type:Boolean,default:!0},listType:{type:String,default:"text"},onPreview:Function,shouldUseThumbnailUrl:{type:Function,default:e=>Rf?bl(e):!1},createThumbnailUrl:Function,abstract:Boolean,max:Number,showTrigger:{type:Boolean,default:!0},imageGroupProps:Object,inputProps:Object,triggerClass:String,triggerStyle:[String,Object],renderIcon:Function}),Uf=we({name:"Upload",props:qf,setup(e){e.abstract&&e.listType==="image-card"&&An("upload","when the list-type is image-card, abstract is not supported.");const{mergedClsPrefixRef:a,inlineThemeDisabled:i}=kt(e),t=Qe("Upload","-upload",xf,su,e,a),n=Ia(e),h=te(e.defaultFileList),o=Le(e,"fileList"),l=te(null),s={value:!1},p=te(!1),f=new Map,v=Pi(o,h),u=fe(()=>v.value.map(Ni)),d=fe(()=>{const{max:A}=e;return A!==void 0?u.value.length>=A:!1});function _(){var A;(A=l.value)===null||A===void 0||A.click()}function b(A){const S=A.target;m(S.files?Array.from(S.files).map(k=>({file:k,entry:null,source:"input"})):null,A),S.value=""}function g(A){const{"onUpdate:fileList":S,onUpdateFileList:k}=e;S&&st(S,A),k&&st(k,A),h.value=A}const y=fe(()=>e.multiple||e.directory),c=(A,S,k={append:!1,remove:!1})=>{const{append:E,remove:R}=k,B=Array.from(u.value),q=B.findIndex(K=>K.id===A.id);if(E||R||~q){E?B.push(A):R?B.splice(q,1):B.splice(q,1,A);const{onChange:K}=e;K&&K({file:A,fileList:B,event:S}),g(B)}};function m(A,S){if(!A||A.length===0)return;const{onBeforeUpload:k}=e;A=y.value?A:[A[0]];const{max:E,accept:R}=e;A=A.filter(({file:q,source:K})=>K==="dnd"&&(R!=null&&R.trim())?Lf(q.name,q.type,R):!0),E&&(A=A.slice(0,E-u.value.length));const B=ao();Promise.all(A.map(q=>va(this,[q],void 0,function*({file:K,entry:W}){var Q;const H={id:ao(),batchId:B,name:K.name,status:"pending",percentage:0,file:K,url:null,type:K.type,thumbnailUrl:null,fullPath:(Q=W==null?void 0:W.fullPath)!==null&&Q!==void 0?Q:`/${K.webkitRelativePath||K.name}`};return!k||(yield k({file:H,fileList:u.value}))!==!1?H:null}))).then(q=>va(this,void 0,void 0,function*(){let K=Promise.resolve();q.forEach(W=>{K=K.then(jt).then(()=>{W&&c(W,S,{append:!0})})}),yield K})).then(()=>{e.defaultUpload&&r()})}function r(A){const{method:S,action:k,withCredentials:E,headers:R,data:B,name:q}=e,K=A!==void 0?u.value.filter(Q=>Q.id===A):u.value,W=A!==void 0;K.forEach(Q=>{const{status:H}=Q;(H==="pending"||H==="error"&&W)&&(e.customRequest?jf({inst:{doChange:c,xhrMap:f,onFinish:e.onFinish,onError:e.onError},file:Q,action:k,withCredentials:E,headers:R,data:B,customRequest:e.customRequest}):Ff({doChange:c,xhrMap:f,onFinish:e.onFinish,onError:e.onError,isErrorState:e.isErrorState},q,Q,{method:S,action:k,withCredentials:E,responseType:e.responseType,headers:R,data:B}))})}function w(A){var S;if(A.thumbnailUrl)return A.thumbnailUrl;const{createThumbnailUrl:k}=e;return k?(S=k(A.file,A))!==null&&S!==void 0?S:A.url||"":A.url?A.url:A.file?Tf(A.file):""}const O=fe(()=>{const{common:{cubicBezierEaseInOut:A},self:{draggerColor:S,draggerBorder:k,draggerBorderHover:E,itemColorHover:R,itemColorHoverError:B,itemTextColorError:q,itemTextColorSuccess:K,itemTextColor:W,itemIconColor:Q,itemDisabledOpacity:H,lineHeight:z,borderRadius:M,fontSize:I,itemBorderImageCardError:$,itemBorderImageCard:U}}=t.value;return{"--n-bezier":A,"--n-border-radius":M,"--n-dragger-border":k,"--n-dragger-border-hover":E,"--n-dragger-color":S,"--n-font-size":I,"--n-item-color-hover":R,"--n-item-color-hover-error":B,"--n-item-disabled-opacity":H,"--n-item-icon-color":Q,"--n-item-text-color":W,"--n-item-text-color-error":q,"--n-item-text-color-success":K,"--n-line-height":z,"--n-item-border-image-card-error":$,"--n-item-border-image-card":U}}),C=i?Bt("upload",void 0,O,e):void 0;rn(Jn,{mergedClsPrefixRef:a,mergedThemeRef:t,showCancelButtonRef:Le(e,"showCancelButton"),showDownloadButtonRef:Le(e,"showDownloadButton"),showRemoveButtonRef:Le(e,"showRemoveButton"),showRetryButtonRef:Le(e,"showRetryButton"),onRemoveRef:Le(e,"onRemove"),onDownloadRef:Le(e,"onDownload"),mergedFileListRef:u,triggerClassRef:Le(e,"triggerClass"),triggerStyleRef:Le(e,"triggerStyle"),shouldUseThumbnailUrlRef:Le(e,"shouldUseThumbnailUrl"),renderIconRef:Le(e,"renderIcon"),xhrMap:f,submit:r,doChange:c,showPreviewButtonRef:Le(e,"showPreviewButton"),onPreviewRef:Le(e,"onPreview"),getFileThumbnailUrlResolver:w,listTypeRef:Le(e,"listType"),dragOverRef:p,openOpenFileDialog:_,draggerInsideRef:s,handleFileAddition:m,mergedDisabledRef:n.mergedDisabledRef,maxReachedRef:d,fileListClassRef:Le(e,"fileListClass"),fileListStyleRef:Le(e,"fileListStyle"),abstractRef:Le(e,"abstract"),acceptRef:Le(e,"accept"),cssVarsRef:i?void 0:O,themeClassRef:C==null?void 0:C.themeClass,onRender:C==null?void 0:C.onRender,showTriggerRef:Le(e,"showTrigger"),imageGroupPropsRef:Le(e,"imageGroupProps"),mergedDirectoryDndRef:fe(()=>{var A;return(A=e.directoryDnd)!==null&&A!==void 0?A:e.directory}),onRetryRef:Le(e,"onRetry")});const L={clear:()=>{h.value=[]},submit:r,openOpenFileDialog:_};return Object.assign({mergedClsPrefix:a,draggerInsideRef:s,inputElRef:l,mergedTheme:t,dragOver:p,mergedMultiple:y,cssVars:i?void 0:O,themeClass:C==null?void 0:C.themeClass,onRender:C==null?void 0:C.onRender,handleFileInputChange:b},L)},render(){var e,a;const{draggerInsideRef:i,mergedClsPrefix:t,$slots:n,directory:h,onRender:o}=this;if(n.default&&!this.abstract){const s=n.default()[0];!((e=s==null?void 0:s.type)===null||e===void 0)&&e[gl]&&(i.value=!0)}const l=V("input",Object.assign({},this.inputProps,{ref:"inputElRef",type:"file",class:`${t}-upload-file-input`,accept:this.accept,multiple:this.mergedMultiple,onChange:this.handleFileInputChange,webkitdirectory:h||void 0,directory:h||void 0}));return this.abstract?V(Te,null,(a=n.default)===null||a===void 0?void 0:a.call(n),V(lu,{to:"body"},l)):(o==null||o(),V("div",{class:[`${t}-upload`,i.value&&`${t}-upload--dragger-inside`,this.dragOver&&`${t}-upload--drag-over`,this.themeClass],style:this.cssVars},l,this.showTrigger&&this.listType!=="image-card"&&V(_l,null,n),this.showFileList&&V(If,null,n)))}}),Hf=nt("announcement",!0,function(e){return T("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[T("rect",{x:"4",y:"15",width:"40",height:"26",rx:"2",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M24 7L16 15H32L24 7Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M12 24H30",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M12 32H20",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),No=nt("arrow-down",!1,function(e){return T("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[T("path",{d:"M24 42V6",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M36 30L24 42L12 30",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),Io=nt("arrow-up",!1,function(e){return T("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[T("path",{d:"M24 6V42",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M12 18L24 6L36 18",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),Vf=nt("calendar",!1,function(e){return T("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[T("path",{d:"M5 19H43V40C43 41.1046 42.1046 42 41 42H7C5.89543 42 5 41.1046 5 40V19Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M5 9C5 7.89543 5.89543 7 7 7H41C42.1046 7 43 7.89543 43 9V19H5V9Z",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M16 4V12",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M32 4V12",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M28 34H34",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M14 34H20",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M28 26H34",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M14 26H20",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),Wf=nt("clear",!1,function(e){return T("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[T("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20 5.91406H28V13.9141H43V21.9141H5V13.9141H20V5.91406Z",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M8 40H40V22H8V40Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M16 39.8976V33.9141",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M24 39.8977V33.8977",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M32 39.8976V33.9141",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M12 40H36",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),$o=nt("close-remind",!0,function(e){return T("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[T("path",{d:"M42 38C42 38 36 33 36 19C36 12.3726 30.6274 7 24 7C21.46 7 19.1042 7.78918 17.1647 9.13571M30 38H6C6 38 11.5692 33.359 11.9765 20.5",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M18 38L30 38C30 41.3137 27.3137 44 24 44C20.6863 44 18 41.3137 18 38Z",stroke:e.colors[0],"stroke-width":e.strokeWidth},null),T("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24 2C21.7909 2 20 3.79086 20 6H28C28 3.79086 26.2091 2 24 2Z",fill:e.colors[0]},null),T("path",{d:"M7 6.5L41 44.5",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),kl=nt("database-search",!0,function(e){return T("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[T("path",{d:"M34 12V20V21C31.0449 21 28.3892 22.2818 26.5585 24.3198C24.9678 26.0906 24 28.4323 24 31C24 31.5789 24.0492 32.1463 24.1436 32.6983C24.6579 35.7046 26.5143 38.2529 29.0741 39.7046C26.4116 40.5096 22.8776 41 19 41C10.7157 41 4 38.7614 4 36V28V20V12",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M44 31C44 36.5228 39.5228 41 34 41C32.2091 41 30.5281 40.5292 29.0741 39.7046C26.5143 38.2529 24.6579 35.7046 24.1436 32.6983C24.0492 32.1463 24 31.5789 24 31C24 28.4323 24.9678 26.0906 26.5585 24.3198C28.3892 22.2818 31.0449 21 34 21C39.5228 21 44 25.4772 44 31Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M34 12C34 14.7614 27.2843 17 19 17C10.7157 17 4 14.7614 4 12C4 9.23858 10.7157 7 19 7C27.2843 7 34 9.23858 34 12Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M4 28C4 30.7614 10.7157 33 19 33C20.807 33 22.5393 32.8935 24.1436 32.6983",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M4 20C4 22.7614 10.7157 25 19 25C21.7563 25 24.339 24.7522 26.5585 24.3198",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M36.8281 33.8281L40.9997 37.9997",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M38 31C38 32.1046 37.5523 33.1046 36.8284 33.8284C36.1046 34.5523 35.1046 35 34 35C31.7909 35 30 33.2091 30 31C30 28.7909 31.7909 27 34 27C36.2091 27 38 28.7909 38 31Z",fill:e.colors[1],stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M44 31C44 36.5228 39.5228 41 34 41",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),pa=nt("document-folder",!0,function(e){return T("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[T("path",{d:"M32 6H22V42H32V6Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M42 6H32V42H42V6Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M10 6L18 7L14.5 42L6 41L10 6Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M37 18V15",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M27 18V15",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),Gf=nt("double-down",!1,function(e){return T("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[T("path",{d:"M36 12L24 24L12 12",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M36 24L24 36L12 24",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),Kf=nt("edit-two",!0,function(e){return T("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[T("path",{d:"M42 26V40C42 41.1046 41.1046 42 40 42H8C6.89543 42 6 41.1046 6 40V8C6 6.89543 6.89543 6 8 6L22 6",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M14 26.7199V34H21.3172L42 13.3081L34.6951 6L14 26.7199Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null)])}),Zf=nt("file-addition",!0,function(e){return T("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[T("path",{d:"M10 44H38C39.1046 44 40 43.1046 40 42V14H30V4H10C8.89543 4 8 4.89543 8 6V42C8 43.1046 8.89543 44 10 44Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M30 4L40 14",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M24 21V35",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M17 28H24L31 28",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),Yf=nt("file-txt",!0,function(e){return T("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[T("path",{d:"M10 4H30L40 14V42C40 43.1046 39.1046 44 38 44H10C8.89543 44 8 43.1046 8 42V6C8 4.89543 8.89543 4 10 4Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M18 18.0083H30",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap},null),T("path",{d:"M24.0083 18.0083V34",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap},null)])}),Xf=nt("folder-upload",!0,function(e){return T("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[T("path",{d:"M5 8C5 6.89543 5.89543 6 7 6H19L24 12H41C42.1046 12 43 12.8954 43 14V40C43 41.1046 42.1046 42 41 42H7C5.89543 42 5 41.1046 5 40V8Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M30 25.9867L24 20L18 26",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M24 20V34",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),Jf=nt("history",!0,function(e){return T("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[T("path",{d:"M5.81836 6.72729V14H13.0911",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M4 24C4 35.0457 12.9543 44 24 44V44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4C16.598 4 10.1351 8.02111 6.67677 13.9981",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M24.005 12L24.0038 24.0088L32.4832 32.4882",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),Qf=nt("id-card",!0,function(e){return T("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[T("path",{d:"M42 8H6C4.89543 8 4 8.89543 4 10V38C4 39.1046 4.89543 40 6 40H42C43.1046 40 44 39.1046 44 38V10C44 8.89543 43.1046 8 42 8Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M36 16H28V24H36V16Z",fill:e.colors[3],stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M12 32H36",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M12 16H18",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M12 24H18",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),eh=nt("loading",!0,function(e){return T("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[T("path",{d:"M4 24C4 35.0457 12.9543 44 24 44V44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M36 24C36 17.3726 30.6274 12 24 12C17.3726 12 12 17.3726 12 24C12 30.6274 17.3726 36 24 36V36",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),th=nt("logout",!0,function(e){return T("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[T("path",{d:"M23.9917 6H6V42H24",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M33 33L42 24L33 15",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M16 23.9917H42",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),nh=nt("menu-fold-one",!0,function(e){return T("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[T("path",{d:"M8 10.5H40",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M24 19.5H40",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M24 28.5H40",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M8 37.5H40",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M8 19L16 24L8 29V19Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null)])}),ih=nt("menu-unfold-one",!0,function(e){return T("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[T("path",{d:"M8 10.5H40",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M24 19.5H40",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M24 28.5H40",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M8 37.5H40",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M16 19L8 24L16 29V19Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null)])}),rh=nt("more-three",!1,function(e){return T("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[T("path",{d:"M24 44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4C12.9543 4 4 12.9543 4 24C4 35.0457 12.9543 44 24 44Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),T("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M21.5 14C21.5 15.3807 22.6193 16.5 24 16.5C25.3807 16.5 26.5 15.3807 26.5 14C26.5 12.6193 25.3807 11.5 24 11.5C22.6193 11.5 21.5 12.6193 21.5 14ZM21.5 24C21.5 25.3807 22.6193 26.5 24 26.5C25.3807 26.5 26.5 25.3807 26.5 24C26.5 22.6193 25.3807 21.5 24 21.5C22.6193 21.5 21.5 22.6193 21.5 24ZM24 36.5C22.6193 36.5 21.5 35.3807 21.5 34C21.5 32.6193 22.6193 31.5 24 31.5C25.3807 31.5 26.5 32.6193 26.5 34C26.5 35.3807 25.3807 36.5 24 36.5Z",fill:e.colors[2]},null)])}),oh=nt("more-two",!1,function(e){return T("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[T("path",{d:"M24 44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4C12.9543 4 4 12.9543 4 24C4 35.0457 12.9543 44 24 44Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),T("circle",{cx:"14",cy:"24",r:"3",fill:e.colors[2]},null),T("circle",{cx:"24",cy:"24",r:"3",fill:e.colors[2]},null),T("circle",{cx:"34",cy:"24",r:"3",fill:e.colors[2]},null)])}),ah=nt("pic",!0,function(e){return T("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[T("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5 10C5 8.89543 5.89543 8 7 8L41 8C42.1046 8 43 8.89543 43 10V38C43 39.1046 42.1046 40 41 40H7C5.89543 40 5 39.1046 5 38V10Z",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14.5 18C15.3284 18 16 17.3284 16 16.5C16 15.6716 15.3284 15 14.5 15C13.6716 15 13 15.6716 13 16.5C13 17.3284 13.6716 18 14.5 18Z",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M15 24L20 28L26 21L43 34V38C43 39.1046 42.1046 40 41 40H7C5.89543 40 5 39.1046 5 38V34L15 24Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null)])}),lh=nt("share-three",!0,function(e){return T("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[T("path",{d:"M42 38V42L6 42L6 38",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M30 6L40 16L30 26",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M40 16C20 16 6 19 6 32",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),sh=nt("smiling-face",!1,function(e){return T("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[T("path",{d:"M24 44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4C12.9543 4 4 12.9543 4 24C4 35.0457 12.9543 44 24 44Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M31 31C31 31 29 35 24 35C19 35 17 31 17 31",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M31 18V22",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M17 18V22",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),uh=nt("tips",!1,function(e){return T("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[T("path",{d:"M40 20C40 26.8077 35.7484 32.6224 29.7555 34.9336H24H18.2445C12.2516 32.6224 8 26.8077 8 20C8 11.1634 15.1634 4 24 4C32.8366 4 40 11.1634 40 20Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M29.7557 34.9336L29.0766 43.0831C29.0334 43.6014 28.6001 44 28.08 44H19.9203C19.4002 44 18.9669 43.6014 18.9238 43.0831L18.2446 34.9336",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M18 17V23L24 20L30 23V17",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),ch=nt("to-top",!1,function(e){return T("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[T("path",{d:"M24.0083 14.1006V42.0001",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M12 26L24 14L36 26",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M12 6H36",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),dh=nt("up",!1,function(e){return T("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[T("path",{d:"M13 30L25 18L37 30",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),ma=nt("voice",!1,function(e){return T("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[T("rect",{x:"17",y:"4",width:"14",height:"27",rx:"7",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M9 23C9 31.2843 15.7157 38 24 38C32.2843 38 39 31.2843 39 23",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),T("path",{d:"M24 38V44",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])});function fh(){const e=ct({options:[],show:!1,x:0,y:0,item:{}}),a=Nt(),i=mn(),t=Tt("$user"),n=fe(()=>a.index_name),h=(c,m)=>{e.show=!1,e.item=Object.assign({},m),e.options=[];const r=[];m.is_robot!=1&&(m.talk_type==1&&(r.push({icon:en(Qf),label:"好友信息",key:"info"}),r.push({icon:en(Kf),label:"修改备注",key:"remark"})),r.push({icon:en(m.is_top?No:Io),label:m.is_top?"取消置顶":"会话置顶",key:"top"}),r.push({icon:en(m.is_disturb?zc:$o),label:m.is_disturb?"关闭免打扰":"开启免打扰",key:"disturb"}),r.push({icon:en(Wf),label:"移除会话",key:"remove"}),m.talk_type==1?r.push({icon:en(xr),label:"删除好友",key:"delete_contact"}):r.push({icon:en(th),label:"退出群聊",key:"signout_group"}),m.talk_type==2&&(r.push({icon:en(Dc),label:"添加分组",key:"add_group"}),r.push({icon:en(uh),label:"案件跟进",key:"follow"})),e.options=[...r],jt(()=>{e.show=!0,e.x=c.clientX,e.y=c.clientY}),c.preventDefault())},o=()=>{e.show=!1,e.item={}},l=c=>{i.setGroupModalItem(c),i.showGroupModal(!0)},s=c=>{Mi.emit("follow:show",c)},p=(c="")=>{i.delItem(c),c===n.value&&a.$reset()},f=c=>{t(c.receiver_id)},v=c=>{cu({list_id:c.id}).then(({code:m})=>{m==200&&p(c.index_name)})},u=c=>{du({talk_type:c.talk_type,receiver_id:c.receiver_id,is_disturb:c.is_disturb==0?1:0}).then(({code:m,message:r})=>{m==200?(window.$message.success("设置成功!"),i.updateItem({index_name:c.index_name,is_disturb:c.is_disturb==0?1:0})):window.$message.error(r)})},d=c=>{if(c.is_top==0&&i.topItems.length>=18)return window.$message.info("置顶最多不能超过18个会话");uu({list_id:c.id,type:c.is_top==0?1:2}).then(({code:m,message:r})=>{m==200?i.updateItem({index_name:c.index_name,is_top:c.is_top==0?1:0}):window.$message.error(r)})},_=c=>{const m=c.remark||c.name;window.$dialog.create({showIcon:!1,title:`删除 [${m}] 联系人？`,content:"删除后不再接收对方任何消息。",positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{fu({friend_id:c.receiver_id}).then(({code:r,message:w})=>{r==200?(window.$message.success("删除联系人成功"),p(c.index_name)):window.$message.error(w)})}})},b=c=>{window.$dialog.create({showIcon:!1,title:`退出 [${c.name}] 群聊？`,content:"退出后不再接收此群的任何消息。",positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{hu({group_id:c.receiver_id}).then(({code:m,message:r})=>{m==200?(window.$message.success("已退出群聊"),p(c.index_name)):window.$message.error(r)})}})},g=c=>{let m="";window.$dialog.create({showIcon:!1,title:"修改备注",content:()=>V(Je,{defaultValue:c.remark,placeholder:"请输入备注信息",style:{marginTop:"20px"},onInput:r=>m=r,autofocus:!0}),negativeText:"取消",positiveText:"修改备注",onPositiveClick:()=>{vu({friend_id:c.receiver_id,remark:m}).then(({code:r,message:w})=>{r==200?(window.$message.success("备注成功"),i.updateItem({index_name:c.index_name,remark:m})):window.$message.error(w)})}})};return{dropdown:e,onContextMenu:h,onCloseContextMenu:o,onContextMenuTalkHandle:c=>{const m={info:f,top:d,remove:v,disturb:u,signout_group:b,delete_contact:_,remark:g,add_group:l,follow:s};e.show=!1,m[c]&&m[c](e.item)},onToTopTalk:d}}function hh(e){return(e||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")}function xl(e,a){if(!e||!a)return!1;if(a.indexOf(" ")!==-1)throw new Error("className should not contain space.");return e.classList?e.classList.contains(a):(" "+e.className+" ").indexOf(" "+a+" ")>-1}function Cl(e,a){if(!e)return;let i=e.className;const t=(a||"").split(" ");for(let n=0,h=t.length;n<h;n++){const o=t[n];o&&(e.classList?e.classList.add(o):xl(e,o)||(i+=" "+o))}e.classList||(e.className=i)}function Sl(e,a){if(!e||!a)return;const i=a.split(" ");let t=" "+e.className+" ";for(let n=0,h=i.length;n<h;n++){const o=i[n];o&&(e.classList?e.classList.remove(o):xl(e,o)&&(t=t.replace(" "+o+" "," ")))}e.classList||(e.className=hh(t))}const vh=e=>{const a=Nt(),i=fe(()=>a.records),t=ct({msgid:"",num:0}),n=ct({receiver_id:0,talk_type:0,status:0,cursor:0}),h=p=>{const f=document.getElementById(p);if(!f){if(t.msgid=="")t.msgid=p,t.num=3;else if(t.num--,t.num===0){t.msgid="",t.num=0,window.$message.info("仅支持查看最近300条的记录");return}const v=document.getElementById("imChatPanel");return v==null?void 0:v.scrollTo({top:0,behavior:"smooth"})}t.msgid="",t.num=0,f==null||f.scrollIntoView({behavior:"smooth"}),Cl(f,"border"),setTimeout(()=>{f&&Sl(f,"border")},3e3)},o=async p=>{const f={talk_type:p.talk_type,receiver_id:p.receiver_id,cursor:n.cursor,limit:30};n.status=0;let v=0;const u=document.getElementById("imChatPanel");u&&(v=u.scrollHeight);const{data:d,code:_}=await pu(f);if(_!=200)return n.status=1;if(f.talk_type!=n.talk_type||f.receiver_id!=n.receiver_id)return t.msgid="";const b=(d.items||[]).map(g=>mu(e,g));f.cursor==0&&a.clearDialogueRecord(),a.unshiftDialogueRecord(b.reverse()),n.status=b.length>=f.limit?1:2,n.cursor=d.cursor,jt(()=>{const g=document.getElementById("imChatPanel");g&&(f.cursor==0?(g.scrollTop=g.scrollHeight,setTimeout(()=>{g.scrollTop=g.scrollHeight+1e3},50)):g.scrollTop=g.scrollHeight-v),t.msgid&&h(t.msgid)})};return{loadConfig:n,records:i,onLoad:p=>{n.cursor=0,n.receiver_id=p.receiver_id,n.talk_type=p.talk_type,o(p)},onRefreshLoad:()=>{n.status==1&&o({receiver_id:n.receiver_id,talk_type:n.talk_type,limit:30})},onJumpMessage:h}},Ol=e=>Pn("/api/v1/user/phraseSave",e),El=e=>Fa("/api/v1/user/phraseList",e),Tl=e=>Pn("/api/v1/user/phraseRemove",e),ph=e=>Pn("/api/v1/enterprise/case/progressSet",e),mh=e=>Pn("/api/v1/user/caseProgress",e),gh={class:"el-header box-header"},yh={class:"module left-module"},bh={class:"nickname"},_h={key:0,class:"module center-module"},wh={class:"online"},kh={class:"online-status"},xh={class:"keyboard-status"},Ch={class:"module right-module"},Sh=we({__name:"PanelHeader",props:{type:{type:Number,default:1},username:{type:String,default:""},online:{type:Boolean,default:!1},keyboard:{type:Boolean,default:!1},num:{type:Number,default:0},status:{type:Number,default:0},options:{type:Array,default:()=>[]}},emits:["evnet"],setup(e,{emit:a}){const i=e,t=Nt(),n=a,h=te(0),o=te("进度待标记"),l=()=>{t.isShowSessionList=!t.isShowSessionList},s=async p=>{if((await ph({group_id:t.talk.receiver_id,enterprise_case_progress_item_id:h.value})).code===200){const v=i.options.findIndex(d=>d.value===p),u=i.options[v];o.value=u.label,h.value=u.value}};return Ke(()=>[t.talk.receiver_id,i.options],async([p,f])=>{if(p&&Array.isArray(f)&&f.length>0){const v=await mh({group_id:p});if(v.code===200){const{enterprise_case_progress_item_id:u}=v.data;if(u==0){o.value="进度待标记",h.value=0;return}const d=f.find(_=>_.value===u);d&&(o.value=d.label,h.value=d.value)}else o.value="进度待标记",h.value=0}},{immediate:!0}),(p,f)=>{const v=Ne("n-icon");return X(),ie("header",gh,[N("div",{class:"menu bdr-r pointer",onClick:l},[T(v,{component:P(t).isShowSessionList?P(ih):P(nh),size:22},null,8,["component"])]),N("div",yh,[N("span",{class:bt(["tag",{red:e.type==1}])},de(e.type==1?"好友":"群聊"),3),e.status===10?(X(),ie("span",{key:0,class:bt(["tag",{red:e.type!==1}])}," 已结案 ",2)):e.type!==1?(X(),_e(P(ll),{key:1,value:h.value,"onUpdate:value":[f[0]||(f[0]=u=>h.value=u),s],options:e.options,trigger:"click"},{default:F(()=>[N("span",{class:bt(["tag",{red:e.type!==1}])},de(o.value),3)]),_:1},8,["value","options"])):Me("",!0),N("span",bh,de(e.username),1),De(N("span",{class:"num"},"("+de(e.num)+")",513),[[je,e.type==2&&e.num]]),f[4]||(f[4]=N("span",{class:"mr10"},null,-1))]),e.type==1?(X(),ie("div",_h,[N("p",wh,[De(N("span",kh,null,512),[[je,e.online]]),N("span",null,de(e.online?"在线":"离线"),1)]),De(N("p",xh,"对方正在输入 ...",512),[[je,e.keyboard]])])):Me("",!0),N("div",Ch,[De(T(v,{component:P(Hf),size:18,class:"icon",onClick:f[1]||(f[1]=u=>n("evnet","notice"))},null,8,["component"]),[[je,e.type==2]]),De(T(v,{component:P(_c),size:18,class:"icon",onClick:f[2]||(f[2]=u=>n("evnet","group"))},null,8,["component"]),[[je,e.type==2]]),De(T(v,{component:P(oh),size:18,class:"icon",onClick:f[3]||(f[3]=u=>n("evnet","caseDetail"))},null,8,["component"]),[[je,e.type==2]])])])}}});const Oh=rt(Sh,[["__scopeId","data-v-92819643"]]),Eh=(e,a)=>{if(e!=a.user_id)return!1;const i=new Date().getTime()-ur(a.created_at).getTime();return Math.floor(i/1e3/60)<=2};function Th(){const e=ct({options:[],show:!1,x:0,y:0,item:{}});return{dropdown:e,showDropdownMenu:(t,n,h)=>{e.item=Object.assign({},h),e.options=[],[4].includes(h.msg_type)&&e.options.push({label:"转译",key:"voice"}),[1,3].includes(h.msg_type)&&e.options.push({label:"复制",key:"copy"}),Eh(n,h)&&e.options.push({label:"撤回",key:"revoke"}),e.options.push({label:"回复",key:"quote"}),e.options.push({label:"删除",key:"delete"}),e.options.push({label:"多选",key:"multiSelect"}),[3,4,5].includes(h.msg_type)&&e.options.push({label:"下载",key:"download"}),[3].includes(h.msg_type)&&e.options.push({label:"收藏",key:"collect"}),e.options.push({label:"收集",key:"gather"}),e.x=t.clientX,e.y=t.clientY,e.show=!0},closeDropdownMenu:()=>{e.show=!1,e.item={}}}}const Rh={key:0},Ah={key:1},Ph=we({__name:"SkipBottom",props:["modelValue"],setup(e){const a=Nt(),i=()=>{let t=document.getElementById("imChatPanel");t&&t.scrollTo({top:t.scrollHeight+1e3,behavior:"smooth"})};return(t,n)=>{const h=Ne("n-icon");return X(),ie("div",{class:bt(["skip-bottom pointer",{show:e.modelValue}]),onClick:i},[P(a).unreadBubble?(X(),ie("span",Rh,de(P(a).unreadBubble)+" 条未读消息",1)):(X(),ie("span",Ah,"回到底部")),T(h,{size:"14",color:"#fff",component:P(Gf)},null,8,["component"])],2)}}});const Mh=rt(Ph,[["__scopeId","data-v-5ba474c7"]]),Lh={class:"section"},Nh={class:"load-toolbar pointer"},Ih={key:0},$h={key:2,class:"no-more"},jh=["id"],Bh={key:0,class:"message-box"},Dh={key:1,class:"message-box"},zh={key:0,class:"checkbox-column"},Fh={class:"avatar-column"},qh={class:"main-column"},Uh={class:"talk-title"},Hh=["onClick"],Vh=["onClick"],Wh={class:"talk-tools"},Gh=["onClick"],Kh={class:"ellipsis"},Zh=we({__name:"PanelContent",props:{uid:{type:Number,default:0},talk_type:{type:Number,default:0},receiver_id:{type:Number,default:0},index_name:{type:String,default:""},options:{type:Array,default:()=>[]}},setup(e){const a=mn(),i=e,{loadConfig:t,records:n,onLoad:h,onRefreshLoad:o,onJumpMessage:l}=vh(i.uid),s=te();let p=te({type:null,remark:"",progress_item_id:null});const f={type:{required:!0,message:"请选择类型"},remark:{required:!0,message:"备注不能为空"}},{useMessage:v}=Cc(),{dropdown:u,showDropdownMenu:d,closeDropdownMenu:_}=Th(),{showUserInfoModal:b}=To(),g=Nt(),y=te(!1),c=te(!1),m=te(),r=(M,I)=>{if(!I||n.value[M].is_revoke==1)return!1;const $=ur(I),U=Math.floor(Date.now()/1e3),G=Math.floor($.getTime()/1e3);if(U-G<300)return!1;if(M==n.value.length-1)return!0;const j=ur(n.value[M+1].created_at);return Xr($,"{y}-{m}-{d} {h}:{i}")!=Xr(j,"{y}-{m}-{d} {h}:{i}")},w=M=>{M.target.scrollTop==0&&o();const I=M.target.scrollTop+M.target.clientHeight;if(y.value=I<M.target.scrollHeight-200,!y.value&&g.unreadBubble&&g.setUnreadBubble(0),y.value==!1){let $=g.records.length;if($>100){g.records.splice(0,$-100);let U=0;g.records.forEach(G=>{(U==0||G.sequence<U)&&(U=G.sequence)}),t.cursor=U,t.status=1}}},O=M=>{var I;if(M.msg_type==1&&M.extra.content&&M.extra.content.length>0)return _u(wu(M.extra.content),()=>v.success("复制成功"));if((I=M.extra)!=null&&I.url)return ku(M.extra.url,()=>{v.success("复制成功")})},C=M=>{g.ApiDeleteRecord([M.msg_id])},L=M=>{g.ApiRevokeRecord(M.msg_id)},A=M=>{g.ApiVoiceTranslate(M.extra.url,M.msg_id)},S=M=>{g.updateDialogueRecord({msg_id:M.msg_id,isCheck:!0}),g.isOpenMultiSelect=!0},k=M=>M.msg_type==3?wc(M.extra.url,`${M.msg_id}.${M.extra.suffix}`):M.msg_type==4?v.info("音频暂不支持下载!"):v.info("视频暂不支持下载!"),E=M=>{var $;let I={id:M.msg_id,title:`${M.nickname} ${M.created_at}`,describe:"",image:""};switch(M.msg_type){case 1:I.describe=($=M==null?void 0:M.extra)==null?void 0:$.content;break;case 2:I.describe="[代码消息]";break;case 3:I.image=M.extra.url;break;case 4:I.describe="[语音文件]";break;case 5:I.describe="[视频文件]";break;case 6:I.describe="[其它文件]";break;case 7:I.describe="[位置消息]";break;case 8:I.describe="[名片消息]";break;case 9:I.describe="[转发消息]";break;case 10:I.describe="[登录消息]";break;case 11:I.describe="[投票消息]";break;case 12:I.describe="[图文消息]";break}Mi.emit("editor:quote",I)},R=M=>{M.msg_type==3&&g.ApiCollectImage({msg_id:M.msg_id})},B=M=>{console.log("onGather",M),c.value=!0,m.value=M},q=()=>{s.value.validate(async M=>{if(!M){const I=await yu({keys:[m.value.msg_id],...p.value});I.code==200?(v.success("收集成功"),p.value={type:null,remark:"",progress_item_id:null},c.value=!1):v.error(I.message)}})},K=M=>{Mi.emit(lo.Mention,{id:M.user_id,value:M.nickname})},W=(M,I)=>{if(!g.isShowEditor||g.isOpenMultiSelect)return M.preventDefault();d(M,i.uid,I),M.preventDefault()},Q={copy:O,revoke:L,delete:C,multiSelect:S,download:k,quote:E,collect:R,gather:B,voice:A},H=M=>{Q[M]&&Q[M](u.item),_()},z=M=>{g.isOpenMultiSelect&&(bu.includes(M.msg_type)?M.isCheck=!M.isCheck:v.info("此类消息不支持转发"))};return Ke(i,()=>{h({...i,limit:30})}),Ke(()=>a.mid,()=>{h({...i,limit:30})}),wt(()=>{h({...i,limit:30})}),(M,I)=>{const $=Ne("revoke-message"),U=Ne("im-avatar"),G=Ne("n-icon");return X(),ie(Te,null,[N("section",Lh,[N("div",{id:"imChatPanel",class:"me-scrollbar me-scrollbar-thumb talk-container",onScroll:I[1]||(I[1]=j=>w(j))},[N("div",Nh,[P(t).status==0?(X(),ie("span",Ih," 正在加载数据中 ... ")):P(t).status==1?(X(),ie("span",{key:1,onClick:I[0]||(I[0]=(...j)=>P(o)&&P(o)(...j))}," 查看更多消息 ... ")):(X(),ie("span",$h," 没有更多消息了 "))]),(X(!0),ie(Te,null,Ge(P(n),(j,J)=>{var Y,ee,se,me;return X(),ie("div",{class:"message-item",key:j.msg_id,id:j.msg_id},[j.msg_type>=1e3?(X(),ie("div",Bh,[(X(),_e(Li(P(cr)[j.msg_type]||"unknown-message"),{extra:j.extra,data:j},null,8,["extra","data"]))])):j.is_revoke==1?(X(),ie("div",Dh,[T($,{login_uid:e.uid,user_id:j.user_id,nickname:j.nickname,talk_type:j.talk_type,datetime:j.created_at},null,8,["login_uid","user_id","nickname","talk_type","datetime"])])):(X(),ie("div",{key:2,class:bt(["message-box record-box",{"direction-rt":j.float=="right","multi-select":P(g).isOpenMultiSelect,"multi-select-check":j.isCheck}])},[P(g).isOpenMultiSelect?(X(),ie("aside",zh,[T(P(ir),{size:"small",checked:j.isCheck,"onUpdate:checked":ke=>j.isCheck=!j.isCheck},null,8,["checked","onUpdate:checked"])])):Me("",!0),N("aside",Fh,[T(U,{class:"pointer",src:j.avatar,size:30,username:j.nickname,onClick:ke=>P(b)(j.user_id)},null,8,["src","username","onClick"])]),N("main",qh,[N("div",Uh,[De(N("span",{class:"nickname pointer",onClick:ke=>K(j)},[I[7]||(I[7]=N("span",{class:"at"},"@",-1)),ye(de(j.nickname),1)],8,Hh),[[je,e.talk_type==2&&j.float=="left"]]),N("span",null,de(P(Xr)(j.created_at,"{m}/{d} {h}:{i}")),1)]),N("div",{class:bt(["talk-content",{pointer:P(g).isOpenMultiSelect}]),onClick:ke=>z(j)},[(X(),_e(Li(P(cr)[j.msg_type]||"unknown-message"),{extra:j.extra,data:j,"max-width":!0,source:"panel",onContextmenu:Zn(ke=>W(ke,j),["prevent"])},null,40,["extra","data","onContextmenu"])),N("div",Wh,[e.talk_type==1&&j.float=="right"?(X(),ie(Te,{key:0},[De(T(P(eh),{theme:"outline",size:"19",fill:"#000",strokeWidth:1,class:"icon-rotate"},null,512),[[je,j.send_status==1]]),De(N("span",null," 正在发送... ",512),[[je,j.send_status==1]])],64)):Me("",!0),T(G,{class:"more-tools pointer",component:P(rh),onClick:ke=>W(ke,j)},null,8,["component","onClick"])])],10,Vh),j.extra.reply?(X(),ie("div",{key:0,class:"talk-reply pointer",onClick:ke=>{var Ee,Ae;return P(l)((Ae=(Ee=j.extra)==null?void 0:Ee.reply)==null?void 0:Ae.msg_id)}},[T(G,{component:P(ch),size:"14",class:"icon-top"},null,8,["component"]),N("span",Kh," 回复 "+de((ee=(Y=j.extra)==null?void 0:Y.reply)==null?void 0:ee.nickname)+": "+de((me=(se=j.extra)==null?void 0:se.reply)==null?void 0:me.content),1)],8,Gh)):Me("",!0)])],2)),De(N("div",{class:"datetime"},de(P(gu)(j.created_at)),513),[[je,r(J,j.created_at)]])],8,jh)}),128))],32),T(Mh,{modelValue:y.value,"onUpdate:modelValue":I[2]||(I[2]=j=>y.value=j)},null,8,["modelValue"])]),T(P(Co),{show:P(u).show,x:P(u).x,y:P(u).y,options:P(u).options,onSelect:H,onClickoutside:P(_)},null,8,["show","x","y","options","onClickoutside"]),T(P(qt),{show:c.value,"onUpdate:show":I[6]||(I[6]=j=>c.value=j)},{default:F(()=>[T(P($i),{title:"",class:"page-card"},{default:F(()=>[T(P(at),{vertical:""},{default:F(()=>[T(P(Ut),{ref_key:"formRef",ref:s,model:P(p),rules:f},{default:F(()=>[T(P(Ve),{label:"类型",path:"type"},{default:F(()=>[T(P(Sc),{value:P(p).type,"onUpdate:value":I[3]||(I[3]=j=>P(p).type=j)},{default:F(()=>[T(P(at),{"item-style":"display: flex;"},{default:F(()=>[T(P(ir),{value:"1",label:"转资料"}),T(P(ir),{value:"2",label:"转进度"})]),_:1})]),_:1},8,["value"])]),_:1}),T(P(Ve),{label:"备注",path:"remark"},{default:F(()=>[T(P(Je),{value:P(p).remark,"onUpdate:value":I[4]||(I[4]=j=>P(p).remark=j),placeholder:"输入备注信息"},null,8,["value"])]),_:1}),T(P(Ve),{label:"进度",path:"progress_item_id"},{default:F(()=>[T(P(Xn),{value:P(p).progress_item_id,"onUpdate:value":I[5]||(I[5]=j=>P(p).progress_item_id=j),options:e.options,placeholder:"请选择进度",style:{width:"100%"}},null,8,["value","options"])]),_:1}),T(P(Re),{type:"info","attr-type":"button",onClick:q},{default:F(()=>I[8]||(I[8]=[ye(" 提交 ")])),_:1})]),_:1},8,["model"])]),_:1})]),_:1})]),_:1},8,["show"])],64)}}});const Yh=rt(Zh,[["__scopeId","data-v-aa6744b4"]]);var Rl={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,a){(function(t,n){e.exports=n()})(typeof self<"u"?self:_t,function(){return function(i){var t={};function n(h){if(t[h])return t[h].exports;var o=t[h]={i:h,l:!1,exports:{}};return i[h].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=i,n.c=t,n.d=function(h,o,l){n.o(h,o)||Object.defineProperty(h,o,{configurable:!1,enumerable:!0,get:l})},n.n=function(h){var o=h&&h.__esModule?function(){return h.default}:function(){return h};return n.d(o,"a",o),o},n.o=function(h,o){return Object.prototype.hasOwnProperty.call(h,o)},n.p="",n(n.s=109)}([function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0});var h=n(17),o=n(18),l=n(19),s=n(45),p=n(46),f=n(47),v=n(48),u=n(49),d=n(12),_=n(32),b=n(33),g=n(31),y=n(1),c={Scope:y.Scope,create:y.create,find:y.find,query:y.query,register:y.register,Container:h.default,Format:o.default,Leaf:l.default,Embed:v.default,Scroll:s.default,Block:f.default,Inline:p.default,Text:u.default,Attributor:{Attribute:d.default,Class:_.default,Style:b.default,Store:g.default}};t.default=c},function(i,t,n){var h=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,c){y.__proto__=c}||function(y,c){for(var m in c)c.hasOwnProperty(m)&&(y[m]=c[m])};return function(y,c){g(y,c);function m(){this.constructor=y}y.prototype=c===null?Object.create(c):(m.prototype=c.prototype,new m)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(g){h(y,g);function y(c){var m=this;return c="[Parchment] "+c,m=g.call(this,c)||this,m.message=c,m.name=m.constructor.name,m}return y}(Error);t.ParchmentError=o;var l={},s={},p={},f={};t.DATA_KEY="__blot";var v;(function(g){g[g.TYPE=3]="TYPE",g[g.LEVEL=12]="LEVEL",g[g.ATTRIBUTE=13]="ATTRIBUTE",g[g.BLOT=14]="BLOT",g[g.INLINE=7]="INLINE",g[g.BLOCK=11]="BLOCK",g[g.BLOCK_BLOT=10]="BLOCK_BLOT",g[g.INLINE_BLOT=6]="INLINE_BLOT",g[g.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",g[g.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",g[g.ANY=15]="ANY"})(v=t.Scope||(t.Scope={}));function u(g,y){var c=_(g);if(c==null)throw new o("Unable to create "+g+" blot");var m=c,r=g instanceof Node||g.nodeType===Node.TEXT_NODE?g:m.create(y);return new m(r,y)}t.create=u;function d(g,y){return y===void 0&&(y=!1),g==null?null:g[t.DATA_KEY]!=null?g[t.DATA_KEY].blot:y?d(g.parentNode,y):null}t.find=d;function _(g,y){y===void 0&&(y=v.ANY);var c;if(typeof g=="string")c=f[g]||l[g];else if(g instanceof Text||g.nodeType===Node.TEXT_NODE)c=f.text;else if(typeof g=="number")g&v.LEVEL&v.BLOCK?c=f.block:g&v.LEVEL&v.INLINE&&(c=f.inline);else if(g instanceof HTMLElement){var m=(g.getAttribute("class")||"").split(/\s+/);for(var r in m)if(c=s[m[r]],c)break;c=c||p[g.tagName]}return c==null?null:y&v.LEVEL&c.scope&&y&v.TYPE&c.scope?c:null}t.query=_;function b(){for(var g=[],y=0;y<arguments.length;y++)g[y]=arguments[y];if(g.length>1)return g.map(function(r){return b(r)});var c=g[0];if(typeof c.blotName!="string"&&typeof c.attrName!="string")throw new o("Invalid definition");if(c.blotName==="abstract")throw new o("Cannot register abstract class");if(f[c.blotName||c.attrName]=c,typeof c.keyName=="string")l[c.keyName]=c;else if(c.className!=null&&(s[c.className]=c),c.tagName!=null){Array.isArray(c.tagName)?c.tagName=c.tagName.map(function(r){return r.toUpperCase()}):c.tagName=c.tagName.toUpperCase();var m=Array.isArray(c.tagName)?c.tagName:[c.tagName];m.forEach(function(r){(p[r]==null||c.className==null)&&(p[r]=c)})}return c}t.register=b},function(i,t,n){var h=n(51),o=n(11),l=n(3),s=n(20),p=String.fromCharCode(0),f=function(v){Array.isArray(v)?this.ops=v:v!=null&&Array.isArray(v.ops)?this.ops=v.ops:this.ops=[]};f.prototype.insert=function(v,u){var d={};return v.length===0?this:(d.insert=v,u!=null&&typeof u=="object"&&Object.keys(u).length>0&&(d.attributes=u),this.push(d))},f.prototype.delete=function(v){return v<=0?this:this.push({delete:v})},f.prototype.retain=function(v,u){if(v<=0)return this;var d={retain:v};return u!=null&&typeof u=="object"&&Object.keys(u).length>0&&(d.attributes=u),this.push(d)},f.prototype.push=function(v){var u=this.ops.length,d=this.ops[u-1];if(v=l(!0,{},v),typeof d=="object"){if(typeof v.delete=="number"&&typeof d.delete=="number")return this.ops[u-1]={delete:d.delete+v.delete},this;if(typeof d.delete=="number"&&v.insert!=null&&(u-=1,d=this.ops[u-1],typeof d!="object"))return this.ops.unshift(v),this;if(o(v.attributes,d.attributes)){if(typeof v.insert=="string"&&typeof d.insert=="string")return this.ops[u-1]={insert:d.insert+v.insert},typeof v.attributes=="object"&&(this.ops[u-1].attributes=v.attributes),this;if(typeof v.retain=="number"&&typeof d.retain=="number")return this.ops[u-1]={retain:d.retain+v.retain},typeof v.attributes=="object"&&(this.ops[u-1].attributes=v.attributes),this}}return u===this.ops.length?this.ops.push(v):this.ops.splice(u,0,v),this},f.prototype.chop=function(){var v=this.ops[this.ops.length-1];return v&&v.retain&&!v.attributes&&this.ops.pop(),this},f.prototype.filter=function(v){return this.ops.filter(v)},f.prototype.forEach=function(v){this.ops.forEach(v)},f.prototype.map=function(v){return this.ops.map(v)},f.prototype.partition=function(v){var u=[],d=[];return this.forEach(function(_){var b=v(_)?u:d;b.push(_)}),[u,d]},f.prototype.reduce=function(v,u){return this.ops.reduce(v,u)},f.prototype.changeLength=function(){return this.reduce(function(v,u){return u.insert?v+s.length(u):u.delete?v-u.delete:v},0)},f.prototype.length=function(){return this.reduce(function(v,u){return v+s.length(u)},0)},f.prototype.slice=function(v,u){v=v||0,typeof u!="number"&&(u=1/0);for(var d=[],_=s.iterator(this.ops),b=0;b<u&&_.hasNext();){var g;b<v?g=_.next(v-b):(g=_.next(u-b),d.push(g)),b+=s.length(g)}return new f(d)},f.prototype.compose=function(v){var u=s.iterator(this.ops),d=s.iterator(v.ops),_=[],b=d.peek();if(b!=null&&typeof b.retain=="number"&&b.attributes==null){for(var g=b.retain;u.peekType()==="insert"&&u.peekLength()<=g;)g-=u.peekLength(),_.push(u.next());b.retain-g>0&&d.next(b.retain-g)}for(var y=new f(_);u.hasNext()||d.hasNext();)if(d.peekType()==="insert")y.push(d.next());else if(u.peekType()==="delete")y.push(u.next());else{var c=Math.min(u.peekLength(),d.peekLength()),m=u.next(c),r=d.next(c);if(typeof r.retain=="number"){var w={};typeof m.retain=="number"?w.retain=c:w.insert=m.insert;var O=s.attributes.compose(m.attributes,r.attributes,typeof m.retain=="number");if(O&&(w.attributes=O),y.push(w),!d.hasNext()&&o(y.ops[y.ops.length-1],w)){var C=new f(u.rest());return y.concat(C).chop()}}else typeof r.delete=="number"&&typeof m.retain=="number"&&y.push(r)}return y.chop()},f.prototype.concat=function(v){var u=new f(this.ops.slice());return v.ops.length>0&&(u.push(v.ops[0]),u.ops=u.ops.concat(v.ops.slice(1))),u},f.prototype.diff=function(v,u){if(this.ops===v.ops)return new f;var d=[this,v].map(function(c){return c.map(function(m){if(m.insert!=null)return typeof m.insert=="string"?m.insert:p;var r=c===v?"on":"with";throw new Error("diff() called "+r+" non-document")}).join("")}),_=new f,b=h(d[0],d[1],u),g=s.iterator(this.ops),y=s.iterator(v.ops);return b.forEach(function(c){for(var m=c[1].length;m>0;){var r=0;switch(c[0]){case h.INSERT:r=Math.min(y.peekLength(),m),_.push(y.next(r));break;case h.DELETE:r=Math.min(m,g.peekLength()),g.next(r),_.delete(r);break;case h.EQUAL:r=Math.min(g.peekLength(),y.peekLength(),m);var w=g.next(r),O=y.next(r);o(w.insert,O.insert)?_.retain(r,s.attributes.diff(w.attributes,O.attributes)):_.push(O).delete(r);break}m-=r}}),_.chop()},f.prototype.eachLine=function(v,u){u=u||`
`;for(var d=s.iterator(this.ops),_=new f,b=0;d.hasNext();){if(d.peekType()!=="insert")return;var g=d.peek(),y=s.length(g)-d.peekLength(),c=typeof g.insert=="string"?g.insert.indexOf(u,y)-y:-1;if(c<0)_.push(d.next());else if(c>0)_.push(d.next(c));else{if(v(_,d.next(1).attributes||{},b)===!1)return;b+=1,_=new f}}_.length()>0&&v(_,{},b)},f.prototype.transform=function(v,u){if(u=!!u,typeof v=="number")return this.transformPosition(v,u);for(var d=s.iterator(this.ops),_=s.iterator(v.ops),b=new f;d.hasNext()||_.hasNext();)if(d.peekType()==="insert"&&(u||_.peekType()!=="insert"))b.retain(s.length(d.next()));else if(_.peekType()==="insert")b.push(_.next());else{var g=Math.min(d.peekLength(),_.peekLength()),y=d.next(g),c=_.next(g);if(y.delete)continue;c.delete?b.push(c):b.retain(g,s.attributes.transform(y.attributes,c.attributes,u))}return b.chop()},f.prototype.transformPosition=function(v,u){u=!!u;for(var d=s.iterator(this.ops),_=0;d.hasNext()&&_<=v;){var b=d.peekLength(),g=d.peekType();if(d.next(),g==="delete"){v-=Math.min(b,v-_);continue}else g==="insert"&&(_<v||!u)&&(v+=b);_+=b}return v},i.exports=f},function(i,t){var n=Object.prototype.hasOwnProperty,h=Object.prototype.toString,o=Object.defineProperty,l=Object.getOwnPropertyDescriptor,s=function(d){return typeof Array.isArray=="function"?Array.isArray(d):h.call(d)==="[object Array]"},p=function(d){if(!d||h.call(d)!=="[object Object]")return!1;var _=n.call(d,"constructor"),b=d.constructor&&d.constructor.prototype&&n.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!_&&!b)return!1;var g;for(g in d);return typeof g>"u"||n.call(d,g)},f=function(d,_){o&&_.name==="__proto__"?o(d,_.name,{enumerable:!0,configurable:!0,value:_.newValue,writable:!0}):d[_.name]=_.newValue},v=function(d,_){if(_==="__proto__")if(n.call(d,_)){if(l)return l(d,_).value}else return;return d[_]};i.exports=function u(){var d,_,b,g,y,c,m=arguments[0],r=1,w=arguments.length,O=!1;for(typeof m=="boolean"&&(O=m,m=arguments[1]||{},r=2),(m==null||typeof m!="object"&&typeof m!="function")&&(m={});r<w;++r)if(d=arguments[r],d!=null)for(_ in d)b=v(m,_),g=v(d,_),m!==g&&(O&&g&&(p(g)||(y=s(g)))?(y?(y=!1,c=b&&s(b)?b:[]):c=b&&p(b)?b:{},f(m,{name:_,newValue:u(O,c,g)})):typeof g<"u"&&f(m,{name:_,newValue:g}));return m}},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var h=function(){function k(E,R){for(var B=0;B<R.length;B++){var q=R[B];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(E,q.key,q)}}return function(E,R,B){return R&&k(E.prototype,R),B&&k(E,B),E}}(),o=function k(E,R,B){E===null&&(E=Function.prototype);var q=Object.getOwnPropertyDescriptor(E,R);if(q===void 0){var K=Object.getPrototypeOf(E);return K===null?void 0:k(K,R,B)}else{if("value"in q)return q.value;var W=q.get;return W===void 0?void 0:W.call(B)}},l=n(3),s=m(l),p=n(2),f=m(p),v=n(0),u=m(v),d=n(16),_=m(d),b=n(6),g=m(b),y=n(7),c=m(y);function m(k){return k&&k.__esModule?k:{default:k}}function r(k,E){if(!(k instanceof E))throw new TypeError("Cannot call a class as a function")}function w(k,E){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:k}function O(k,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);k.prototype=Object.create(E&&E.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(k,E):k.__proto__=E)}var C=1,L=function(k){O(E,k);function E(){return r(this,E),w(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return h(E,[{key:"attach",value:function(){o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"attach",this).call(this),this.attributes=new u.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new f.default().insert(this.value(),(0,s.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(B,q){var K=u.default.query(B,u.default.Scope.BLOCK_ATTRIBUTE);K!=null&&this.attributes.attribute(K,q)}},{key:"formatAt",value:function(B,q,K,W){this.format(K,W)}},{key:"insertAt",value:function(B,q,K){if(typeof q=="string"&&q.endsWith(`
`)){var W=u.default.create(A.blotName);this.parent.insertBefore(W,B===0?this:this.next),W.insertAt(0,q.slice(0,-1))}else o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertAt",this).call(this,B,q,K)}}]),E}(u.default.Embed);L.scope=u.default.Scope.BLOCK_BLOT;var A=function(k){O(E,k);function E(R){r(this,E);var B=w(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,R));return B.cache={},B}return h(E,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(u.default.Leaf).reduce(function(B,q){return q.length()===0?B:B.insert(q.value(),S(q))},new f.default).insert(`
`,S(this))),this.cache.delta}},{key:"deleteAt",value:function(B,q){o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"deleteAt",this).call(this,B,q),this.cache={}}},{key:"formatAt",value:function(B,q,K,W){q<=0||(u.default.query(K,u.default.Scope.BLOCK)?B+q===this.length()&&this.format(K,W):o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"formatAt",this).call(this,B,Math.min(q,this.length()-B-1),K,W),this.cache={})}},{key:"insertAt",value:function(B,q,K){if(K!=null)return o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertAt",this).call(this,B,q,K);if(q.length!==0){var W=q.split(`
`),Q=W.shift();Q.length>0&&(B<this.length()-1||this.children.tail==null?o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertAt",this).call(this,Math.min(B,this.length()-1),Q):this.children.tail.insertAt(this.children.tail.length(),Q),this.cache={});var H=this;W.reduce(function(z,M){return H=H.split(z,!0),H.insertAt(0,M),M.length},B+Q.length)}}},{key:"insertBefore",value:function(B,q){var K=this.children.head;o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertBefore",this).call(this,B,q),K instanceof _.default&&K.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"length",this).call(this)+C),this.cache.length}},{key:"moveChildren",value:function(B,q){o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"moveChildren",this).call(this,B,q),this.cache={}}},{key:"optimize",value:function(B){o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,B),this.cache={}}},{key:"path",value:function(B){return o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"path",this).call(this,B,!0)}},{key:"removeChild",value:function(B){o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"removeChild",this).call(this,B),this.cache={}}},{key:"split",value:function(B){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(q&&(B===0||B>=this.length()-C)){var K=this.clone();return B===0?(this.parent.insertBefore(K,this),this):(this.parent.insertBefore(K,this.next),K)}else{var W=o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"split",this).call(this,B,q);return this.cache={},W}}}]),E}(u.default.Block);A.blotName="block",A.tagName="P",A.defaultChild="break",A.allowedChildren=[g.default,u.default.Embed,c.default];function S(k){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return k==null||(typeof k.formats=="function"&&(E=(0,s.default)(E,k.formats())),k.parent==null||k.parent.blotName=="scroll"||k.parent.statics.scope!==k.statics.scope)?E:S(k.parent,E)}t.bubbleFormats=S,t.BlockEmbed=L,t.default=A},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},o=function(){function H(z,M){var I=[],$=!0,U=!1,G=void 0;try{for(var j=z[Symbol.iterator](),J;!($=(J=j.next()).done)&&(I.push(J.value),!(M&&I.length===M));$=!0);}catch(Y){U=!0,G=Y}finally{try{!$&&j.return&&j.return()}finally{if(U)throw G}}return I}return function(z,M){if(Array.isArray(z))return z;if(Symbol.iterator in Object(z))return H(z,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function H(z,M){for(var I=0;I<M.length;I++){var $=M[I];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(z,$.key,$)}}return function(z,M,I){return M&&H(z.prototype,M),I&&H(z,I),z}}();n(50);var s=n(2),p=S(s),f=n(14),v=S(f),u=n(8),d=S(u),_=n(9),b=S(_),g=n(0),y=S(g),c=n(15),m=S(c),r=n(3),w=S(r),O=n(10),C=S(O),L=n(34),A=S(L);function S(H){return H&&H.__esModule?H:{default:H}}function k(H,z,M){return z in H?Object.defineProperty(H,z,{value:M,enumerable:!0,configurable:!0,writable:!0}):H[z]=M,H}function E(H,z){if(!(H instanceof z))throw new TypeError("Cannot call a class as a function")}var R=(0,C.default)("quill"),B=function(){l(H,null,[{key:"debug",value:function(M){M===!0&&(M="log"),C.default.level(M)}},{key:"find",value:function(M){return M.__quill||y.default.find(M)}},{key:"import",value:function(M){return this.imports[M]==null&&R.error("Cannot import "+M+". Are you sure it was registered?"),this.imports[M]}},{key:"register",value:function(M,I){var $=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof M!="string"){var G=M.attrName||M.blotName;typeof G=="string"?this.register("formats/"+G,M,I):Object.keys(M).forEach(function(j){$.register(j,M[j],I)})}else this.imports[M]!=null&&!U&&R.warn("Overwriting "+M+" with",I),this.imports[M]=I,(M.startsWith("blots/")||M.startsWith("formats/"))&&I.blotName!=="abstract"?y.default.register(I):M.startsWith("modules")&&typeof I.register=="function"&&I.register()}}]);function H(z){var M=this,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(E(this,H),this.options=q(z,I),this.container=this.options.container,this.container==null)return R.error("Invalid Quill container",z);this.options.debug&&H.debug(this.options.debug);var $=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new d.default,this.scroll=y.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new v.default(this.scroll),this.selection=new m.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(d.default.events.EDITOR_CHANGE,function(G){G===d.default.events.TEXT_CHANGE&&M.root.classList.toggle("ql-blank",M.editor.isBlank())}),this.emitter.on(d.default.events.SCROLL_UPDATE,function(G,j){var J=M.selection.lastRange,Y=J&&J.length===0?J.index:void 0;K.call(M,function(){return M.editor.update(null,j,Y)},G)});var U=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+$+"<p><br></p></div>");this.setContents(U),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return l(H,[{key:"addContainer",value:function(M){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof M=="string"){var $=M;M=document.createElement("div"),M.classList.add($)}return this.container.insertBefore(M,I),M}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(M,I,$){var U=this,G=W(M,I,$),j=o(G,4);return M=j[0],I=j[1],$=j[3],K.call(this,function(){return U.editor.deleteText(M,I)},$,M,-1*I)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(M),this.container.classList.toggle("ql-disabled",!M)}},{key:"focus",value:function(){var M=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=M,this.scrollIntoView()}},{key:"format",value:function(M,I){var $=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d.default.sources.API;return K.call(this,function(){var G=$.getSelection(!0),j=new p.default;if(G==null)return j;if(y.default.query(M,y.default.Scope.BLOCK))j=$.editor.formatLine(G.index,G.length,k({},M,I));else{if(G.length===0)return $.selection.format(M,I),j;j=$.editor.formatText(G.index,G.length,k({},M,I))}return $.setSelection(G,d.default.sources.SILENT),j},U)}},{key:"formatLine",value:function(M,I,$,U,G){var j=this,J=void 0,Y=W(M,I,$,U,G),ee=o(Y,4);return M=ee[0],I=ee[1],J=ee[2],G=ee[3],K.call(this,function(){return j.editor.formatLine(M,I,J)},G,M,0)}},{key:"formatText",value:function(M,I,$,U,G){var j=this,J=void 0,Y=W(M,I,$,U,G),ee=o(Y,4);return M=ee[0],I=ee[1],J=ee[2],G=ee[3],K.call(this,function(){return j.editor.formatText(M,I,J)},G,M,0)}},{key:"getBounds",value:function(M){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,$=void 0;typeof M=="number"?$=this.selection.getBounds(M,I):$=this.selection.getBounds(M.index,M.length);var U=this.container.getBoundingClientRect();return{bottom:$.bottom-U.top,height:$.height,left:$.left-U.left,right:$.right-U.left,top:$.top-U.top,width:$.width}}},{key:"getContents",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-M,$=W(M,I),U=o($,2);return M=U[0],I=U[1],this.editor.getContents(M,I)}},{key:"getFormat",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof M=="number"?this.editor.getFormat(M,I):this.editor.getFormat(M.index,M.length)}},{key:"getIndex",value:function(M){return M.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(M){return this.scroll.leaf(M)}},{key:"getLine",value:function(M){return this.scroll.line(M)}},{key:"getLines",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof M!="number"?this.scroll.lines(M.index,M.length):this.scroll.lines(M,I)}},{key:"getModule",value:function(M){return this.theme.modules[M]}},{key:"getSelection",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return M&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-M,$=W(M,I),U=o($,2);return M=U[0],I=U[1],this.editor.getText(M,I)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(M,I,$){var U=this,G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:H.sources.API;return K.call(this,function(){return U.editor.insertEmbed(M,I,$)},G,M)}},{key:"insertText",value:function(M,I,$,U,G){var j=this,J=void 0,Y=W(M,0,$,U,G),ee=o(Y,4);return M=ee[0],J=ee[2],G=ee[3],K.call(this,function(){return j.editor.insertText(M,I,J)},G,M,I.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(M,I,$){this.clipboard.dangerouslyPasteHTML(M,I,$)}},{key:"removeFormat",value:function(M,I,$){var U=this,G=W(M,I,$),j=o(G,4);return M=j[0],I=j[1],$=j[3],K.call(this,function(){return U.editor.removeFormat(M,I)},$,M)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(M){var I=this,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API;return K.call(this,function(){M=new p.default(M);var U=I.getLength(),G=I.editor.deleteText(0,U),j=I.editor.applyDelta(M),J=j.ops[j.ops.length-1];J!=null&&typeof J.insert=="string"&&J.insert[J.insert.length-1]===`
`&&(I.editor.deleteText(I.getLength()-1,1),j.delete(1));var Y=G.compose(j);return Y},$)}},{key:"setSelection",value:function(M,I,$){if(M==null)this.selection.setRange(null,I||H.sources.API);else{var U=W(M,I,$),G=o(U,4);M=G[0],I=G[1],$=G[3],this.selection.setRange(new c.Range(M,I),$),$!==d.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(M){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API,$=new p.default().insert(M);return this.setContents($,I)}},{key:"update",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d.default.sources.USER,I=this.scroll.update(M);return this.selection.update(M),I}},{key:"updateContents",value:function(M){var I=this,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API;return K.call(this,function(){return M=new p.default(M),I.editor.applyDelta(M,$)},$,!0)}}]),H}();B.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},B.events=d.default.events,B.sources=d.default.sources,B.version="1.3.7",B.imports={delta:p.default,parchment:y.default,"core/module":b.default,"core/theme":A.default};function q(H,z){if(z=(0,w.default)(!0,{container:H,modules:{clipboard:!0,keyboard:!0,history:!0}},z),!z.theme||z.theme===B.DEFAULTS.theme)z.theme=A.default;else if(z.theme=B.import("themes/"+z.theme),z.theme==null)throw new Error("Invalid theme "+z.theme+". Did you register it?");var M=(0,w.default)(!0,{},z.theme.DEFAULTS);[M,z].forEach(function(U){U.modules=U.modules||{},Object.keys(U.modules).forEach(function(G){U.modules[G]===!0&&(U.modules[G]={})})});var I=Object.keys(M.modules).concat(Object.keys(z.modules)),$=I.reduce(function(U,G){var j=B.import("modules/"+G);return j==null?R.error("Cannot load "+G+" module. Are you sure you registered it?"):U[G]=j.DEFAULTS||{},U},{});return z.modules!=null&&z.modules.toolbar&&z.modules.toolbar.constructor!==Object&&(z.modules.toolbar={container:z.modules.toolbar}),z=(0,w.default)(!0,{},B.DEFAULTS,{modules:$},M,z),["bounds","container","scrollingContainer"].forEach(function(U){typeof z[U]=="string"&&(z[U]=document.querySelector(z[U]))}),z.modules=Object.keys(z.modules).reduce(function(U,G){return z.modules[G]&&(U[G]=z.modules[G]),U},{}),z}function K(H,z,M,I){if(this.options.strict&&!this.isEnabled()&&z===d.default.sources.USER)return new p.default;var $=M==null?null:this.getSelection(),U=this.editor.delta,G=H();if($!=null&&(M===!0&&(M=$.index),I==null?$=Q($,G,z):I!==0&&($=Q($,M,I,z)),this.setSelection($,d.default.sources.SILENT)),G.length()>0){var j,J=[d.default.events.TEXT_CHANGE,G,U,z];if((j=this.emitter).emit.apply(j,[d.default.events.EDITOR_CHANGE].concat(J)),z!==d.default.sources.SILENT){var Y;(Y=this.emitter).emit.apply(Y,J)}}return G}function W(H,z,M,I,$){var U={};return typeof H.index=="number"&&typeof H.length=="number"?typeof z!="number"?($=I,I=M,M=z,z=H.length,H=H.index):(z=H.length,H=H.index):typeof z!="number"&&($=I,I=M,M=z,z=0),(typeof M>"u"?"undefined":h(M))==="object"?(U=M,$=I):typeof M=="string"&&(I!=null?U[M]=I:$=M),$=$||d.default.sources.API,[H,z,U,$]}function Q(H,z,M,I){if(H==null)return null;var $=void 0,U=void 0;if(z instanceof p.default){var G=[H.index,H.index+H.length].map(function(ee){return z.transformPosition(ee,I!==d.default.sources.USER)}),j=o(G,2);$=j[0],U=j[1]}else{var J=[H.index,H.index+H.length].map(function(ee){return ee<z||ee===z&&I===d.default.sources.USER?ee:M>=0?ee+M:Math.max(z,ee+M)}),Y=o(J,2);$=Y[0],U=Y[1]}return new c.Range($,U-$)}t.expandConfig=q,t.overload=W,t.default=B},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function g(y,c){for(var m=0;m<c.length;m++){var r=c[m];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(y,r.key,r)}}return function(y,c,m){return c&&g(y.prototype,c),m&&g(y,m),y}}(),o=function g(y,c,m){y===null&&(y=Function.prototype);var r=Object.getOwnPropertyDescriptor(y,c);if(r===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:g(w,c,m)}else{if("value"in r)return r.value;var O=r.get;return O===void 0?void 0:O.call(m)}},l=n(7),s=v(l),p=n(0),f=v(p);function v(g){return g&&g.__esModule?g:{default:g}}function u(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function d(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function _(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var b=function(g){_(y,g);function y(){return u(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return h(y,[{key:"formatAt",value:function(m,r,w,O){if(y.compare(this.statics.blotName,w)<0&&f.default.query(w,f.default.Scope.BLOT)){var C=this.isolate(m,r);O&&C.wrap(w,O)}else o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"formatAt",this).call(this,m,r,w,O)}},{key:"optimize",value:function(m){if(o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,m),this.parent instanceof y&&y.compare(this.statics.blotName,this.parent.statics.blotName)>0){var r=this.parent.isolate(this.offset(),this.length());this.moveChildren(r),r.wrap(this)}}}],[{key:"compare",value:function(m,r){var w=y.order.indexOf(m),O=y.order.indexOf(r);return w>=0||O>=0?w-O:m===r?0:m<r?-1:1}}]),y}(f.default.Inline);b.allowedChildren=[b,f.default.Embed,s.default],b.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=b},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0});var h=n(0),o=l(h);function l(u){return u&&u.__esModule?u:{default:u}}function s(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}function p(u,d){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:u}function f(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);u.prototype=Object.create(d&&d.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(u,d):u.__proto__=d)}var v=function(u){f(d,u);function d(){return s(this,d),p(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(o.default.Text);t.default=v},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function c(m,r){for(var w=0;w<r.length;w++){var O=r[w];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(m,O.key,O)}}return function(m,r,w){return r&&c(m.prototype,r),w&&c(m,w),m}}(),o=function c(m,r,w){m===null&&(m=Function.prototype);var O=Object.getOwnPropertyDescriptor(m,r);if(O===void 0){var C=Object.getPrototypeOf(m);return C===null?void 0:c(C,r,w)}else{if("value"in O)return O.value;var L=O.get;return L===void 0?void 0:L.call(w)}},l=n(54),s=v(l),p=n(10),f=v(p);function v(c){return c&&c.__esModule?c:{default:c}}function u(c,m){if(!(c instanceof m))throw new TypeError("Cannot call a class as a function")}function d(c,m){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:c}function _(c,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);c.prototype=Object.create(m&&m.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(c,m):c.__proto__=m)}var b=(0,f.default)("quill:events"),g=["selectionchange","mousedown","mouseup","click"];g.forEach(function(c){document.addEventListener(c,function(){for(var m=arguments.length,r=Array(m),w=0;w<m;w++)r[w]=arguments[w];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(O){if(O.__quill&&O.__quill.emitter){var C;(C=O.__quill.emitter).handleDOM.apply(C,r)}})})});var y=function(c){_(m,c);function m(){u(this,m);var r=d(this,(m.__proto__||Object.getPrototypeOf(m)).call(this));return r.listeners={},r.on("error",b.error),r}return h(m,[{key:"emit",value:function(){b.log.apply(b,arguments),o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(w){for(var O=arguments.length,C=Array(O>1?O-1:0),L=1;L<O;L++)C[L-1]=arguments[L];(this.listeners[w.type]||[]).forEach(function(A){var S=A.node,k=A.handler;(w.target===S||S.contains(w.target))&&k.apply(void 0,[w].concat(C))})}},{key:"listenDOM",value:function(w,O,C){this.listeners[w]||(this.listeners[w]=[]),this.listeners[w].push({node:O,handler:C})}}]),m}(s.default);y.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},y.sources={API:"api",SILENT:"silent",USER:"user"},t.default=y},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0});function h(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}var o=function l(s){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};h(this,l),this.quill=s,this.options=p};o.DEFAULTS={},t.default=o},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0});var h=["error","warn","log","info"],o="warn";function l(p){if(h.indexOf(p)<=h.indexOf(o)){for(var f,v=arguments.length,u=Array(v>1?v-1:0),d=1;d<v;d++)u[d-1]=arguments[d];(f=console)[p].apply(f,u)}}function s(p){return h.reduce(function(f,v){return f[v]=l.bind(console,v,p),f},{})}l.level=s.level=function(p){o=p},t.default=s},function(i,t,n){var h=Array.prototype.slice,o=n(52),l=n(53),s=i.exports=function(u,d,_){return _||(_={}),u===d?!0:u instanceof Date&&d instanceof Date?u.getTime()===d.getTime():!u||!d||typeof u!="object"&&typeof d!="object"?_.strict?u===d:u==d:v(u,d,_)};function p(u){return u==null}function f(u){return!(!u||typeof u!="object"||typeof u.length!="number"||typeof u.copy!="function"||typeof u.slice!="function"||u.length>0&&typeof u[0]!="number")}function v(u,d,_){var b,g;if(p(u)||p(d)||u.prototype!==d.prototype)return!1;if(l(u))return l(d)?(u=h.call(u),d=h.call(d),s(u,d,_)):!1;if(f(u)){if(!f(d)||u.length!==d.length)return!1;for(b=0;b<u.length;b++)if(u[b]!==d[b])return!1;return!0}try{var y=o(u),c=o(d)}catch{return!1}if(y.length!=c.length)return!1;for(y.sort(),c.sort(),b=y.length-1;b>=0;b--)if(y[b]!=c[b])return!1;for(b=y.length-1;b>=0;b--)if(g=y[b],!s(u[g],d[g],_))return!1;return typeof u==typeof d}},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0});var h=n(1),o=function(){function l(s,p,f){f===void 0&&(f={}),this.attrName=s,this.keyName=p;var v=h.Scope.TYPE&h.Scope.ATTRIBUTE;f.scope!=null?this.scope=f.scope&h.Scope.LEVEL|v:this.scope=h.Scope.ATTRIBUTE,f.whitelist!=null&&(this.whitelist=f.whitelist)}return l.keys=function(s){return[].map.call(s.attributes,function(p){return p.name})},l.prototype.add=function(s,p){return this.canAdd(s,p)?(s.setAttribute(this.keyName,p),!0):!1},l.prototype.canAdd=function(s,p){var f=h.query(s,h.Scope.BLOT&(this.scope|h.Scope.TYPE));return f==null?!1:this.whitelist==null?!0:typeof p=="string"?this.whitelist.indexOf(p.replace(/["']/g,""))>-1:this.whitelist.indexOf(p)>-1},l.prototype.remove=function(s){s.removeAttribute(this.keyName)},l.prototype.value=function(s){var p=s.getAttribute(this.keyName);return this.canAdd(s,p)&&p?p:""},l}();t.default=o},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var h=function(){function L(A,S){var k=[],E=!0,R=!1,B=void 0;try{for(var q=A[Symbol.iterator](),K;!(E=(K=q.next()).done)&&(k.push(K.value),!(S&&k.length===S));E=!0);}catch(W){R=!0,B=W}finally{try{!E&&q.return&&q.return()}finally{if(R)throw B}}return k}return function(A,S){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return L(A,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function L(A,S){for(var k=0;k<S.length;k++){var E=S[k];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(A,E.key,E)}}return function(A,S,k){return S&&L(A.prototype,S),k&&L(A,k),A}}(),l=function L(A,S,k){A===null&&(A=Function.prototype);var E=Object.getOwnPropertyDescriptor(A,S);if(E===void 0){var R=Object.getPrototypeOf(A);return R===null?void 0:L(R,S,k)}else{if("value"in E)return E.value;var B=E.get;return B===void 0?void 0:B.call(k)}},s=n(2),p=c(s),f=n(0),v=c(f),u=n(4),d=c(u),_=n(6),b=c(_),g=n(7),y=c(g);function c(L){return L&&L.__esModule?L:{default:L}}function m(L,A){if(!(L instanceof A))throw new TypeError("Cannot call a class as a function")}function r(L,A){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:L}function w(L,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);L.prototype=Object.create(A&&A.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(L,A):L.__proto__=A)}var O=function(L){w(A,L);function A(){return m(this,A),r(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return A}(b.default);O.blotName="code",O.tagName="CODE";var C=function(L){w(A,L);function A(){return m(this,A),r(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return o(A,[{key:"delta",value:function(){var k=this,E=this.domNode.textContent;return E.endsWith(`
`)&&(E=E.slice(0,-1)),E.split(`
`).reduce(function(R,B){return R.insert(B).insert(`
`,k.formats())},new p.default)}},{key:"format",value:function(k,E){if(!(k===this.statics.blotName&&E)){var R=this.descendant(y.default,this.length()-1),B=h(R,1),q=B[0];q!=null&&q.deleteAt(q.length()-1,1),l(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"format",this).call(this,k,E)}}},{key:"formatAt",value:function(k,E,R,B){if(E!==0&&!(v.default.query(R,v.default.Scope.BLOCK)==null||R===this.statics.blotName&&B===this.statics.formats(this.domNode))){var q=this.newlineIndex(k);if(!(q<0||q>=k+E)){var K=this.newlineIndex(k,!0)+1,W=q-K+1,Q=this.isolate(K,W),H=Q.next;Q.format(R,B),H instanceof A&&H.formatAt(0,k-K+E-W,R,B)}}}},{key:"insertAt",value:function(k,E,R){if(R==null){var B=this.descendant(y.default,k),q=h(B,2),K=q[0],W=q[1];K.insertAt(W,E)}}},{key:"length",value:function(){var k=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?k:k+1}},{key:"newlineIndex",value:function(k){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(E)return this.domNode.textContent.slice(0,k).lastIndexOf(`
`);var R=this.domNode.textContent.slice(k).indexOf(`
`);return R>-1?k+R:-1}},{key:"optimize",value:function(k){this.domNode.textContent.endsWith(`
`)||this.appendChild(v.default.create("text",`
`)),l(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,k);var E=this.next;E!=null&&E.prev===this&&E.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===E.statics.formats(E.domNode)&&(E.optimize(k),E.moveChildren(this),E.remove())}},{key:"replace",value:function(k){l(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"replace",this).call(this,k),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(E){var R=v.default.find(E);R==null?E.parentNode.removeChild(E):R instanceof v.default.Embed?R.remove():R.unwrap()})}}],[{key:"create",value:function(k){var E=l(A.__proto__||Object.getPrototypeOf(A),"create",this).call(this,k);return E.setAttribute("spellcheck",!1),E}},{key:"formats",value:function(){return!0}}]),A}(d.default);C.blotName="code-block",C.tagName="PRE",C.TAB="  ",t.Code=O,t.default=C},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0});var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},o=function(){function H(z,M){var I=[],$=!0,U=!1,G=void 0;try{for(var j=z[Symbol.iterator](),J;!($=(J=j.next()).done)&&(I.push(J.value),!(M&&I.length===M));$=!0);}catch(Y){U=!0,G=Y}finally{try{!$&&j.return&&j.return()}finally{if(U)throw G}}return I}return function(z,M){if(Array.isArray(z))return z;if(Symbol.iterator in Object(z))return H(z,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function H(z,M){for(var I=0;I<M.length;I++){var $=M[I];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(z,$.key,$)}}return function(z,M,I){return M&&H(z.prototype,M),I&&H(z,I),z}}(),s=n(2),p=E(s),f=n(20),v=E(f),u=n(0),d=E(u),_=n(13),b=E(_),g=n(24),y=E(g),c=n(4),m=E(c),r=n(16),w=E(r),O=n(21),C=E(O),L=n(11),A=E(L),S=n(3),k=E(S);function E(H){return H&&H.__esModule?H:{default:H}}function R(H,z,M){return z in H?Object.defineProperty(H,z,{value:M,enumerable:!0,configurable:!0,writable:!0}):H[z]=M,H}function B(H,z){if(!(H instanceof z))throw new TypeError("Cannot call a class as a function")}var q=/^[ -~]*$/,K=function(){function H(z){B(this,H),this.scroll=z,this.delta=this.getDelta()}return l(H,[{key:"applyDelta",value:function(M){var I=this,$=!1;this.scroll.update();var U=this.scroll.length();return this.scroll.batchStart(),M=Q(M),M.reduce(function(G,j){var J=j.retain||j.delete||j.insert.length||1,Y=j.attributes||{};if(j.insert!=null){if(typeof j.insert=="string"){var ee=j.insert;ee.endsWith(`
`)&&$&&($=!1,ee=ee.slice(0,-1)),G>=U&&!ee.endsWith(`
`)&&($=!0),I.scroll.insertAt(G,ee);var se=I.scroll.line(G),me=o(se,2),ke=me[0],Ee=me[1],Ae=(0,k.default)({},(0,c.bubbleFormats)(ke));if(ke instanceof m.default){var qe=ke.descendant(d.default.Leaf,Ee),tt=o(qe,1),Xe=tt[0];Ae=(0,k.default)(Ae,(0,c.bubbleFormats)(Xe))}Y=v.default.attributes.diff(Ae,Y)||{}}else if(h(j.insert)==="object"){var re=Object.keys(j.insert)[0];if(re==null)return G;I.scroll.insertAt(G,re,j.insert[re])}U+=J}return Object.keys(Y).forEach(function(le){I.scroll.formatAt(G,J,le,Y[le])}),G+J},0),M.reduce(function(G,j){return typeof j.delete=="number"?(I.scroll.deleteAt(G,j.delete),G):G+(j.retain||j.insert.length||1)},0),this.scroll.batchEnd(),this.update(M)}},{key:"deleteText",value:function(M,I){return this.scroll.deleteAt(M,I),this.update(new p.default().retain(M).delete(I))}},{key:"formatLine",value:function(M,I){var $=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(U).forEach(function(G){if(!($.scroll.whitelist!=null&&!$.scroll.whitelist[G])){var j=$.scroll.lines(M,Math.max(I,1)),J=I;j.forEach(function(Y){var ee=Y.length();if(!(Y instanceof b.default))Y.format(G,U[G]);else{var se=M-Y.offset($.scroll),me=Y.newlineIndex(se+J)-se+1;Y.formatAt(se,me,G,U[G])}J-=ee})}}),this.scroll.optimize(),this.update(new p.default().retain(M).retain(I,(0,C.default)(U)))}},{key:"formatText",value:function(M,I){var $=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(U).forEach(function(G){$.scroll.formatAt(M,I,G,U[G])}),this.update(new p.default().retain(M).retain(I,(0,C.default)(U)))}},{key:"getContents",value:function(M,I){return this.delta.slice(M,M+I)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(M,I){return M.concat(I.delta())},new p.default)}},{key:"getFormat",value:function(M){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,$=[],U=[];I===0?this.scroll.path(M).forEach(function(j){var J=o(j,1),Y=J[0];Y instanceof m.default?$.push(Y):Y instanceof d.default.Leaf&&U.push(Y)}):($=this.scroll.lines(M,I),U=this.scroll.descendants(d.default.Leaf,M,I));var G=[$,U].map(function(j){if(j.length===0)return{};for(var J=(0,c.bubbleFormats)(j.shift());Object.keys(J).length>0;){var Y=j.shift();if(Y==null)return J;J=W((0,c.bubbleFormats)(Y),J)}return J});return k.default.apply(k.default,G)}},{key:"getText",value:function(M,I){return this.getContents(M,I).filter(function($){return typeof $.insert=="string"}).map(function($){return $.insert}).join("")}},{key:"insertEmbed",value:function(M,I,$){return this.scroll.insertAt(M,I,$),this.update(new p.default().retain(M).insert(R({},I,$)))}},{key:"insertText",value:function(M,I){var $=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return I=I.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(M,I),Object.keys(U).forEach(function(G){$.scroll.formatAt(M,I.length,G,U[G])}),this.update(new p.default().retain(M).insert(I,(0,C.default)(U)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var M=this.scroll.children.head;return M.statics.blotName!==m.default.blotName||M.children.length>1?!1:M.children.head instanceof w.default}},{key:"removeFormat",value:function(M,I){var $=this.getText(M,I),U=this.scroll.line(M+I),G=o(U,2),j=G[0],J=G[1],Y=0,ee=new p.default;j!=null&&(j instanceof b.default?Y=j.newlineIndex(J)-J+1:Y=j.length()-J,ee=j.delta().slice(J,J+Y-1).insert(`
`));var se=this.getContents(M,I+Y),me=se.diff(new p.default().insert($).concat(ee)),ke=new p.default().retain(M).concat(me);return this.applyDelta(ke)}},{key:"update",value:function(M){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,U=this.delta;if(I.length===1&&I[0].type==="characterData"&&I[0].target.data.match(q)&&d.default.find(I[0].target)){var G=d.default.find(I[0].target),j=(0,c.bubbleFormats)(G),J=G.offset(this.scroll),Y=I[0].oldValue.replace(y.default.CONTENTS,""),ee=new p.default().insert(Y),se=new p.default().insert(G.value()),me=new p.default().retain(J).concat(ee.diff(se,$));M=me.reduce(function(ke,Ee){return Ee.insert?ke.insert(Ee.insert,j):ke.push(Ee)},new p.default),this.delta=U.compose(M)}else this.delta=this.getDelta(),(!M||!(0,A.default)(U.compose(M),this.delta))&&(M=U.diff(this.delta,$));return M}}]),H}();function W(H,z){return Object.keys(z).reduce(function(M,I){return H[I]==null||(z[I]===H[I]?M[I]=z[I]:Array.isArray(z[I])?z[I].indexOf(H[I])<0&&(M[I]=z[I].concat([H[I]])):M[I]=[z[I],H[I]]),M},{})}function Q(H){return H.reduce(function(z,M){if(M.insert===1){var I=(0,C.default)(M.attributes);return delete I.image,z.insert({image:M.attributes.image},I)}if(M.attributes!=null&&(M.attributes.list===!0||M.attributes.bullet===!0)&&(M=(0,C.default)(M),M.attributes.list?M.attributes.list="ordered":(M.attributes.list="bullet",delete M.attributes.bullet)),typeof M.insert=="string"){var $=M.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return z.insert($,M.attributes)}return z.push(M)},new p.default)}t.default=K},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var h=function(){function L(A,S){var k=[],E=!0,R=!1,B=void 0;try{for(var q=A[Symbol.iterator](),K;!(E=(K=q.next()).done)&&(k.push(K.value),!(S&&k.length===S));E=!0);}catch(W){R=!0,B=W}finally{try{!E&&q.return&&q.return()}finally{if(R)throw B}}return k}return function(A,S){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return L(A,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function L(A,S){for(var k=0;k<S.length;k++){var E=S[k];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(A,E.key,E)}}return function(A,S,k){return S&&L(A.prototype,S),k&&L(A,k),A}}(),l=n(0),s=y(l),p=n(21),f=y(p),v=n(11),u=y(v),d=n(8),_=y(d),b=n(10),g=y(b);function y(L){return L&&L.__esModule?L:{default:L}}function c(L){if(Array.isArray(L)){for(var A=0,S=Array(L.length);A<L.length;A++)S[A]=L[A];return S}else return Array.from(L)}function m(L,A){if(!(L instanceof A))throw new TypeError("Cannot call a class as a function")}var r=(0,g.default)("quill:selection"),w=function L(A){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;m(this,L),this.index=A,this.length=S},O=function(){function L(A,S){var k=this;m(this,L),this.emitter=S,this.scroll=A,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=s.default.create("cursor",this),this.lastRange=this.savedRange=new w(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){k.mouseDown||setTimeout(k.update.bind(k,_.default.sources.USER),1)}),this.emitter.on(_.default.events.EDITOR_CHANGE,function(E,R){E===_.default.events.TEXT_CHANGE&&R.length()>0&&k.update(_.default.sources.SILENT)}),this.emitter.on(_.default.events.SCROLL_BEFORE_UPDATE,function(){if(k.hasFocus()){var E=k.getNativeRange();E!=null&&E.start.node!==k.cursor.textNode&&k.emitter.once(_.default.events.SCROLL_UPDATE,function(){try{k.setNativeRange(E.start.node,E.start.offset,E.end.node,E.end.offset)}catch{}})}}),this.emitter.on(_.default.events.SCROLL_OPTIMIZE,function(E,R){if(R.range){var B=R.range,q=B.startNode,K=B.startOffset,W=B.endNode,Q=B.endOffset;k.setNativeRange(q,K,W,Q)}}),this.update(_.default.sources.SILENT)}return o(L,[{key:"handleComposition",value:function(){var S=this;this.root.addEventListener("compositionstart",function(){S.composing=!0}),this.root.addEventListener("compositionend",function(){if(S.composing=!1,S.cursor.parent){var k=S.cursor.restore();if(!k)return;setTimeout(function(){S.setNativeRange(k.startNode,k.startOffset,k.endNode,k.endOffset)},1)}})}},{key:"handleDragging",value:function(){var S=this;this.emitter.listenDOM("mousedown",document.body,function(){S.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){S.mouseDown=!1,S.update(_.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(S,k){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[S])){this.scroll.update();var E=this.getNativeRange();if(!(E==null||!E.native.collapsed||s.default.query(S,s.default.Scope.BLOCK))){if(E.start.node!==this.cursor.textNode){var R=s.default.find(E.start.node,!1);if(R==null)return;if(R instanceof s.default.Leaf){var B=R.split(E.start.offset);R.parent.insertBefore(this.cursor,B)}else R.insertBefore(this.cursor,E.start.node);this.cursor.attach()}this.cursor.format(S,k),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(S){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,E=this.scroll.length();S=Math.min(S,E-1),k=Math.min(S+k,E-1)-S;var R=void 0,B=this.scroll.leaf(S),q=h(B,2),K=q[0],W=q[1];if(K==null)return null;var Q=K.position(W,!0),H=h(Q,2);R=H[0],W=H[1];var z=document.createRange();if(k>0){z.setStart(R,W);var M=this.scroll.leaf(S+k),I=h(M,2);if(K=I[0],W=I[1],K==null)return null;var $=K.position(W,!0),U=h($,2);return R=U[0],W=U[1],z.setEnd(R,W),z.getBoundingClientRect()}else{var G="left",j=void 0;return R instanceof Text?(W<R.data.length?(z.setStart(R,W),z.setEnd(R,W+1)):(z.setStart(R,W-1),z.setEnd(R,W),G="right"),j=z.getBoundingClientRect()):(j=K.domNode.getBoundingClientRect(),W>0&&(G="right")),{bottom:j.top+j.height,height:j.height,left:j[G],right:j[G],top:j.top,width:0}}}},{key:"getNativeRange",value:function(){var S=document.getSelection();if(S==null||S.rangeCount<=0)return null;var k=S.getRangeAt(0);if(k==null)return null;var E=this.normalizeNative(k);return r.info("getNativeRange",E),E}},{key:"getRange",value:function(){var S=this.getNativeRange();if(S==null)return[null,null];var k=this.normalizedToRange(S);return[k,S]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(S){var k=this,E=[[S.start.node,S.start.offset]];S.native.collapsed||E.push([S.end.node,S.end.offset]);var R=E.map(function(K){var W=h(K,2),Q=W[0],H=W[1],z=s.default.find(Q,!0),M=z.offset(k.scroll);return H===0?M:z instanceof s.default.Container?M+z.length():M+z.index(Q,H)}),B=Math.min(Math.max.apply(Math,c(R)),this.scroll.length()-1),q=Math.min.apply(Math,[B].concat(c(R)));return new w(q,B-q)}},{key:"normalizeNative",value:function(S){if(!C(this.root,S.startContainer)||!S.collapsed&&!C(this.root,S.endContainer))return null;var k={start:{node:S.startContainer,offset:S.startOffset},end:{node:S.endContainer,offset:S.endOffset},native:S};return[k.start,k.end].forEach(function(E){for(var R=E.node,B=E.offset;!(R instanceof Text)&&R.childNodes.length>0;)if(R.childNodes.length>B)R=R.childNodes[B],B=0;else if(R.childNodes.length===B)R=R.lastChild,B=R instanceof Text?R.data.length:R.childNodes.length+1;else break;E.node=R,E.offset=B}),k}},{key:"rangeToNative",value:function(S){var k=this,E=S.collapsed?[S.index]:[S.index,S.index+S.length],R=[],B=this.scroll.length();return E.forEach(function(q,K){q=Math.min(B-1,q);var W=void 0,Q=k.scroll.leaf(q),H=h(Q,2),z=H[0],M=H[1],I=z.position(M,K!==0),$=h(I,2);W=$[0],M=$[1],R.push(W,M)}),R.length<2&&(R=R.concat(R)),R}},{key:"scrollIntoView",value:function(S){var k=this.lastRange;if(k!=null){var E=this.getBounds(k.index,k.length);if(E!=null){var R=this.scroll.length()-1,B=this.scroll.line(Math.min(k.index,R)),q=h(B,1),K=q[0],W=K;if(k.length>0){var Q=this.scroll.line(Math.min(k.index+k.length,R)),H=h(Q,1);W=H[0]}if(!(K==null||W==null)){var z=S.getBoundingClientRect();E.top<z.top?S.scrollTop-=z.top-E.top:E.bottom>z.bottom&&(S.scrollTop+=E.bottom-z.bottom)}}}}},{key:"setNativeRange",value:function(S,k){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S,R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:k,B=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(r.info("setNativeRange",S,k,E,R),!(S!=null&&(this.root.parentNode==null||S.parentNode==null||E.parentNode==null))){var q=document.getSelection();if(q!=null)if(S!=null){this.hasFocus()||this.root.focus();var K=(this.getNativeRange()||{}).native;if(K==null||B||S!==K.startContainer||k!==K.startOffset||E!==K.endContainer||R!==K.endOffset){S.tagName=="BR"&&(k=[].indexOf.call(S.parentNode.childNodes,S),S=S.parentNode),E.tagName=="BR"&&(R=[].indexOf.call(E.parentNode.childNodes,E),E=E.parentNode);var W=document.createRange();W.setStart(S,k),W.setEnd(E,R),q.removeAllRanges(),q.addRange(W)}}else q.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(S){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.default.sources.API;if(typeof k=="string"&&(E=k,k=!1),r.info("setRange",S),S!=null){var R=this.rangeToNative(S);this.setNativeRange.apply(this,c(R).concat([k]))}else this.setNativeRange(null);this.update(E)}},{key:"update",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_.default.sources.USER,k=this.lastRange,E=this.getRange(),R=h(E,2),B=R[0],q=R[1];if(this.lastRange=B,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,u.default)(k,this.lastRange)){var K;!this.composing&&q!=null&&q.native.collapsed&&q.start.node!==this.cursor.textNode&&this.cursor.restore();var W=[_.default.events.SELECTION_CHANGE,(0,f.default)(this.lastRange),(0,f.default)(k),S];if((K=this.emitter).emit.apply(K,[_.default.events.EDITOR_CHANGE].concat(W)),S!==_.default.sources.SILENT){var Q;(Q=this.emitter).emit.apply(Q,W)}}}}]),L}();function C(L,A){try{A.parentNode}catch{return!1}return A instanceof Text&&(A=A.parentNode),L.contains(A)}t.Range=w,t.default=O},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function _(b,g){for(var y=0;y<g.length;y++){var c=g[y];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(b,c.key,c)}}return function(b,g,y){return g&&_(b.prototype,g),y&&_(b,y),b}}(),o=function _(b,g,y){b===null&&(b=Function.prototype);var c=Object.getOwnPropertyDescriptor(b,g);if(c===void 0){var m=Object.getPrototypeOf(b);return m===null?void 0:_(m,g,y)}else{if("value"in c)return c.value;var r=c.get;return r===void 0?void 0:r.call(y)}},l=n(0),s=p(l);function p(_){return _&&_.__esModule?_:{default:_}}function f(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}function v(_,b){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:_}function u(_,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(_,b):_.__proto__=b)}var d=function(_){u(b,_);function b(){return f(this,b),v(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return h(b,[{key:"insertInto",value:function(y,c){y.children.length===0?o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertInto",this).call(this,y,c):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),b}(s.default.Embed);d.blotName="break",d.tagName="BR",t.default=d},function(i,t,n){var h=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var _ in d)d.hasOwnProperty(_)&&(u[_]=d[_])};return function(u,d){v(u,d);function _(){this.constructor=u}u.prototype=d===null?Object.create(d):(_.prototype=d.prototype,new _)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(44),l=n(30),s=n(1),p=function(v){h(u,v);function u(d){var _=v.call(this,d)||this;return _.build(),_}return u.prototype.appendChild=function(d){this.insertBefore(d)},u.prototype.attach=function(){v.prototype.attach.call(this),this.children.forEach(function(d){d.attach()})},u.prototype.build=function(){var d=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(_){try{var b=f(_);d.insertBefore(b,d.children.head||void 0)}catch(g){if(g instanceof s.ParchmentError)return;throw g}})},u.prototype.deleteAt=function(d,_){if(d===0&&_===this.length())return this.remove();this.children.forEachAt(d,_,function(b,g,y){b.deleteAt(g,y)})},u.prototype.descendant=function(d,_){var b=this.children.find(_),g=b[0],y=b[1];return d.blotName==null&&d(g)||d.blotName!=null&&g instanceof d?[g,y]:g instanceof u?g.descendant(d,y):[null,-1]},u.prototype.descendants=function(d,_,b){_===void 0&&(_=0),b===void 0&&(b=Number.MAX_VALUE);var g=[],y=b;return this.children.forEachAt(_,b,function(c,m,r){(d.blotName==null&&d(c)||d.blotName!=null&&c instanceof d)&&g.push(c),c instanceof u&&(g=g.concat(c.descendants(d,m,y))),y-=r}),g},u.prototype.detach=function(){this.children.forEach(function(d){d.detach()}),v.prototype.detach.call(this)},u.prototype.formatAt=function(d,_,b,g){this.children.forEachAt(d,_,function(y,c,m){y.formatAt(c,m,b,g)})},u.prototype.insertAt=function(d,_,b){var g=this.children.find(d),y=g[0],c=g[1];if(y)y.insertAt(c,_,b);else{var m=b==null?s.create("text",_):s.create(_,b);this.appendChild(m)}},u.prototype.insertBefore=function(d,_){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(b){return d instanceof b}))throw new s.ParchmentError("Cannot insert "+d.statics.blotName+" into "+this.statics.blotName);d.insertInto(this,_)},u.prototype.length=function(){return this.children.reduce(function(d,_){return d+_.length()},0)},u.prototype.moveChildren=function(d,_){this.children.forEach(function(b){d.insertBefore(b,_)})},u.prototype.optimize=function(d){if(v.prototype.optimize.call(this,d),this.children.length===0)if(this.statics.defaultChild!=null){var _=s.create(this.statics.defaultChild);this.appendChild(_),_.optimize(d)}else this.remove()},u.prototype.path=function(d,_){_===void 0&&(_=!1);var b=this.children.find(d,_),g=b[0],y=b[1],c=[[this,d]];return g instanceof u?c.concat(g.path(y,_)):(g!=null&&c.push([g,y]),c)},u.prototype.removeChild=function(d){this.children.remove(d)},u.prototype.replace=function(d){d instanceof u&&d.moveChildren(this),v.prototype.replace.call(this,d)},u.prototype.split=function(d,_){if(_===void 0&&(_=!1),!_){if(d===0)return this;if(d===this.length())return this.next}var b=this.clone();return this.parent.insertBefore(b,this.next),this.children.forEachAt(d,this.length(),function(g,y,c){g=g.split(y,_),b.appendChild(g)}),b},u.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},u.prototype.update=function(d,_){var b=this,g=[],y=[];d.forEach(function(c){c.target===b.domNode&&c.type==="childList"&&(g.push.apply(g,c.addedNodes),y.push.apply(y,c.removedNodes))}),y.forEach(function(c){if(!(c.parentNode!=null&&c.tagName!=="IFRAME"&&document.body.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var m=s.find(c);m!=null&&(m.domNode.parentNode==null||m.domNode.parentNode===b.domNode)&&m.detach()}}),g.filter(function(c){return c.parentNode==b.domNode}).sort(function(c,m){return c===m?0:c.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(c){var m=null;c.nextSibling!=null&&(m=s.find(c.nextSibling));var r=f(c);(r.next!=m||r.next==null)&&(r.parent!=null&&r.parent.removeChild(b),b.insertBefore(r,m||void 0))})},u}(l.default);function f(v){var u=s.find(v);if(u==null)try{u=s.create(v)}catch{u=s.create(s.Scope.INLINE),[].slice.call(v.childNodes).forEach(function(_){u.domNode.appendChild(_)}),v.parentNode&&v.parentNode.replaceChild(u.domNode,v),u.attach()}return u}t.default=p},function(i,t,n){var h=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var _ in d)d.hasOwnProperty(_)&&(u[_]=d[_])};return function(u,d){v(u,d);function _(){this.constructor=u}u.prototype=d===null?Object.create(d):(_.prototype=d.prototype,new _)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),l=n(31),s=n(17),p=n(1),f=function(v){h(u,v);function u(d){var _=v.call(this,d)||this;return _.attributes=new l.default(_.domNode),_}return u.formats=function(d){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return d.tagName.toLowerCase()},u.prototype.format=function(d,_){var b=p.query(d);b instanceof o.default?this.attributes.attribute(b,_):_&&b!=null&&(d!==this.statics.blotName||this.formats()[d]!==_)&&this.replaceWith(d,_)},u.prototype.formats=function(){var d=this.attributes.values(),_=this.statics.formats(this.domNode);return _!=null&&(d[this.statics.blotName]=_),d},u.prototype.replaceWith=function(d,_){var b=v.prototype.replaceWith.call(this,d,_);return this.attributes.copy(b),b},u.prototype.update=function(d,_){var b=this;v.prototype.update.call(this,d,_),d.some(function(g){return g.target===b.domNode&&g.type==="attributes"})&&this.attributes.build()},u.prototype.wrap=function(d,_){var b=v.prototype.wrap.call(this,d,_);return b instanceof u&&b.statics.scope===this.statics.scope&&this.attributes.move(b),b},u}(s.default);t.default=f},function(i,t,n){var h=this&&this.__extends||function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,v){f.__proto__=v}||function(f,v){for(var u in v)v.hasOwnProperty(u)&&(f[u]=v[u])};return function(f,v){p(f,v);function u(){this.constructor=f}f.prototype=v===null?Object.create(v):(u.prototype=v.prototype,new u)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(30),l=n(1),s=function(p){h(f,p);function f(){return p!==null&&p.apply(this,arguments)||this}return f.value=function(v){return!0},f.prototype.index=function(v,u){return this.domNode===v||this.domNode.compareDocumentPosition(v)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(u,1):-1},f.prototype.position=function(v,u){var d=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return v>0&&(d+=1),[this.parent.domNode,d]},f.prototype.value=function(){var v;return v={},v[this.statics.blotName]=this.statics.value(this.domNode)||!0,v},f.scope=l.Scope.INLINE_BLOT,f}(o.default);t.default=s},function(i,t,n){var h=n(11),o=n(3),l={attributes:{compose:function(p,f,v){typeof p!="object"&&(p={}),typeof f!="object"&&(f={});var u=o(!0,{},f);v||(u=Object.keys(u).reduce(function(_,b){return u[b]!=null&&(_[b]=u[b]),_},{}));for(var d in p)p[d]!==void 0&&f[d]===void 0&&(u[d]=p[d]);return Object.keys(u).length>0?u:void 0},diff:function(p,f){typeof p!="object"&&(p={}),typeof f!="object"&&(f={});var v=Object.keys(p).concat(Object.keys(f)).reduce(function(u,d){return h(p[d],f[d])||(u[d]=f[d]===void 0?null:f[d]),u},{});return Object.keys(v).length>0?v:void 0},transform:function(p,f,v){if(typeof p!="object")return f;if(typeof f=="object"){if(!v)return f;var u=Object.keys(f).reduce(function(d,_){return p[_]===void 0&&(d[_]=f[_]),d},{});return Object.keys(u).length>0?u:void 0}}},iterator:function(p){return new s(p)},length:function(p){return typeof p.delete=="number"?p.delete:typeof p.retain=="number"?p.retain:typeof p.insert=="string"?p.insert.length:1}};function s(p){this.ops=p,this.index=0,this.offset=0}s.prototype.hasNext=function(){return this.peekLength()<1/0},s.prototype.next=function(p){p||(p=1/0);var f=this.ops[this.index];if(f){var v=this.offset,u=l.length(f);if(p>=u-v?(p=u-v,this.index+=1,this.offset=0):this.offset+=p,typeof f.delete=="number")return{delete:p};var d={};return f.attributes&&(d.attributes=f.attributes),typeof f.retain=="number"?d.retain=p:typeof f.insert=="string"?d.insert=f.insert.substr(v,p):d.insert=f.insert,d}else return{retain:1/0}},s.prototype.peek=function(){return this.ops[this.index]},s.prototype.peekLength=function(){return this.ops[this.index]?l.length(this.ops[this.index])-this.offset:1/0},s.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},s.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var p=this.offset,f=this.index,v=this.next(),u=this.ops.slice(this.index);return this.offset=p,this.index=f,[v].concat(u)}else return[]},i.exports=l},function(i,t){var n=function(){function h(b,g){return g!=null&&b instanceof g}var o;try{o=Map}catch{o=function(){}}var l;try{l=Set}catch{l=function(){}}var s;try{s=Promise}catch{s=function(){}}function p(b,g,y,c,m){typeof g=="object"&&(y=g.depth,c=g.prototype,m=g.includeNonEnumerable,g=g.circular);var r=[],w=[],O=typeof Buffer<"u";typeof g>"u"&&(g=!0),typeof y>"u"&&(y=1/0);function C(L,A){if(L===null)return null;if(A===0)return L;var S,k;if(typeof L!="object")return L;if(h(L,o))S=new o;else if(h(L,l))S=new l;else if(h(L,s))S=new s(function(z,M){L.then(function(I){z(C(I,A-1))},function(I){M(C(I,A-1))})});else if(p.__isArray(L))S=[];else if(p.__isRegExp(L))S=new RegExp(L.source,_(L)),L.lastIndex&&(S.lastIndex=L.lastIndex);else if(p.__isDate(L))S=new Date(L.getTime());else{if(O&&Buffer.isBuffer(L))return Buffer.allocUnsafe?S=Buffer.allocUnsafe(L.length):S=new Buffer(L.length),L.copy(S),S;h(L,Error)?S=Object.create(L):typeof c>"u"?(k=Object.getPrototypeOf(L),S=Object.create(k)):(S=Object.create(c),k=c)}if(g){var E=r.indexOf(L);if(E!=-1)return w[E];r.push(L),w.push(S)}h(L,o)&&L.forEach(function(z,M){var I=C(M,A-1),$=C(z,A-1);S.set(I,$)}),h(L,l)&&L.forEach(function(z){var M=C(z,A-1);S.add(M)});for(var R in L){var B;k&&(B=Object.getOwnPropertyDescriptor(k,R)),!(B&&B.set==null)&&(S[R]=C(L[R],A-1))}if(Object.getOwnPropertySymbols)for(var q=Object.getOwnPropertySymbols(L),R=0;R<q.length;R++){var K=q[R],W=Object.getOwnPropertyDescriptor(L,K);W&&!W.enumerable&&!m||(S[K]=C(L[K],A-1),W.enumerable||Object.defineProperty(S,K,{enumerable:!1}))}if(m)for(var Q=Object.getOwnPropertyNames(L),R=0;R<Q.length;R++){var H=Q[R],W=Object.getOwnPropertyDescriptor(L,H);W&&W.enumerable||(S[H]=C(L[H],A-1),Object.defineProperty(S,H,{enumerable:!1}))}return S}return C(b,y)}p.clonePrototype=function(g){if(g===null)return null;var y=function(){};return y.prototype=g,new y};function f(b){return Object.prototype.toString.call(b)}p.__objToStr=f;function v(b){return typeof b=="object"&&f(b)==="[object Date]"}p.__isDate=v;function u(b){return typeof b=="object"&&f(b)==="[object Array]"}p.__isArray=u;function d(b){return typeof b=="object"&&f(b)==="[object RegExp]"}p.__isRegExp=d;function _(b){var g="";return b.global&&(g+="g"),b.ignoreCase&&(g+="i"),b.multiline&&(g+="m"),g}return p.__getRegExpFlags=_,p}();typeof i=="object"&&i.exports&&(i.exports=n)},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function S(k,E){var R=[],B=!0,q=!1,K=void 0;try{for(var W=k[Symbol.iterator](),Q;!(B=(Q=W.next()).done)&&(R.push(Q.value),!(E&&R.length===E));B=!0);}catch(H){q=!0,K=H}finally{try{!B&&W.return&&W.return()}finally{if(q)throw K}}return R}return function(k,E){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return S(k,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function S(k,E){for(var R=0;R<E.length;R++){var B=E[R];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(k,B.key,B)}}return function(k,E,R){return E&&S(k.prototype,E),R&&S(k,R),k}}(),l=function S(k,E,R){k===null&&(k=Function.prototype);var B=Object.getOwnPropertyDescriptor(k,E);if(B===void 0){var q=Object.getPrototypeOf(k);return q===null?void 0:S(q,E,R)}else{if("value"in B)return B.value;var K=B.get;return K===void 0?void 0:K.call(R)}},s=n(0),p=r(s),f=n(8),v=r(f),u=n(4),d=r(u),_=n(16),b=r(_),g=n(13),y=r(g),c=n(25),m=r(c);function r(S){return S&&S.__esModule?S:{default:S}}function w(S,k){if(!(S instanceof k))throw new TypeError("Cannot call a class as a function")}function O(S,k){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:S}function C(S,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);S.prototype=Object.create(k&&k.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(S,k):S.__proto__=k)}function L(S){return S instanceof d.default||S instanceof u.BlockEmbed}var A=function(S){C(k,S);function k(E,R){w(this,k);var B=O(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,E));return B.emitter=R.emitter,Array.isArray(R.whitelist)&&(B.whitelist=R.whitelist.reduce(function(q,K){return q[K]=!0,q},{})),B.domNode.addEventListener("DOMNodeInserted",function(){}),B.optimize(),B.enable(),B}return o(k,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(R,B){var q=this.line(R),K=h(q,2),W=K[0],Q=K[1],H=this.line(R+B),z=h(H,1),M=z[0];if(l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"deleteAt",this).call(this,R,B),M!=null&&W!==M&&Q>0){if(W instanceof u.BlockEmbed||M instanceof u.BlockEmbed){this.optimize();return}if(W instanceof y.default){var I=W.newlineIndex(W.length(),!0);if(I>-1&&(W=W.split(I+1),W===M)){this.optimize();return}}else if(M instanceof y.default){var $=M.newlineIndex(0);$>-1&&M.split($+1)}var U=M.children.head instanceof b.default?null:M.children.head;W.moveChildren(M,U),W.remove()}this.optimize()}},{key:"enable",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",R)}},{key:"formatAt",value:function(R,B,q,K){this.whitelist!=null&&!this.whitelist[q]||(l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"formatAt",this).call(this,R,B,q,K),this.optimize())}},{key:"insertAt",value:function(R,B,q){if(!(q!=null&&this.whitelist!=null&&!this.whitelist[B])){if(R>=this.length())if(q==null||p.default.query(B,p.default.Scope.BLOCK)==null){var K=p.default.create(this.statics.defaultChild);this.appendChild(K),q==null&&B.endsWith(`
`)&&(B=B.slice(0,-1)),K.insertAt(0,B,q)}else{var W=p.default.create(B,q);this.appendChild(W)}else l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,R,B,q);this.optimize()}}},{key:"insertBefore",value:function(R,B){if(R.statics.scope===p.default.Scope.INLINE_BLOT){var q=p.default.create(this.statics.defaultChild);q.appendChild(R),R=q}l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,R,B)}},{key:"leaf",value:function(R){return this.path(R).pop()||[null,-1]}},{key:"line",value:function(R){return R===this.length()?this.line(R-1):this.descendant(L,R)}},{key:"lines",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,q=function K(W,Q,H){var z=[],M=H;return W.children.forEachAt(Q,H,function(I,$,U){L(I)?z.push(I):I instanceof p.default.Container&&(z=z.concat(K(I,$,M))),M-=U}),z};return q(this,R,B)}},{key:"optimize",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,R,B),R.length>0&&this.emitter.emit(v.default.events.SCROLL_OPTIMIZE,R,B))}},{key:"path",value:function(R){return l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"path",this).call(this,R).slice(1)}},{key:"update",value:function(R){if(this.batch!==!0){var B=v.default.sources.USER;typeof R=="string"&&(B=R),Array.isArray(R)||(R=this.observer.takeRecords()),R.length>0&&this.emitter.emit(v.default.events.SCROLL_BEFORE_UPDATE,B,R),l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"update",this).call(this,R.concat([])),R.length>0&&this.emitter.emit(v.default.events.SCROLL_UPDATE,B,R)}}}]),k}(p.default.Scroll);A.blotName="scroll",A.className="ql-editor",A.tagName="DIV",A.defaultChild="block",A.allowedChildren=[d.default,u.BlockEmbed,m.default],t.default=A},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},o=function(){function j(J,Y){var ee=[],se=!0,me=!1,ke=void 0;try{for(var Ee=J[Symbol.iterator](),Ae;!(se=(Ae=Ee.next()).done)&&(ee.push(Ae.value),!(Y&&ee.length===Y));se=!0);}catch(qe){me=!0,ke=qe}finally{try{!se&&Ee.return&&Ee.return()}finally{if(me)throw ke}}return ee}return function(J,Y){if(Array.isArray(J))return J;if(Symbol.iterator in Object(J))return j(J,Y);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function j(J,Y){for(var ee=0;ee<Y.length;ee++){var se=Y[ee];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(J,se.key,se)}}return function(J,Y,ee){return Y&&j(J.prototype,Y),ee&&j(J,ee),J}}(),s=n(21),p=S(s),f=n(11),v=S(f),u=n(3),d=S(u),_=n(2),b=S(_),g=n(20),y=S(g),c=n(0),m=S(c),r=n(5),w=S(r),O=n(10),C=S(O),L=n(9),A=S(L);function S(j){return j&&j.__esModule?j:{default:j}}function k(j,J,Y){return J in j?Object.defineProperty(j,J,{value:Y,enumerable:!0,configurable:!0,writable:!0}):j[J]=Y,j}function E(j,J){if(!(j instanceof J))throw new TypeError("Cannot call a class as a function")}function R(j,J){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J&&(typeof J=="object"||typeof J=="function")?J:j}function B(j,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof J);j.prototype=Object.create(J&&J.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),J&&(Object.setPrototypeOf?Object.setPrototypeOf(j,J):j.__proto__=J)}var q=(0,C.default)("quill:keyboard"),K=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",W=function(j){B(J,j),l(J,null,[{key:"match",value:function(ee,se){return se=G(se),["altKey","ctrlKey","metaKey","shiftKey"].some(function(me){return!!se[me]!==ee[me]&&se[me]!==null})?!1:se.key===(ee.which||ee.keyCode)}}]);function J(Y,ee){E(this,J);var se=R(this,(J.__proto__||Object.getPrototypeOf(J)).call(this,Y,ee));return se.bindings={},Object.keys(se.options.bindings).forEach(function(me){me==="list autofill"&&Y.scroll.whitelist!=null&&!Y.scroll.whitelist.list||se.options.bindings[me]&&se.addBinding(se.options.bindings[me])}),se.addBinding({key:J.keys.ENTER,shiftKey:null},I),se.addBinding({key:J.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(se.addBinding({key:J.keys.BACKSPACE},{collapsed:!0},H),se.addBinding({key:J.keys.DELETE},{collapsed:!0},z)):(se.addBinding({key:J.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},H),se.addBinding({key:J.keys.DELETE},{collapsed:!0,suffix:/^.?$/},z)),se.addBinding({key:J.keys.BACKSPACE},{collapsed:!1},M),se.addBinding({key:J.keys.DELETE},{collapsed:!1},M),se.addBinding({key:J.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},H),se.listen(),se}return l(J,[{key:"addBinding",value:function(ee){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ke=G(ee);if(ke==null||ke.key==null)return q.warn("Attempted to add invalid keyboard binding",ke);typeof se=="function"&&(se={handler:se}),typeof me=="function"&&(me={handler:me}),ke=(0,d.default)(ke,se,me),this.bindings[ke.key]=this.bindings[ke.key]||[],this.bindings[ke.key].push(ke)}},{key:"listen",value:function(){var ee=this;this.quill.root.addEventListener("keydown",function(se){if(!se.defaultPrevented){var me=se.which||se.keyCode,ke=(ee.bindings[me]||[]).filter(function(Ue){return J.match(se,Ue)});if(ke.length!==0){var Ee=ee.quill.getSelection();if(!(Ee==null||!ee.quill.hasFocus())){var Ae=ee.quill.getLine(Ee.index),qe=o(Ae,2),tt=qe[0],Xe=qe[1],re=ee.quill.getLeaf(Ee.index),le=o(re,2),ve=le[0],ge=le[1],ce=Ee.length===0?[ve,ge]:ee.quill.getLeaf(Ee.index+Ee.length),Se=o(ce,2),oe=Se[0],he=Se[1],He=ve instanceof m.default.Text?ve.value().slice(0,ge):"",ut=oe instanceof m.default.Text?oe.value().slice(he):"",Ze={collapsed:Ee.length===0,empty:Ee.length===0&&tt.length()<=1,format:ee.quill.getFormat(Ee),offset:Xe,prefix:He,suffix:ut},It=ke.some(function(Ue){if(Ue.collapsed!=null&&Ue.collapsed!==Ze.collapsed||Ue.empty!=null&&Ue.empty!==Ze.empty||Ue.offset!=null&&Ue.offset!==Ze.offset)return!1;if(Array.isArray(Ue.format)){if(Ue.format.every(function(pt){return Ze.format[pt]==null}))return!1}else if(h(Ue.format)==="object"&&!Object.keys(Ue.format).every(function(pt){return Ue.format[pt]===!0?Ze.format[pt]!=null:Ue.format[pt]===!1?Ze.format[pt]==null:(0,v.default)(Ue.format[pt],Ze.format[pt])}))return!1;return Ue.prefix!=null&&!Ue.prefix.test(Ze.prefix)||Ue.suffix!=null&&!Ue.suffix.test(Ze.suffix)?!1:Ue.handler.call(ee,Ee,Ze)!==!0});It&&se.preventDefault()}}}})}}]),J}(A.default);W.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},W.DEFAULTS={bindings:{bold:U("bold"),italic:U("italic"),underline:U("underline"),indent:{key:W.keys.TAB,format:["blockquote","indent","list"],handler:function(J,Y){if(Y.collapsed&&Y.offset!==0)return!0;this.quill.format("indent","+1",w.default.sources.USER)}},outdent:{key:W.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(J,Y){if(Y.collapsed&&Y.offset!==0)return!0;this.quill.format("indent","-1",w.default.sources.USER)}},"outdent backspace":{key:W.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(J,Y){Y.format.indent!=null?this.quill.format("indent","-1",w.default.sources.USER):Y.format.list!=null&&this.quill.format("list",!1,w.default.sources.USER)}},"indent code-block":$(!0),"outdent code-block":$(!1),"remove tab":{key:W.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(J){this.quill.deleteText(J.index-1,1,w.default.sources.USER)}},tab:{key:W.keys.TAB,handler:function(J){this.quill.history.cutoff();var Y=new b.default().retain(J.index).delete(J.length).insert("	");this.quill.updateContents(Y,w.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(J.index+1,w.default.sources.SILENT)}},"list empty enter":{key:W.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(J,Y){this.quill.format("list",!1,w.default.sources.USER),Y.format.indent&&this.quill.format("indent",!1,w.default.sources.USER)}},"checklist enter":{key:W.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(J){var Y=this.quill.getLine(J.index),ee=o(Y,2),se=ee[0],me=ee[1],ke=(0,d.default)({},se.formats(),{list:"checked"}),Ee=new b.default().retain(J.index).insert(`
`,ke).retain(se.length()-me-1).retain(1,{list:"unchecked"});this.quill.updateContents(Ee,w.default.sources.USER),this.quill.setSelection(J.index+1,w.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:W.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(J,Y){var ee=this.quill.getLine(J.index),se=o(ee,2),me=se[0],ke=se[1],Ee=new b.default().retain(J.index).insert(`
`,Y.format).retain(me.length()-ke-1).retain(1,{header:null});this.quill.updateContents(Ee,w.default.sources.USER),this.quill.setSelection(J.index+1,w.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(J,Y){var ee=Y.prefix.length,se=this.quill.getLine(J.index),me=o(se,2),ke=me[0],Ee=me[1];if(Ee>ee)return!0;var Ae=void 0;switch(Y.prefix.trim()){case"[]":case"[ ]":Ae="unchecked";break;case"[x]":Ae="checked";break;case"-":case"*":Ae="bullet";break;default:Ae="ordered"}this.quill.insertText(J.index," ",w.default.sources.USER),this.quill.history.cutoff();var qe=new b.default().retain(J.index-Ee).delete(ee+1).retain(ke.length()-2-Ee).retain(1,{list:Ae});this.quill.updateContents(qe,w.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(J.index-ee,w.default.sources.SILENT)}},"code exit":{key:W.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(J){var Y=this.quill.getLine(J.index),ee=o(Y,2),se=ee[0],me=ee[1],ke=new b.default().retain(J.index+se.length()-me-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ke,w.default.sources.USER)}},"embed left":Q(W.keys.LEFT,!1),"embed left shift":Q(W.keys.LEFT,!0),"embed right":Q(W.keys.RIGHT,!1),"embed right shift":Q(W.keys.RIGHT,!0)}};function Q(j,J){var Y,ee=j===W.keys.LEFT?"prefix":"suffix";return Y={key:j,shiftKey:J,altKey:null},k(Y,ee,/^$/),k(Y,"handler",function(me){var ke=me.index;j===W.keys.RIGHT&&(ke+=me.length+1);var Ee=this.quill.getLeaf(ke),Ae=o(Ee,1),qe=Ae[0];return qe instanceof m.default.Embed?(j===W.keys.LEFT?J?this.quill.setSelection(me.index-1,me.length+1,w.default.sources.USER):this.quill.setSelection(me.index-1,w.default.sources.USER):J?this.quill.setSelection(me.index,me.length+1,w.default.sources.USER):this.quill.setSelection(me.index+me.length+1,w.default.sources.USER),!1):!0}),Y}function H(j,J){if(!(j.index===0||this.quill.getLength()<=1)){var Y=this.quill.getLine(j.index),ee=o(Y,1),se=ee[0],me={};if(J.offset===0){var ke=this.quill.getLine(j.index-1),Ee=o(ke,1),Ae=Ee[0];if(Ae!=null&&Ae.length()>1){var qe=se.formats(),tt=this.quill.getFormat(j.index-1,1);me=y.default.attributes.diff(qe,tt)||{}}}var Xe=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(J.prefix)?2:1;this.quill.deleteText(j.index-Xe,Xe,w.default.sources.USER),Object.keys(me).length>0&&this.quill.formatLine(j.index-Xe,Xe,me,w.default.sources.USER),this.quill.focus()}}function z(j,J){var Y=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(J.suffix)?2:1;if(!(j.index>=this.quill.getLength()-Y)){var ee={},se=0,me=this.quill.getLine(j.index),ke=o(me,1),Ee=ke[0];if(J.offset>=Ee.length()-1){var Ae=this.quill.getLine(j.index+1),qe=o(Ae,1),tt=qe[0];if(tt){var Xe=Ee.formats(),re=this.quill.getFormat(j.index,1);ee=y.default.attributes.diff(Xe,re)||{},se=tt.length()}}this.quill.deleteText(j.index,Y,w.default.sources.USER),Object.keys(ee).length>0&&this.quill.formatLine(j.index+se-1,Y,ee,w.default.sources.USER)}}function M(j){var J=this.quill.getLines(j),Y={};if(J.length>1){var ee=J[0].formats(),se=J[J.length-1].formats();Y=y.default.attributes.diff(se,ee)||{}}this.quill.deleteText(j,w.default.sources.USER),Object.keys(Y).length>0&&this.quill.formatLine(j.index,1,Y,w.default.sources.USER),this.quill.setSelection(j.index,w.default.sources.SILENT),this.quill.focus()}function I(j,J){var Y=this;j.length>0&&this.quill.scroll.deleteAt(j.index,j.length);var ee=Object.keys(J.format).reduce(function(se,me){return m.default.query(me,m.default.Scope.BLOCK)&&!Array.isArray(J.format[me])&&(se[me]=J.format[me]),se},{});this.quill.insertText(j.index,`
`,ee,w.default.sources.USER),this.quill.setSelection(j.index+1,w.default.sources.SILENT),this.quill.focus(),Object.keys(J.format).forEach(function(se){ee[se]==null&&(Array.isArray(J.format[se])||se!=="link"&&Y.quill.format(se,J.format[se],w.default.sources.USER))})}function $(j){return{key:W.keys.TAB,shiftKey:!j,format:{"code-block":!0},handler:function(Y){var ee=m.default.query("code-block"),se=Y.index,me=Y.length,ke=this.quill.scroll.descendant(ee,se),Ee=o(ke,2),Ae=Ee[0],qe=Ee[1];if(Ae!=null){var tt=this.quill.getIndex(Ae),Xe=Ae.newlineIndex(qe,!0)+1,re=Ae.newlineIndex(tt+qe+me),le=Ae.domNode.textContent.slice(Xe,re).split(`
`);qe=0,le.forEach(function(ve,ge){j?(Ae.insertAt(Xe+qe,ee.TAB),qe+=ee.TAB.length,ge===0?se+=ee.TAB.length:me+=ee.TAB.length):ve.startsWith(ee.TAB)&&(Ae.deleteAt(Xe+qe,ee.TAB.length),qe-=ee.TAB.length,ge===0?se-=ee.TAB.length:me-=ee.TAB.length),qe+=ve.length+1}),this.quill.update(w.default.sources.USER),this.quill.setSelection(se,me,w.default.sources.SILENT)}}}}function U(j){return{key:j[0].toUpperCase(),shortKey:!0,handler:function(Y,ee){this.quill.format(j,!ee.format[j],w.default.sources.USER)}}}function G(j){if(typeof j=="string"||typeof j=="number")return G({key:j});if((typeof j>"u"?"undefined":h(j))==="object"&&(j=(0,p.default)(j,!1)),typeof j.key=="string")if(W.keys[j.key.toUpperCase()]!=null)j.key=W.keys[j.key.toUpperCase()];else if(j.key.length===1)j.key=j.key.toUpperCase().charCodeAt(0);else return null;return j.shortKey&&(j[K]=j.shortKey,delete j.shortKey),j}t.default=W,t.SHORTKEY=K},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function y(c,m){var r=[],w=!0,O=!1,C=void 0;try{for(var L=c[Symbol.iterator](),A;!(w=(A=L.next()).done)&&(r.push(A.value),!(m&&r.length===m));w=!0);}catch(S){O=!0,C=S}finally{try{!w&&L.return&&L.return()}finally{if(O)throw C}}return r}return function(c,m){if(Array.isArray(c))return c;if(Symbol.iterator in Object(c))return y(c,m);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function y(c,m,r){c===null&&(c=Function.prototype);var w=Object.getOwnPropertyDescriptor(c,m);if(w===void 0){var O=Object.getPrototypeOf(c);return O===null?void 0:y(O,m,r)}else{if("value"in w)return w.value;var C=w.get;return C===void 0?void 0:C.call(r)}},l=function(){function y(c,m){for(var r=0;r<m.length;r++){var w=m[r];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(c,w.key,w)}}return function(c,m,r){return m&&y(c.prototype,m),r&&y(c,r),c}}(),s=n(0),p=u(s),f=n(7),v=u(f);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}function _(y,c){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:y}function b(y,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);y.prototype=Object.create(c&&c.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(y,c):y.__proto__=c)}var g=function(y){b(c,y),l(c,null,[{key:"value",value:function(){}}]);function c(m,r){d(this,c);var w=_(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,m));return w.selection=r,w.textNode=document.createTextNode(c.CONTENTS),w.domNode.appendChild(w.textNode),w._length=0,w}return l(c,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(r,w){if(this._length!==0)return o(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"format",this).call(this,r,w);for(var O=this,C=0;O!=null&&O.statics.scope!==p.default.Scope.BLOCK_BLOT;)C+=O.offset(O.parent),O=O.parent;O!=null&&(this._length=c.CONTENTS.length,O.optimize(),O.formatAt(C,c.CONTENTS.length,r,w),this._length=0)}},{key:"index",value:function(r,w){return r===this.textNode?0:o(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"index",this).call(this,r,w)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var r=this.textNode,w=this.selection.getNativeRange(),O=void 0,C=void 0,L=void 0;if(w!=null&&w.start.node===r&&w.end.node===r){var A=[r,w.start.offset,w.end.offset];O=A[0],C=A[1],L=A[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==c.CONTENTS){var S=this.textNode.data.split(c.CONTENTS).join("");this.next instanceof v.default?(O=this.next.domNode,this.next.insertAt(0,S),this.textNode.data=c.CONTENTS):(this.textNode.data=S,this.parent.insertBefore(p.default.create(this.textNode),this),this.textNode=document.createTextNode(c.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),C!=null){var k=[C,L].map(function(R){return Math.max(0,Math.min(O.data.length,R-1))}),E=h(k,2);return C=E[0],L=E[1],{startNode:O,startOffset:C,endNode:O,endOffset:L}}}}},{key:"update",value:function(r,w){var O=this;if(r.some(function(L){return L.type==="characterData"&&L.target===O.textNode})){var C=this.restore();C&&(w.range=C)}}},{key:"value",value:function(){return""}}]),c}(p.default.Embed);g.blotName="cursor",g.className="ql-cursor",g.tagName="span",g.CONTENTS="\uFEFF",t.default=g},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0});var h=n(0),o=p(h),l=n(4),s=p(l);function p(_){return _&&_.__esModule?_:{default:_}}function f(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}function v(_,b){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:_}function u(_,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(_,b):_.__proto__=b)}var d=function(_){u(b,_);function b(){return f(this,b),v(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return b}(o.default.Container);d.allowedChildren=[s.default,l.BlockEmbed,d],t.default=d},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var h=function(){function g(y,c){for(var m=0;m<c.length;m++){var r=c[m];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(y,r.key,r)}}return function(y,c,m){return c&&g(y.prototype,c),m&&g(y,m),y}}(),o=function g(y,c,m){y===null&&(y=Function.prototype);var r=Object.getOwnPropertyDescriptor(y,c);if(r===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:g(w,c,m)}else{if("value"in r)return r.value;var O=r.get;return O===void 0?void 0:O.call(m)}},l=n(0),s=p(l);function p(g){return g&&g.__esModule?g:{default:g}}function f(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function v(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function u(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var d=function(g){u(y,g);function y(){return f(this,y),v(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return h(y,[{key:"value",value:function(m){var r=o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,m);return r.startsWith("rgb(")?(r=r.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+r.split(",").map(function(w){return("00"+parseInt(w).toString(16)).slice(-2)}).join("")):r}}]),y}(s.default.Attributor.Style),_=new s.default.Attributor.Class("color","ql-color",{scope:s.default.Scope.INLINE}),b=new d("color","color",{scope:s.default.Scope.INLINE});t.ColorAttributor=d,t.ColorClass=_,t.ColorStyle=b},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var h=function(){function b(g,y){for(var c=0;c<y.length;c++){var m=y[c];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(g,m.key,m)}}return function(g,y,c){return y&&b(g.prototype,y),c&&b(g,c),g}}(),o=function b(g,y,c){g===null&&(g=Function.prototype);var m=Object.getOwnPropertyDescriptor(g,y);if(m===void 0){var r=Object.getPrototypeOf(g);return r===null?void 0:b(r,y,c)}else{if("value"in m)return m.value;var w=m.get;return w===void 0?void 0:w.call(c)}},l=n(6),s=p(l);function p(b){return b&&b.__esModule?b:{default:b}}function f(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")}function v(b,g){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:b}function u(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);b.prototype=Object.create(g&&g.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(b,g):b.__proto__=g)}var d=function(b){u(g,b);function g(){return f(this,g),v(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return h(g,[{key:"format",value:function(c,m){if(c!==this.statics.blotName||!m)return o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,c,m);m=this.constructor.sanitize(m),this.domNode.setAttribute("href",m)}}],[{key:"create",value:function(c){var m=o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,c);return c=this.sanitize(c),m.setAttribute("href",c),m.setAttribute("rel","noopener noreferrer"),m.setAttribute("target","_blank"),m}},{key:"formats",value:function(c){return c.getAttribute("href")}},{key:"sanitize",value:function(c){return _(c,this.PROTOCOL_WHITELIST)?c:this.SANITIZED_URL}}]),g}(s.default);d.blotName="link",d.tagName="A",d.SANITIZED_URL="about:blank",d.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function _(b,g){var y=document.createElement("a");y.href=b;var c=y.href.slice(0,y.href.indexOf(":"));return g.indexOf(c)>-1}t.default=d,t.sanitize=_},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0});var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},o=function(){function g(y,c){for(var m=0;m<c.length;m++){var r=c[m];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(y,r.key,r)}}return function(y,c,m){return c&&g(y.prototype,c),m&&g(y,m),y}}(),l=n(23),s=v(l),p=n(107),f=v(p);function v(g){return g&&g.__esModule?g:{default:g}}function u(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}var d=0;function _(g,y){g.setAttribute(y,g.getAttribute(y)!=="true")}var b=function(){function g(y){var c=this;u(this,g),this.select=y,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){c.togglePicker()}),this.label.addEventListener("keydown",function(m){switch(m.keyCode){case s.default.keys.ENTER:c.togglePicker();break;case s.default.keys.ESCAPE:c.escape(),m.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(g,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),_(this.label,"aria-expanded"),_(this.options,"aria-hidden")}},{key:"buildItem",value:function(c){var m=this,r=document.createElement("span");return r.tabIndex="0",r.setAttribute("role","button"),r.classList.add("ql-picker-item"),c.hasAttribute("value")&&r.setAttribute("data-value",c.getAttribute("value")),c.textContent&&r.setAttribute("data-label",c.textContent),r.addEventListener("click",function(){m.selectItem(r,!0)}),r.addEventListener("keydown",function(w){switch(w.keyCode){case s.default.keys.ENTER:m.selectItem(r,!0),w.preventDefault();break;case s.default.keys.ESCAPE:m.escape(),w.preventDefault();break}}),r}},{key:"buildLabel",value:function(){var c=document.createElement("span");return c.classList.add("ql-picker-label"),c.innerHTML=f.default,c.tabIndex="0",c.setAttribute("role","button"),c.setAttribute("aria-expanded","false"),this.container.appendChild(c),c}},{key:"buildOptions",value:function(){var c=this,m=document.createElement("span");m.classList.add("ql-picker-options"),m.setAttribute("aria-hidden","true"),m.tabIndex="-1",m.id="ql-picker-options-"+d,d+=1,this.label.setAttribute("aria-controls",m.id),this.options=m,[].slice.call(this.select.options).forEach(function(r){var w=c.buildItem(r);m.appendChild(w),r.selected===!0&&c.selectItem(w)}),this.container.appendChild(m)}},{key:"buildPicker",value:function(){var c=this;[].slice.call(this.select.attributes).forEach(function(m){c.container.setAttribute(m.name,m.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var c=this;this.close(),setTimeout(function(){return c.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(c){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=this.container.querySelector(".ql-selected");if(c!==r&&(r!=null&&r.classList.remove("ql-selected"),c!=null&&(c.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(c.parentNode.children,c),c.hasAttribute("data-value")?this.label.setAttribute("data-value",c.getAttribute("data-value")):this.label.removeAttribute("data-value"),c.hasAttribute("data-label")?this.label.setAttribute("data-label",c.getAttribute("data-label")):this.label.removeAttribute("data-label"),m))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":h(Event))==="object"){var w=document.createEvent("Event");w.initEvent("change",!0,!0),this.select.dispatchEvent(w)}this.close()}}},{key:"update",value:function(){var c=void 0;if(this.select.selectedIndex>-1){var m=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];c=this.select.options[this.select.selectedIndex],this.selectItem(m)}else this.selectItem(null);var r=c!=null&&c!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",r)}}]),g}();t.default=b},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0});var h=n(0),o=q(h),l=n(5),s=q(l),p=n(4),f=q(p),v=n(16),u=q(v),d=n(25),_=q(d),b=n(24),g=q(b),y=n(35),c=q(y),m=n(6),r=q(m),w=n(22),O=q(w),C=n(7),L=q(C),A=n(55),S=q(A),k=n(42),E=q(k),R=n(23),B=q(R);function q(K){return K&&K.__esModule?K:{default:K}}s.default.register({"blots/block":f.default,"blots/block/embed":p.BlockEmbed,"blots/break":u.default,"blots/container":_.default,"blots/cursor":g.default,"blots/embed":c.default,"blots/inline":r.default,"blots/scroll":O.default,"blots/text":L.default,"modules/clipboard":S.default,"modules/history":E.default,"modules/keyboard":B.default}),o.default.register(f.default,u.default,g.default,r.default,O.default,L.default),t.default=s.default},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0});var h=n(1),o=function(){function l(s){this.domNode=s,this.domNode[h.DATA_KEY]={blot:this}}return Object.defineProperty(l.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),l.create=function(s){if(this.tagName==null)throw new h.ParchmentError("Blot definition missing tagName");var p;return Array.isArray(this.tagName)?(typeof s=="string"&&(s=s.toUpperCase(),parseInt(s).toString()===s&&(s=parseInt(s))),typeof s=="number"?p=document.createElement(this.tagName[s-1]):this.tagName.indexOf(s)>-1?p=document.createElement(s):p=document.createElement(this.tagName[0])):p=document.createElement(this.tagName),this.className&&p.classList.add(this.className),p},l.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},l.prototype.clone=function(){var s=this.domNode.cloneNode(!1);return h.create(s)},l.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[h.DATA_KEY]},l.prototype.deleteAt=function(s,p){var f=this.isolate(s,p);f.remove()},l.prototype.formatAt=function(s,p,f,v){var u=this.isolate(s,p);if(h.query(f,h.Scope.BLOT)!=null&&v)u.wrap(f,v);else if(h.query(f,h.Scope.ATTRIBUTE)!=null){var d=h.create(this.statics.scope);u.wrap(d),d.format(f,v)}},l.prototype.insertAt=function(s,p,f){var v=f==null?h.create("text",p):h.create(p,f),u=this.split(s);this.parent.insertBefore(v,u)},l.prototype.insertInto=function(s,p){p===void 0&&(p=null),this.parent!=null&&this.parent.children.remove(this);var f=null;s.children.insertBefore(this,p),p!=null&&(f=p.domNode),(this.domNode.parentNode!=s.domNode||this.domNode.nextSibling!=f)&&s.domNode.insertBefore(this.domNode,f),this.parent=s,this.attach()},l.prototype.isolate=function(s,p){var f=this.split(s);return f.split(p),f},l.prototype.length=function(){return 1},l.prototype.offset=function(s){return s===void 0&&(s=this.parent),this.parent==null||this==s?0:this.parent.children.offset(this)+this.parent.offset(s)},l.prototype.optimize=function(s){this.domNode[h.DATA_KEY]!=null&&delete this.domNode[h.DATA_KEY].mutations},l.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},l.prototype.replace=function(s){s.parent!=null&&(s.parent.insertBefore(this,s.next),s.remove())},l.prototype.replaceWith=function(s,p){var f=typeof s=="string"?h.create(s,p):s;return f.replace(this),f},l.prototype.split=function(s,p){return s===0?this:this.next},l.prototype.update=function(s,p){},l.prototype.wrap=function(s,p){var f=typeof s=="string"?h.create(s,p):s;return this.parent!=null&&this.parent.insertBefore(f,this.next),f.appendChild(this),f},l.blotName="abstract",l}();t.default=o},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0});var h=n(12),o=n(32),l=n(33),s=n(1),p=function(){function f(v){this.attributes={},this.domNode=v,this.build()}return f.prototype.attribute=function(v,u){u?v.add(this.domNode,u)&&(v.value(this.domNode)!=null?this.attributes[v.attrName]=v:delete this.attributes[v.attrName]):(v.remove(this.domNode),delete this.attributes[v.attrName])},f.prototype.build=function(){var v=this;this.attributes={};var u=h.default.keys(this.domNode),d=o.default.keys(this.domNode),_=l.default.keys(this.domNode);u.concat(d).concat(_).forEach(function(b){var g=s.query(b,s.Scope.ATTRIBUTE);g instanceof h.default&&(v.attributes[g.attrName]=g)})},f.prototype.copy=function(v){var u=this;Object.keys(this.attributes).forEach(function(d){var _=u.attributes[d].value(u.domNode);v.format(d,_)})},f.prototype.move=function(v){var u=this;this.copy(v),Object.keys(this.attributes).forEach(function(d){u.attributes[d].remove(u.domNode)}),this.attributes={}},f.prototype.values=function(){var v=this;return Object.keys(this.attributes).reduce(function(u,d){return u[d]=v.attributes[d].value(v.domNode),u},{})},f}();t.default=p},function(i,t,n){var h=this&&this.__extends||function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,v){f.__proto__=v}||function(f,v){for(var u in v)v.hasOwnProperty(u)&&(f[u]=v[u])};return function(f,v){p(f,v);function u(){this.constructor=f}f.prototype=v===null?Object.create(v):(u.prototype=v.prototype,new u)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(12);function l(p,f){var v=p.getAttribute("class")||"";return v.split(/\s+/).filter(function(u){return u.indexOf(f+"-")===0})}var s=function(p){h(f,p);function f(){return p!==null&&p.apply(this,arguments)||this}return f.keys=function(v){return(v.getAttribute("class")||"").split(/\s+/).map(function(u){return u.split("-").slice(0,-1).join("-")})},f.prototype.add=function(v,u){return this.canAdd(v,u)?(this.remove(v),v.classList.add(this.keyName+"-"+u),!0):!1},f.prototype.remove=function(v){var u=l(v,this.keyName);u.forEach(function(d){v.classList.remove(d)}),v.classList.length===0&&v.removeAttribute("class")},f.prototype.value=function(v){var u=l(v,this.keyName)[0]||"",d=u.slice(this.keyName.length+1);return this.canAdd(v,d)?d:""},f}(o.default);t.default=s},function(i,t,n){var h=this&&this.__extends||function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,v){f.__proto__=v}||function(f,v){for(var u in v)v.hasOwnProperty(u)&&(f[u]=v[u])};return function(f,v){p(f,v);function u(){this.constructor=f}f.prototype=v===null?Object.create(v):(u.prototype=v.prototype,new u)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(12);function l(p){var f=p.split("-"),v=f.slice(1).map(function(u){return u[0].toUpperCase()+u.slice(1)}).join("");return f[0]+v}var s=function(p){h(f,p);function f(){return p!==null&&p.apply(this,arguments)||this}return f.keys=function(v){return(v.getAttribute("style")||"").split(";").map(function(u){var d=u.split(":");return d[0].trim()})},f.prototype.add=function(v,u){return this.canAdd(v,u)?(v.style[l(this.keyName)]=u,!0):!1},f.prototype.remove=function(v){v.style[l(this.keyName)]="",v.getAttribute("style")||v.removeAttribute("style")},f.prototype.value=function(v){var u=v.style[l(this.keyName)];return this.canAdd(v,u)?u:""},f}(o.default);t.default=s},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function s(p,f){for(var v=0;v<f.length;v++){var u=f[v];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(p,u.key,u)}}return function(p,f,v){return f&&s(p.prototype,f),v&&s(p,v),p}}();function o(s,p){if(!(s instanceof p))throw new TypeError("Cannot call a class as a function")}var l=function(){function s(p,f){o(this,s),this.quill=p,this.options=f,this.modules={}}return h(s,[{key:"init",value:function(){var f=this;Object.keys(this.options.modules).forEach(function(v){f.modules[v]==null&&f.addModule(v)})}},{key:"addModule",value:function(f){var v=this.quill.constructor.import("modules/"+f);return this.modules[f]=new v(this.quill,this.options.modules[f]||{}),this.modules[f]}}]),s}();l.DEFAULTS={modules:{}},l.themes={default:l},t.default=l},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function y(c,m){for(var r=0;r<m.length;r++){var w=m[r];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(c,w.key,w)}}return function(c,m,r){return m&&y(c.prototype,m),r&&y(c,r),c}}(),o=function y(c,m,r){c===null&&(c=Function.prototype);var w=Object.getOwnPropertyDescriptor(c,m);if(w===void 0){var O=Object.getPrototypeOf(c);return O===null?void 0:y(O,m,r)}else{if("value"in w)return w.value;var C=w.get;return C===void 0?void 0:C.call(r)}},l=n(0),s=v(l),p=n(7),f=v(p);function v(y){return y&&y.__esModule?y:{default:y}}function u(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}function d(y,c){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:y}function _(y,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);y.prototype=Object.create(c&&c.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(y,c):y.__proto__=c)}var b="\uFEFF",g=function(y){_(c,y);function c(m){u(this,c);var r=d(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,m));return r.contentNode=document.createElement("span"),r.contentNode.setAttribute("contenteditable",!1),[].slice.call(r.domNode.childNodes).forEach(function(w){r.contentNode.appendChild(w)}),r.leftGuard=document.createTextNode(b),r.rightGuard=document.createTextNode(b),r.domNode.appendChild(r.leftGuard),r.domNode.appendChild(r.contentNode),r.domNode.appendChild(r.rightGuard),r}return h(c,[{key:"index",value:function(r,w){return r===this.leftGuard?0:r===this.rightGuard?1:o(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"index",this).call(this,r,w)}},{key:"restore",value:function(r){var w=void 0,O=void 0,C=r.data.split(b).join("");if(r===this.leftGuard)if(this.prev instanceof f.default){var L=this.prev.length();this.prev.insertAt(L,C),w={startNode:this.prev.domNode,startOffset:L+C.length}}else O=document.createTextNode(C),this.parent.insertBefore(s.default.create(O),this),w={startNode:O,startOffset:C.length};else r===this.rightGuard&&(this.next instanceof f.default?(this.next.insertAt(0,C),w={startNode:this.next.domNode,startOffset:C.length}):(O=document.createTextNode(C),this.parent.insertBefore(s.default.create(O),this.next),w={startNode:O,startOffset:C.length}));return r.data=b,w}},{key:"update",value:function(r,w){var O=this;r.forEach(function(C){if(C.type==="characterData"&&(C.target===O.leftGuard||C.target===O.rightGuard)){var L=O.restore(C.target);L&&(w.range=L)}})}}]),c}(s.default.Embed);t.default=g},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var h=n(0),o=l(h);function l(u){return u&&u.__esModule?u:{default:u}}var s={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},p=new o.default.Attributor.Attribute("align","align",s),f=new o.default.Attributor.Class("align","ql-align",s),v=new o.default.Attributor.Style("align","text-align",s);t.AlignAttribute=p,t.AlignClass=f,t.AlignStyle=v},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var h=n(0),o=s(h),l=n(26);function s(v){return v&&v.__esModule?v:{default:v}}var p=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),f=new l.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});t.BackgroundClass=p,t.BackgroundStyle=f},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var h=n(0),o=l(h);function l(u){return u&&u.__esModule?u:{default:u}}var s={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},p=new o.default.Attributor.Attribute("direction","dir",s),f=new o.default.Attributor.Class("direction","ql-direction",s),v=new o.default.Attributor.Style("direction","direction",s);t.DirectionAttribute=p,t.DirectionClass=f,t.DirectionStyle=v},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var h=function(){function y(c,m){for(var r=0;r<m.length;r++){var w=m[r];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(c,w.key,w)}}return function(c,m,r){return m&&y(c.prototype,m),r&&y(c,r),c}}(),o=function y(c,m,r){c===null&&(c=Function.prototype);var w=Object.getOwnPropertyDescriptor(c,m);if(w===void 0){var O=Object.getPrototypeOf(c);return O===null?void 0:y(O,m,r)}else{if("value"in w)return w.value;var C=w.get;return C===void 0?void 0:C.call(r)}},l=n(0),s=p(l);function p(y){return y&&y.__esModule?y:{default:y}}function f(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}function v(y,c){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:y}function u(y,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);y.prototype=Object.create(c&&c.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(y,c):y.__proto__=c)}var d={scope:s.default.Scope.INLINE,whitelist:["serif","monospace"]},_=new s.default.Attributor.Class("font","ql-font",d),b=function(y){u(c,y);function c(){return f(this,c),v(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return h(c,[{key:"value",value:function(r){return o(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"value",this).call(this,r).replace(/["']/g,"")}}]),c}(s.default.Attributor.Style),g=new b("font","font-family",d);t.FontStyle=g,t.FontClass=_},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var h=n(0),o=l(h);function l(f){return f&&f.__esModule?f:{default:f}}var s=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),p=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=s,t.SizeStyle=p},function(i,t,n){i.exports={align:{"":n(76),center:n(77),right:n(78),justify:n(79)},background:n(80),blockquote:n(81),bold:n(82),clean:n(83),code:n(58),"code-block":n(58),color:n(84),direction:{"":n(85),rtl:n(86)},float:{center:n(87),full:n(88),left:n(89),right:n(90)},formula:n(91),header:{1:n(92),2:n(93)},italic:n(94),image:n(95),indent:{"+1":n(96),"-1":n(97)},link:n(98),list:{ordered:n(99),bullet:n(100),check:n(101)},script:{sub:n(102),super:n(103)},strike:n(104),underline:n(105),video:n(106)}},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var h=function(){function m(r,w){for(var O=0;O<w.length;O++){var C=w[O];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(r,C.key,C)}}return function(r,w,O){return w&&m(r.prototype,w),O&&m(r,O),r}}(),o=n(0),l=u(o),s=n(5),p=u(s),f=n(9),v=u(f);function u(m){return m&&m.__esModule?m:{default:m}}function d(m,r){if(!(m instanceof r))throw new TypeError("Cannot call a class as a function")}function _(m,r){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:m}function b(m,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);m.prototype=Object.create(r&&r.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(m,r):m.__proto__=r)}var g=function(m){b(r,m);function r(w,O){d(this,r);var C=_(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,w,O));return C.lastRecorded=0,C.ignoreChange=!1,C.clear(),C.quill.on(p.default.events.EDITOR_CHANGE,function(L,A,S,k){L!==p.default.events.TEXT_CHANGE||C.ignoreChange||(!C.options.userOnly||k===p.default.sources.USER?C.record(A,S):C.transform(A))}),C.quill.keyboard.addBinding({key:"Z",shortKey:!0},C.undo.bind(C)),C.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},C.redo.bind(C)),/Win/i.test(navigator.platform)&&C.quill.keyboard.addBinding({key:"Y",shortKey:!0},C.redo.bind(C)),C}return h(r,[{key:"change",value:function(O,C){if(this.stack[O].length!==0){var L=this.stack[O].pop();this.stack[C].push(L),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(L[O],p.default.sources.USER),this.ignoreChange=!1;var A=c(L[O]);this.quill.setSelection(A)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(O,C){if(O.ops.length!==0){this.stack.redo=[];var L=this.quill.getContents().diff(C),A=Date.now();if(this.lastRecorded+this.options.delay>A&&this.stack.undo.length>0){var S=this.stack.undo.pop();L=L.compose(S.undo),O=S.redo.compose(O)}else this.lastRecorded=A;this.stack.undo.push({redo:O,undo:L}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(O){this.stack.undo.forEach(function(C){C.undo=O.transform(C.undo,!0),C.redo=O.transform(C.redo,!0)}),this.stack.redo.forEach(function(C){C.undo=O.transform(C.undo,!0),C.redo=O.transform(C.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),r}(v.default);g.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function y(m){var r=m.ops[m.ops.length-1];return r==null?!1:r.insert!=null?typeof r.insert=="string"&&r.insert.endsWith(`
`):r.attributes!=null?Object.keys(r.attributes).some(function(w){return l.default.query(w,l.default.Scope.BLOCK)!=null}):!1}function c(m){var r=m.reduce(function(O,C){return O+=C.delete||0,O},0),w=m.length()-r;return y(m)&&(w-=1),w}t.default=g,t.getLastChangeIndex=c},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var h=function(){function I($,U){for(var G=0;G<U.length;G++){var j=U[G];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty($,j.key,j)}}return function($,U,G){return U&&I($.prototype,U),G&&I($,G),$}}(),o=function I($,U,G){$===null&&($=Function.prototype);var j=Object.getOwnPropertyDescriptor($,U);if(j===void 0){var J=Object.getPrototypeOf($);return J===null?void 0:I(J,U,G)}else{if("value"in j)return j.value;var Y=j.get;return Y===void 0?void 0:Y.call(G)}},l=n(3),s=A(l),p=n(2),f=A(p),v=n(8),u=A(v),d=n(23),_=A(d),b=n(34),g=A(b),y=n(59),c=A(y),m=n(60),r=A(m),w=n(28),O=A(w),C=n(61),L=A(C);function A(I){return I&&I.__esModule?I:{default:I}}function S(I,$){if(!(I instanceof $))throw new TypeError("Cannot call a class as a function")}function k(I,$){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $&&(typeof $=="object"||typeof $=="function")?$:I}function E(I,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof $);I.prototype=Object.create($&&$.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(I,$):I.__proto__=$)}var R=[!1,"center","right","justify"],B=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],q=[!1,"serif","monospace"],K=["1","2","3",!1],W=["small",!1,"large","huge"],Q=function(I){E($,I);function $(U,G){S(this,$);var j=k(this,($.__proto__||Object.getPrototypeOf($)).call(this,U,G)),J=function Y(ee){if(!document.body.contains(U.root))return document.body.removeEventListener("click",Y);j.tooltip!=null&&!j.tooltip.root.contains(ee.target)&&document.activeElement!==j.tooltip.textbox&&!j.quill.hasFocus()&&j.tooltip.hide(),j.pickers!=null&&j.pickers.forEach(function(se){se.container.contains(ee.target)||se.close()})};return U.emitter.listenDOM("click",document.body,J),j}return h($,[{key:"addModule",value:function(G){var j=o($.prototype.__proto__||Object.getPrototypeOf($.prototype),"addModule",this).call(this,G);return G==="toolbar"&&this.extendToolbar(j),j}},{key:"buildButtons",value:function(G,j){G.forEach(function(J){var Y=J.getAttribute("class")||"";Y.split(/\s+/).forEach(function(ee){if(ee.startsWith("ql-")&&(ee=ee.slice(3),j[ee]!=null))if(ee==="direction")J.innerHTML=j[ee][""]+j[ee].rtl;else if(typeof j[ee]=="string")J.innerHTML=j[ee];else{var se=J.value||"";se!=null&&j[ee][se]&&(J.innerHTML=j[ee][se])}})})}},{key:"buildPickers",value:function(G,j){var J=this;this.pickers=G.map(function(ee){if(ee.classList.contains("ql-align"))return ee.querySelector("option")==null&&M(ee,R),new r.default(ee,j.align);if(ee.classList.contains("ql-background")||ee.classList.contains("ql-color")){var se=ee.classList.contains("ql-background")?"background":"color";return ee.querySelector("option")==null&&M(ee,B,se==="background"?"#ffffff":"#000000"),new c.default(ee,j[se])}else return ee.querySelector("option")==null&&(ee.classList.contains("ql-font")?M(ee,q):ee.classList.contains("ql-header")?M(ee,K):ee.classList.contains("ql-size")&&M(ee,W)),new O.default(ee)});var Y=function(){J.pickers.forEach(function(se){se.update()})};this.quill.on(u.default.events.EDITOR_CHANGE,Y)}}]),$}(g.default);Q.DEFAULTS=(0,s.default)(!0,{},g.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var $=this,U=this.container.querySelector("input.ql-image[type=file]");U==null&&(U=document.createElement("input"),U.setAttribute("type","file"),U.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),U.classList.add("ql-image"),U.addEventListener("change",function(){if(U.files!=null&&U.files[0]!=null){var G=new FileReader;G.onload=function(j){var J=$.quill.getSelection(!0);$.quill.updateContents(new f.default().retain(J.index).delete(J.length).insert({image:j.target.result}),u.default.sources.USER),$.quill.setSelection(J.index+1,u.default.sources.SILENT),U.value=""},G.readAsDataURL(U.files[0])}}),this.container.appendChild(U)),U.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var H=function(I){E($,I);function $(U,G){S(this,$);var j=k(this,($.__proto__||Object.getPrototypeOf($)).call(this,U,G));return j.textbox=j.root.querySelector('input[type="text"]'),j.listen(),j}return h($,[{key:"listen",value:function(){var G=this;this.textbox.addEventListener("keydown",function(j){_.default.match(j,"enter")?(G.save(),j.preventDefault()):_.default.match(j,"escape")&&(G.cancel(),j.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),j!=null?this.textbox.value=j:G!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+G)||""),this.root.setAttribute("data-mode",G)}},{key:"restoreFocus",value:function(){var G=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=G}},{key:"save",value:function(){var G=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var j=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",G,u.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",G,u.default.sources.USER)),this.quill.root.scrollTop=j;break}case"video":G=z(G);case"formula":{if(!G)break;var J=this.quill.getSelection(!0);if(J!=null){var Y=J.index+J.length;this.quill.insertEmbed(Y,this.root.getAttribute("data-mode"),G,u.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(Y+1," ",u.default.sources.USER),this.quill.setSelection(Y+2,u.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),$}(L.default);function z(I){var $=I.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||I.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return $?($[1]||"https")+"://www.youtube.com/embed/"+$[2]+"?showinfo=0":($=I.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?($[1]||"https")+"://player.vimeo.com/video/"+$[2]+"/":I}function M(I,$){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;$.forEach(function(G){var j=document.createElement("option");G===U?j.setAttribute("selected","selected"):j.setAttribute("value",G),I.appendChild(j)})}t.BaseTooltip=H,t.default=Q},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var l=[],s=0;s<arguments.length;s++)l[s]=arguments[s];this.insertBefore(l[0],null),l.length>1&&this.append.apply(this,l.slice(1))},o.prototype.contains=function(l){for(var s,p=this.iterator();s=p();)if(s===l)return!0;return!1},o.prototype.insertBefore=function(l,s){l&&(l.next=s,s!=null?(l.prev=s.prev,s.prev!=null&&(s.prev.next=l),s.prev=l,s===this.head&&(this.head=l)):this.tail!=null?(this.tail.next=l,l.prev=this.tail,this.tail=l):(l.prev=null,this.head=this.tail=l),this.length+=1)},o.prototype.offset=function(l){for(var s=0,p=this.head;p!=null;){if(p===l)return s;s+=p.length(),p=p.next}return-1},o.prototype.remove=function(l){this.contains(l)&&(l.prev!=null&&(l.prev.next=l.next),l.next!=null&&(l.next.prev=l.prev),l===this.head&&(this.head=l.next),l===this.tail&&(this.tail=l.prev),this.length-=1)},o.prototype.iterator=function(l){return l===void 0&&(l=this.head),function(){var s=l;return l!=null&&(l=l.next),s}},o.prototype.find=function(l,s){s===void 0&&(s=!1);for(var p,f=this.iterator();p=f();){var v=p.length();if(l<v||s&&l===v&&(p.next==null||p.next.length()!==0))return[p,l];l-=v}return[null,0]},o.prototype.forEach=function(l){for(var s,p=this.iterator();s=p();)l(s)},o.prototype.forEachAt=function(l,s,p){if(!(s<=0))for(var f=this.find(l),v=f[0],u=f[1],d,_=l-u,b=this.iterator(v);(d=b())&&_<l+s;){var g=d.length();l>_?p(d,l-_,Math.min(s,_+g-l)):p(d,0,Math.min(g,l+s-_)),_+=g}},o.prototype.map=function(l){return this.reduce(function(s,p){return s.push(l(p)),s},[])},o.prototype.reduce=function(l,s){for(var p,f=this.iterator();p=f();)s=l(s,p);return s},o}();t.default=h},function(i,t,n){var h=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var _ in d)d.hasOwnProperty(_)&&(u[_]=d[_])};return function(u,d){v(u,d);function _(){this.constructor=u}u.prototype=d===null?Object.create(d):(_.prototype=d.prototype,new _)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(17),l=n(1),s={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},p=100,f=function(v){h(u,v);function u(d){var _=v.call(this,d)||this;return _.scroll=_,_.observer=new MutationObserver(function(b){_.update(b)}),_.observer.observe(_.domNode,s),_.attach(),_}return u.prototype.detach=function(){v.prototype.detach.call(this),this.observer.disconnect()},u.prototype.deleteAt=function(d,_){this.update(),d===0&&_===this.length()?this.children.forEach(function(b){b.remove()}):v.prototype.deleteAt.call(this,d,_)},u.prototype.formatAt=function(d,_,b,g){this.update(),v.prototype.formatAt.call(this,d,_,b,g)},u.prototype.insertAt=function(d,_,b){this.update(),v.prototype.insertAt.call(this,d,_,b)},u.prototype.optimize=function(d,_){var b=this;d===void 0&&(d=[]),_===void 0&&(_={}),v.prototype.optimize.call(this,_);for(var g=[].slice.call(this.observer.takeRecords());g.length>0;)d.push(g.pop());for(var y=function(w,O){O===void 0&&(O=!0),!(w==null||w===b)&&w.domNode.parentNode!=null&&(w.domNode[l.DATA_KEY].mutations==null&&(w.domNode[l.DATA_KEY].mutations=[]),O&&y(w.parent))},c=function(w){w.domNode[l.DATA_KEY]==null||w.domNode[l.DATA_KEY].mutations==null||(w instanceof o.default&&w.children.forEach(c),w.optimize(_))},m=d,r=0;m.length>0;r+=1){if(r>=p)throw new Error("[Parchment] Maximum optimize iterations reached");for(m.forEach(function(w){var O=l.find(w.target,!0);O!=null&&(O.domNode===w.target&&(w.type==="childList"?(y(l.find(w.previousSibling,!1)),[].forEach.call(w.addedNodes,function(C){var L=l.find(C,!1);y(L,!1),L instanceof o.default&&L.children.forEach(function(A){y(A,!1)})})):w.type==="attributes"&&y(O.prev)),y(O))}),this.children.forEach(c),m=[].slice.call(this.observer.takeRecords()),g=m.slice();g.length>0;)d.push(g.pop())}},u.prototype.update=function(d,_){var b=this;_===void 0&&(_={}),d=d||this.observer.takeRecords(),d.map(function(g){var y=l.find(g.target,!0);return y==null?null:y.domNode[l.DATA_KEY].mutations==null?(y.domNode[l.DATA_KEY].mutations=[g],y):(y.domNode[l.DATA_KEY].mutations.push(g),null)}).forEach(function(g){g==null||g===b||g.domNode[l.DATA_KEY]==null||g.update(g.domNode[l.DATA_KEY].mutations||[],_)}),this.domNode[l.DATA_KEY].mutations!=null&&v.prototype.update.call(this,this.domNode[l.DATA_KEY].mutations,_),this.optimize(d,_)},u.blotName="scroll",u.defaultChild="block",u.scope=l.Scope.BLOCK_BLOT,u.tagName="DIV",u}(o.default);t.default=f},function(i,t,n){var h=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,u){v.__proto__=u}||function(v,u){for(var d in u)u.hasOwnProperty(d)&&(v[d]=u[d])};return function(v,u){f(v,u);function d(){this.constructor=v}v.prototype=u===null?Object.create(u):(d.prototype=u.prototype,new d)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(18),l=n(1);function s(f,v){if(Object.keys(f).length!==Object.keys(v).length)return!1;for(var u in f)if(f[u]!==v[u])return!1;return!0}var p=function(f){h(v,f);function v(){return f!==null&&f.apply(this,arguments)||this}return v.formats=function(u){if(u.tagName!==v.tagName)return f.formats.call(this,u)},v.prototype.format=function(u,d){var _=this;u===this.statics.blotName&&!d?(this.children.forEach(function(b){b instanceof o.default||(b=b.wrap(v.blotName,!0)),_.attributes.copy(b)}),this.unwrap()):f.prototype.format.call(this,u,d)},v.prototype.formatAt=function(u,d,_,b){if(this.formats()[_]!=null||l.query(_,l.Scope.ATTRIBUTE)){var g=this.isolate(u,d);g.format(_,b)}else f.prototype.formatAt.call(this,u,d,_,b)},v.prototype.optimize=function(u){f.prototype.optimize.call(this,u);var d=this.formats();if(Object.keys(d).length===0)return this.unwrap();var _=this.next;_ instanceof v&&_.prev===this&&s(d,_.formats())&&(_.moveChildren(this),_.remove())},v.blotName="inline",v.scope=l.Scope.INLINE_BLOT,v.tagName="SPAN",v}(o.default);t.default=p},function(i,t,n){var h=this&&this.__extends||function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,v){f.__proto__=v}||function(f,v){for(var u in v)v.hasOwnProperty(u)&&(f[u]=v[u])};return function(f,v){p(f,v);function u(){this.constructor=f}f.prototype=v===null?Object.create(v):(u.prototype=v.prototype,new u)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(18),l=n(1),s=function(p){h(f,p);function f(){return p!==null&&p.apply(this,arguments)||this}return f.formats=function(v){var u=l.query(f.blotName).tagName;if(v.tagName!==u)return p.formats.call(this,v)},f.prototype.format=function(v,u){l.query(v,l.Scope.BLOCK)!=null&&(v===this.statics.blotName&&!u?this.replaceWith(f.blotName):p.prototype.format.call(this,v,u))},f.prototype.formatAt=function(v,u,d,_){l.query(d,l.Scope.BLOCK)!=null?this.format(d,_):p.prototype.formatAt.call(this,v,u,d,_)},f.prototype.insertAt=function(v,u,d){if(d==null||l.query(u,l.Scope.INLINE)!=null)p.prototype.insertAt.call(this,v,u,d);else{var _=this.split(v),b=l.create(u,d);_.parent.insertBefore(b,_)}},f.prototype.update=function(v,u){navigator.userAgent.match(/Trident/)?this.build():p.prototype.update.call(this,v,u)},f.blotName="block",f.scope=l.Scope.BLOCK_BLOT,f.tagName="P",f}(o.default);t.default=s},function(i,t,n){var h=this&&this.__extends||function(){var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,f){p.__proto__=f}||function(p,f){for(var v in f)f.hasOwnProperty(v)&&(p[v]=f[v])};return function(p,f){s(p,f);function v(){this.constructor=p}p.prototype=f===null?Object.create(f):(v.prototype=f.prototype,new v)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(19),l=function(s){h(p,s);function p(){return s!==null&&s.apply(this,arguments)||this}return p.formats=function(f){},p.prototype.format=function(f,v){s.prototype.formatAt.call(this,0,this.length(),f,v)},p.prototype.formatAt=function(f,v,u,d){f===0&&v===this.length()?this.format(u,d):s.prototype.formatAt.call(this,f,v,u,d)},p.prototype.formats=function(){return this.statics.formats(this.domNode)},p}(o.default);t.default=l},function(i,t,n){var h=this&&this.__extends||function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,v){f.__proto__=v}||function(f,v){for(var u in v)v.hasOwnProperty(u)&&(f[u]=v[u])};return function(f,v){p(f,v);function u(){this.constructor=f}f.prototype=v===null?Object.create(v):(u.prototype=v.prototype,new u)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(19),l=n(1),s=function(p){h(f,p);function f(v){var u=p.call(this,v)||this;return u.text=u.statics.value(u.domNode),u}return f.create=function(v){return document.createTextNode(v)},f.value=function(v){var u=v.data;return u.normalize&&(u=u.normalize()),u},f.prototype.deleteAt=function(v,u){this.domNode.data=this.text=this.text.slice(0,v)+this.text.slice(v+u)},f.prototype.index=function(v,u){return this.domNode===v?u:-1},f.prototype.insertAt=function(v,u,d){d==null?(this.text=this.text.slice(0,v)+u+this.text.slice(v),this.domNode.data=this.text):p.prototype.insertAt.call(this,v,u,d)},f.prototype.length=function(){return this.text.length},f.prototype.optimize=function(v){p.prototype.optimize.call(this,v),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof f&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},f.prototype.position=function(v,u){return[this.domNode,v]},f.prototype.split=function(v,u){if(u===void 0&&(u=!1),!u){if(v===0)return this;if(v===this.length())return this.next}var d=l.create(this.domNode.splitText(v));return this.parent.insertBefore(d,this.next),this.text=this.statics.value(this.domNode),d},f.prototype.update=function(v,u){var d=this;v.some(function(_){return _.type==="characterData"&&_.target===d.domNode})&&(this.text=this.statics.value(this.domNode))},f.prototype.value=function(){return this.text},f.blotName="text",f.scope=l.Scope.INLINE_BLOT,f}(o.default);t.default=s},function(i,t,n){var h=document.createElement("div");if(h.classList.toggle("test-class",!1),h.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(l,s){return arguments.length>1&&!this.contains(l)==!s?s:o.call(this,l)}}String.prototype.startsWith||(String.prototype.startsWith=function(l,s){return s=s||0,this.substr(s,l.length)===l}),String.prototype.endsWith||(String.prototype.endsWith=function(l,s){var p=this.toString();(typeof s!="number"||!isFinite(s)||Math.floor(s)!==s||s>p.length)&&(s=p.length),s-=l.length;var f=p.indexOf(l,s);return f!==-1&&f===s}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(s){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof s!="function")throw new TypeError("predicate must be a function");for(var p=Object(this),f=p.length>>>0,v=arguments[1],u,d=0;d<f;d++)if(u=p[d],s.call(v,u,d,p))return u}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(i,t){var n=-1,h=1,o=0;function l(r,w,O){if(r==w)return r?[[o,r]]:[];(O<0||r.length<O)&&(O=null);var C=v(r,w),L=r.substring(0,C);r=r.substring(C),w=w.substring(C),C=u(r,w);var A=r.substring(r.length-C);r=r.substring(0,r.length-C),w=w.substring(0,w.length-C);var S=s(r,w);return L&&S.unshift([o,L]),A&&S.push([o,A]),_(S),O!=null&&(S=y(S,O)),S=c(S),S}function s(r,w){var O;if(!r)return[[h,w]];if(!w)return[[n,r]];var C=r.length>w.length?r:w,L=r.length>w.length?w:r,A=C.indexOf(L);if(A!=-1)return O=[[h,C.substring(0,A)],[o,L],[h,C.substring(A+L.length)]],r.length>w.length&&(O[0][0]=O[2][0]=n),O;if(L.length==1)return[[n,r],[h,w]];var S=d(r,w);if(S){var k=S[0],E=S[1],R=S[2],B=S[3],q=S[4],K=l(k,R),W=l(E,B);return K.concat([[o,q]],W)}return p(r,w)}function p(r,w){for(var O=r.length,C=w.length,L=Math.ceil((O+C)/2),A=L,S=2*L,k=new Array(S),E=new Array(S),R=0;R<S;R++)k[R]=-1,E[R]=-1;k[A+1]=0,E[A+1]=0;for(var B=O-C,q=B%2!=0,K=0,W=0,Q=0,H=0,z=0;z<L;z++){for(var M=-z+K;M<=z-W;M+=2){var I=A+M,$;M==-z||M!=z&&k[I-1]<k[I+1]?$=k[I+1]:$=k[I-1]+1;for(var U=$-M;$<O&&U<C&&r.charAt($)==w.charAt(U);)$++,U++;if(k[I]=$,$>O)W+=2;else if(U>C)K+=2;else if(q){var G=A+B-M;if(G>=0&&G<S&&E[G]!=-1){var j=O-E[G];if($>=j)return f(r,w,$,U)}}}for(var J=-z+Q;J<=z-H;J+=2){var G=A+J,j;J==-z||J!=z&&E[G-1]<E[G+1]?j=E[G+1]:j=E[G-1]+1;for(var Y=j-J;j<O&&Y<C&&r.charAt(O-j-1)==w.charAt(C-Y-1);)j++,Y++;if(E[G]=j,j>O)H+=2;else if(Y>C)Q+=2;else if(!q){var I=A+B-J;if(I>=0&&I<S&&k[I]!=-1){var $=k[I],U=A+$-I;if(j=O-j,$>=j)return f(r,w,$,U)}}}}return[[n,r],[h,w]]}function f(r,w,O,C){var L=r.substring(0,O),A=w.substring(0,C),S=r.substring(O),k=w.substring(C),E=l(L,A),R=l(S,k);return E.concat(R)}function v(r,w){if(!r||!w||r.charAt(0)!=w.charAt(0))return 0;for(var O=0,C=Math.min(r.length,w.length),L=C,A=0;O<L;)r.substring(A,L)==w.substring(A,L)?(O=L,A=O):C=L,L=Math.floor((C-O)/2+O);return L}function u(r,w){if(!r||!w||r.charAt(r.length-1)!=w.charAt(w.length-1))return 0;for(var O=0,C=Math.min(r.length,w.length),L=C,A=0;O<L;)r.substring(r.length-L,r.length-A)==w.substring(w.length-L,w.length-A)?(O=L,A=O):C=L,L=Math.floor((C-O)/2+O);return L}function d(r,w){var O=r.length>w.length?r:w,C=r.length>w.length?w:r;if(O.length<4||C.length*2<O.length)return null;function L(W,Q,H){for(var z=W.substring(H,H+Math.floor(W.length/4)),M=-1,I="",$,U,G,j;(M=Q.indexOf(z,M+1))!=-1;){var J=v(W.substring(H),Q.substring(M)),Y=u(W.substring(0,H),Q.substring(0,M));I.length<Y+J&&(I=Q.substring(M-Y,M)+Q.substring(M,M+J),$=W.substring(0,H-Y),U=W.substring(H+J),G=Q.substring(0,M-Y),j=Q.substring(M+J))}return I.length*2>=W.length?[$,U,G,j,I]:null}var A=L(O,C,Math.ceil(O.length/4)),S=L(O,C,Math.ceil(O.length/2)),k;if(!A&&!S)return null;S?A?k=A[4].length>S[4].length?A:S:k=S:k=A;var E,R,B,q;r.length>w.length?(E=k[0],R=k[1],B=k[2],q=k[3]):(B=k[0],q=k[1],E=k[2],R=k[3]);var K=k[4];return[E,R,B,q,K]}function _(r){r.push([o,""]);for(var w=0,O=0,C=0,L="",A="",S;w<r.length;)switch(r[w][0]){case h:C++,A+=r[w][1],w++;break;case n:O++,L+=r[w][1],w++;break;case o:O+C>1?(O!==0&&C!==0&&(S=v(A,L),S!==0&&(w-O-C>0&&r[w-O-C-1][0]==o?r[w-O-C-1][1]+=A.substring(0,S):(r.splice(0,0,[o,A.substring(0,S)]),w++),A=A.substring(S),L=L.substring(S)),S=u(A,L),S!==0&&(r[w][1]=A.substring(A.length-S)+r[w][1],A=A.substring(0,A.length-S),L=L.substring(0,L.length-S))),O===0?r.splice(w-C,O+C,[h,A]):C===0?r.splice(w-O,O+C,[n,L]):r.splice(w-O-C,O+C,[n,L],[h,A]),w=w-O-C+(O?1:0)+(C?1:0)+1):w!==0&&r[w-1][0]==o?(r[w-1][1]+=r[w][1],r.splice(w,1)):w++,C=0,O=0,L="",A="";break}r[r.length-1][1]===""&&r.pop();var k=!1;for(w=1;w<r.length-1;)r[w-1][0]==o&&r[w+1][0]==o&&(r[w][1].substring(r[w][1].length-r[w-1][1].length)==r[w-1][1]?(r[w][1]=r[w-1][1]+r[w][1].substring(0,r[w][1].length-r[w-1][1].length),r[w+1][1]=r[w-1][1]+r[w+1][1],r.splice(w-1,1),k=!0):r[w][1].substring(0,r[w+1][1].length)==r[w+1][1]&&(r[w-1][1]+=r[w+1][1],r[w][1]=r[w][1].substring(r[w+1][1].length)+r[w+1][1],r.splice(w+1,1),k=!0)),w++;k&&_(r)}var b=l;b.INSERT=h,b.DELETE=n,b.EQUAL=o,i.exports=b;function g(r,w){if(w===0)return[o,r];for(var O=0,C=0;C<r.length;C++){var L=r[C];if(L[0]===n||L[0]===o){var A=O+L[1].length;if(w===A)return[C+1,r];if(w<A){r=r.slice();var S=w-O,k=[L[0],L[1].slice(0,S)],E=[L[0],L[1].slice(S)];return r.splice(C,1,k,E),[C+1,r]}else O=A}}throw new Error("cursor_pos is out of bounds!")}function y(r,w){var O=g(r,w),C=O[1],L=O[0],A=C[L],S=C[L+1];if(A==null)return r;if(A[0]!==o)return r;if(S!=null&&A[1]+S[1]===S[1]+A[1])return C.splice(L,2,S,A),m(C,L,2);if(S!=null&&S[1].indexOf(A[1])===0){C.splice(L,2,[S[0],A[1]],[0,A[1]]);var k=S[1].slice(A[1].length);return k.length>0&&C.splice(L+2,0,[S[0],k]),m(C,L,3)}else return r}function c(r){for(var w=!1,O=function(S){return S.charCodeAt(0)>=56320&&S.charCodeAt(0)<=57343},C=function(S){return S.charCodeAt(S.length-1)>=55296&&S.charCodeAt(S.length-1)<=56319},L=2;L<r.length;L+=1)r[L-2][0]===o&&C(r[L-2][1])&&r[L-1][0]===n&&O(r[L-1][1])&&r[L][0]===h&&O(r[L][1])&&(w=!0,r[L-1][1]=r[L-2][1].slice(-1)+r[L-1][1],r[L][1]=r[L-2][1].slice(-1)+r[L][1],r[L-2][1]=r[L-2][1].slice(0,-1));if(!w)return r;for(var A=[],L=0;L<r.length;L+=1)r[L][1].length>0&&A.push(r[L]);return A}function m(r,w,O){for(var C=w+O-1;C>=0&&C>=w-1;C--)if(C+1<r.length){var L=r[C],A=r[C+1];L[0]===A[1]&&r.splice(C,2,[L[0],L[1]+A[1]])}return r}},function(i,t){t=i.exports=typeof Object.keys=="function"?Object.keys:n,t.shim=n;function n(h){var o=[];for(var l in h)o.push(l);return o}},function(i,t){var n=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";t=i.exports=n?h:o,t.supported=h;function h(l){return Object.prototype.toString.call(l)=="[object Arguments]"}t.unsupported=o;function o(l){return l&&typeof l=="object"&&typeof l.length=="number"&&Object.prototype.hasOwnProperty.call(l,"callee")&&!Object.prototype.propertyIsEnumerable.call(l,"callee")||!1}},function(i,t){var n=Object.prototype.hasOwnProperty,h="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(h=!1));function l(p,f,v){this.fn=p,this.context=f,this.once=v||!1}function s(){this._events=new o,this._eventsCount=0}s.prototype.eventNames=function(){var f=[],v,u;if(this._eventsCount===0)return f;for(u in v=this._events)n.call(v,u)&&f.push(h?u.slice(1):u);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(v)):f},s.prototype.listeners=function(f,v){var u=h?h+f:f,d=this._events[u];if(v)return!!d;if(!d)return[];if(d.fn)return[d.fn];for(var _=0,b=d.length,g=new Array(b);_<b;_++)g[_]=d[_].fn;return g},s.prototype.emit=function(f,v,u,d,_,b){var g=h?h+f:f;if(!this._events[g])return!1;var y=this._events[g],c=arguments.length,m,r;if(y.fn){switch(y.once&&this.removeListener(f,y.fn,void 0,!0),c){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,v),!0;case 3:return y.fn.call(y.context,v,u),!0;case 4:return y.fn.call(y.context,v,u,d),!0;case 5:return y.fn.call(y.context,v,u,d,_),!0;case 6:return y.fn.call(y.context,v,u,d,_,b),!0}for(r=1,m=new Array(c-1);r<c;r++)m[r-1]=arguments[r];y.fn.apply(y.context,m)}else{var w=y.length,O;for(r=0;r<w;r++)switch(y[r].once&&this.removeListener(f,y[r].fn,void 0,!0),c){case 1:y[r].fn.call(y[r].context);break;case 2:y[r].fn.call(y[r].context,v);break;case 3:y[r].fn.call(y[r].context,v,u);break;case 4:y[r].fn.call(y[r].context,v,u,d);break;default:if(!m)for(O=1,m=new Array(c-1);O<c;O++)m[O-1]=arguments[O];y[r].fn.apply(y[r].context,m)}}return!0},s.prototype.on=function(f,v,u){var d=new l(v,u||this),_=h?h+f:f;return this._events[_]?this._events[_].fn?this._events[_]=[this._events[_],d]:this._events[_].push(d):(this._events[_]=d,this._eventsCount++),this},s.prototype.once=function(f,v,u){var d=new l(v,u||this,!0),_=h?h+f:f;return this._events[_]?this._events[_].fn?this._events[_]=[this._events[_],d]:this._events[_].push(d):(this._events[_]=d,this._eventsCount++),this},s.prototype.removeListener=function(f,v,u,d){var _=h?h+f:f;if(!this._events[_])return this;if(!v)return--this._eventsCount===0?this._events=new o:delete this._events[_],this;var b=this._events[_];if(b.fn)b.fn===v&&(!d||b.once)&&(!u||b.context===u)&&(--this._eventsCount===0?this._events=new o:delete this._events[_]);else{for(var g=0,y=[],c=b.length;g<c;g++)(b[g].fn!==v||d&&!b[g].once||u&&b[g].context!==u)&&y.push(b[g]);y.length?this._events[_]=y.length===1?y[0]:y:--this._eventsCount===0?this._events=new o:delete this._events[_]}return this},s.prototype.removeAllListeners=function(f){var v;return f?(v=h?h+f:f,this._events[v]&&(--this._eventsCount===0?this._events=new o:delete this._events[v])):(this._events=new o,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=h,s.EventEmitter=s,typeof i<"u"&&(i.exports=s)},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(re){return typeof re}:function(re){return re&&typeof Symbol=="function"&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re},o=function(){function re(le,ve){var ge=[],ce=!0,Se=!1,oe=void 0;try{for(var he=le[Symbol.iterator](),He;!(ce=(He=he.next()).done)&&(ge.push(He.value),!(ve&&ge.length===ve));ce=!0);}catch(ut){Se=!0,oe=ut}finally{try{!ce&&he.return&&he.return()}finally{if(Se)throw oe}}return ge}return function(le,ve){if(Array.isArray(le))return le;if(Symbol.iterator in Object(le))return re(le,ve);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function re(le,ve){for(var ge=0;ge<ve.length;ge++){var ce=ve[ge];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(le,ce.key,ce)}}return function(le,ve,ge){return ve&&re(le.prototype,ve),ge&&re(le,ge),le}}(),s=n(3),p=E(s),f=n(2),v=E(f),u=n(0),d=E(u),_=n(5),b=E(_),g=n(10),y=E(g),c=n(9),m=E(c),r=n(36),w=n(37),O=n(13),C=E(O),L=n(26),A=n(38),S=n(39),k=n(40);function E(re){return re&&re.__esModule?re:{default:re}}function R(re,le,ve){return le in re?Object.defineProperty(re,le,{value:ve,enumerable:!0,configurable:!0,writable:!0}):re[le]=ve,re}function B(re,le){if(!(re instanceof le))throw new TypeError("Cannot call a class as a function")}function q(re,le){if(!re)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return le&&(typeof le=="object"||typeof le=="function")?le:re}function K(re,le){if(typeof le!="function"&&le!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof le);re.prototype=Object.create(le&&le.prototype,{constructor:{value:re,enumerable:!1,writable:!0,configurable:!0}}),le&&(Object.setPrototypeOf?Object.setPrototypeOf(re,le):re.__proto__=le)}var W=(0,y.default)("quill:clipboard"),Q="__ql-matcher",H=[[Node.TEXT_NODE,Xe],[Node.TEXT_NODE,Ae],["br",me],[Node.ELEMENT_NODE,Ae],[Node.ELEMENT_NODE,se],[Node.ELEMENT_NODE,qe],[Node.ELEMENT_NODE,ee],[Node.ELEMENT_NODE,tt],["li",Ee],["b",Y.bind(Y,"bold")],["i",Y.bind(Y,"italic")],["style",ke]],z=[r.AlignAttribute,A.DirectionAttribute].reduce(function(re,le){return re[le.keyName]=le,re},{}),M=[r.AlignStyle,w.BackgroundStyle,L.ColorStyle,A.DirectionStyle,S.FontStyle,k.SizeStyle].reduce(function(re,le){return re[le.keyName]=le,re},{}),I=function(re){K(le,re);function le(ve,ge){B(this,le);var ce=q(this,(le.__proto__||Object.getPrototypeOf(le)).call(this,ve,ge));return ce.quill.root.addEventListener("paste",ce.onPaste.bind(ce)),ce.container=ce.quill.addContainer("ql-clipboard"),ce.container.setAttribute("contenteditable",!0),ce.container.setAttribute("tabindex",-1),ce.matchers=[],H.concat(ce.options.matchers).forEach(function(Se){var oe=o(Se,2),he=oe[0],He=oe[1];!ge.matchVisual&&He===qe||ce.addMatcher(he,He)}),ce}return l(le,[{key:"addMatcher",value:function(ge,ce){this.matchers.push([ge,ce])}},{key:"convert",value:function(ge){if(typeof ge=="string")return this.container.innerHTML=ge.replace(/\>\r?\n +\</g,"><"),this.convert();var ce=this.quill.getFormat(this.quill.selection.savedRange.index);if(ce[C.default.blotName]){var Se=this.container.innerText;return this.container.innerHTML="",new v.default().insert(Se,R({},C.default.blotName,ce[C.default.blotName]))}var oe=this.prepareMatching(),he=o(oe,2),He=he[0],ut=he[1],Ze=J(this.container,He,ut);return G(Ze,`
`)&&Ze.ops[Ze.ops.length-1].attributes==null&&(Ze=Ze.compose(new v.default().retain(Ze.length()-1).delete(1))),W.log("convert",this.container.innerHTML,Ze),this.container.innerHTML="",Ze}},{key:"dangerouslyPasteHTML",value:function(ge,ce){var Se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.default.sources.API;if(typeof ge=="string")this.quill.setContents(this.convert(ge),ce),this.quill.setSelection(0,b.default.sources.SILENT);else{var oe=this.convert(ce);this.quill.updateContents(new v.default().retain(ge).concat(oe),Se),this.quill.setSelection(ge+oe.length(),b.default.sources.SILENT)}}},{key:"onPaste",value:function(ge){var ce=this;if(!(ge.defaultPrevented||!this.quill.isEnabled())){var Se=this.quill.getSelection(),oe=new v.default().retain(Se.index),he=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(b.default.sources.SILENT),setTimeout(function(){oe=oe.concat(ce.convert()).delete(Se.length),ce.quill.updateContents(oe,b.default.sources.USER),ce.quill.setSelection(oe.length()-Se.length,b.default.sources.SILENT),ce.quill.scrollingContainer.scrollTop=he,ce.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ge=this,ce=[],Se=[];return this.matchers.forEach(function(oe){var he=o(oe,2),He=he[0],ut=he[1];switch(He){case Node.TEXT_NODE:Se.push(ut);break;case Node.ELEMENT_NODE:ce.push(ut);break;default:[].forEach.call(ge.container.querySelectorAll(He),function(Ze){Ze[Q]=Ze[Q]||[],Ze[Q].push(ut)});break}}),[ce,Se]}}]),le}(m.default);I.DEFAULTS={matchers:[],matchVisual:!0};function $(re,le,ve){return(typeof le>"u"?"undefined":h(le))==="object"?Object.keys(le).reduce(function(ge,ce){return $(ge,ce,le[ce])},re):re.reduce(function(ge,ce){return ce.attributes&&ce.attributes[le]?ge.push(ce):ge.insert(ce.insert,(0,p.default)({},R({},le,ve),ce.attributes))},new v.default)}function U(re){if(re.nodeType!==Node.ELEMENT_NODE)return{};var le="__ql-computed-style";return re[le]||(re[le]=window.getComputedStyle(re))}function G(re,le){for(var ve="",ge=re.ops.length-1;ge>=0&&ve.length<le.length;--ge){var ce=re.ops[ge];if(typeof ce.insert!="string")break;ve=ce.insert+ve}return ve.slice(-1*le.length)===le}function j(re){if(re.childNodes.length===0)return!1;var le=U(re);return["block","list-item"].indexOf(le.display)>-1}function J(re,le,ve){return re.nodeType===re.TEXT_NODE?ve.reduce(function(ge,ce){return ce(re,ge)},new v.default):re.nodeType===re.ELEMENT_NODE?[].reduce.call(re.childNodes||[],function(ge,ce){var Se=J(ce,le,ve);return ce.nodeType===re.ELEMENT_NODE&&(Se=le.reduce(function(oe,he){return he(ce,oe)},Se),Se=(ce[Q]||[]).reduce(function(oe,he){return he(ce,oe)},Se)),ge.concat(Se)},new v.default):new v.default}function Y(re,le,ve){return $(ve,re,!0)}function ee(re,le){var ve=d.default.Attributor.Attribute.keys(re),ge=d.default.Attributor.Class.keys(re),ce=d.default.Attributor.Style.keys(re),Se={};return ve.concat(ge).concat(ce).forEach(function(oe){var he=d.default.query(oe,d.default.Scope.ATTRIBUTE);he!=null&&(Se[he.attrName]=he.value(re),Se[he.attrName])||(he=z[oe],he!=null&&(he.attrName===oe||he.keyName===oe)&&(Se[he.attrName]=he.value(re)||void 0),he=M[oe],he!=null&&(he.attrName===oe||he.keyName===oe)&&(he=M[oe],Se[he.attrName]=he.value(re)||void 0))}),Object.keys(Se).length>0&&(le=$(le,Se)),le}function se(re,le){var ve=d.default.query(re);if(ve==null)return le;if(ve.prototype instanceof d.default.Embed){var ge={},ce=ve.value(re);ce!=null&&(ge[ve.blotName]=ce,le=new v.default().insert(ge,ve.formats(re)))}else typeof ve.formats=="function"&&(le=$(le,ve.blotName,ve.formats(re)));return le}function me(re,le){return G(le,`
`)||le.insert(`
`),le}function ke(){return new v.default}function Ee(re,le){var ve=d.default.query(re);if(ve==null||ve.blotName!=="list-item"||!G(le,`
`))return le;for(var ge=-1,ce=re.parentNode;!ce.classList.contains("ql-clipboard");)(d.default.query(ce)||{}).blotName==="list"&&(ge+=1),ce=ce.parentNode;return ge<=0?le:le.compose(new v.default().retain(le.length()-1).retain(1,{indent:ge}))}function Ae(re,le){return G(le,`
`)||(j(re)||le.length()>0&&re.nextSibling&&j(re.nextSibling))&&le.insert(`
`),le}function qe(re,le){if(j(re)&&re.nextElementSibling!=null&&!G(le,`

`)){var ve=re.offsetHeight+parseFloat(U(re).marginTop)+parseFloat(U(re).marginBottom);re.nextElementSibling.offsetTop>re.offsetTop+ve*1.5&&le.insert(`
`)}return le}function tt(re,le){var ve={},ge=re.style||{};return ge.fontStyle&&U(re).fontStyle==="italic"&&(ve.italic=!0),ge.fontWeight&&(U(re).fontWeight.startsWith("bold")||parseInt(U(re).fontWeight)>=700)&&(ve.bold=!0),Object.keys(ve).length>0&&(le=$(le,ve)),parseFloat(ge.textIndent||0)>0&&(le=new v.default().insert("	").concat(le)),le}function Xe(re,le){var ve=re.data;if(re.parentNode.tagName==="O:P")return le.insert(ve.trim());if(ve.trim().length===0&&re.parentNode.classList.contains("ql-clipboard"))return le;if(!U(re.parentNode).whiteSpace.startsWith("pre")){var ge=function(Se,oe){return oe=oe.replace(/[^\u00a0]/g,""),oe.length<1&&Se?" ":oe};ve=ve.replace(/\r\n/g," ").replace(/\n/g," "),ve=ve.replace(/\s\s+/g,ge.bind(ge,!0)),(re.previousSibling==null&&j(re.parentNode)||re.previousSibling!=null&&j(re.previousSibling))&&(ve=ve.replace(/^\s+/,ge.bind(ge,!1))),(re.nextSibling==null&&j(re.parentNode)||re.nextSibling!=null&&j(re.nextSibling))&&(ve=ve.replace(/\s+$/,ge.bind(ge,!1)))}return le.insert(ve)}t.default=I,t.matchAttributor=ee,t.matchBlot=se,t.matchNewline=Ae,t.matchSpacing=qe,t.matchText=Xe},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function _(b,g){for(var y=0;y<g.length;y++){var c=g[y];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(b,c.key,c)}}return function(b,g,y){return g&&_(b.prototype,g),y&&_(b,y),b}}(),o=function _(b,g,y){b===null&&(b=Function.prototype);var c=Object.getOwnPropertyDescriptor(b,g);if(c===void 0){var m=Object.getPrototypeOf(b);return m===null?void 0:_(m,g,y)}else{if("value"in c)return c.value;var r=c.get;return r===void 0?void 0:r.call(y)}},l=n(6),s=p(l);function p(_){return _&&_.__esModule?_:{default:_}}function f(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}function v(_,b){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:_}function u(_,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(_,b):_.__proto__=b)}var d=function(_){u(b,_);function b(){return f(this,b),v(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return h(b,[{key:"optimize",value:function(y){o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,y),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),b}(s.default);d.blotName="bold",d.tagName=["STRONG","B"],t.default=d},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var h=function(){function k(E,R){var B=[],q=!0,K=!1,W=void 0;try{for(var Q=E[Symbol.iterator](),H;!(q=(H=Q.next()).done)&&(B.push(H.value),!(R&&B.length===R));q=!0);}catch(z){K=!0,W=z}finally{try{!q&&Q.return&&Q.return()}finally{if(K)throw W}}return B}return function(E,R){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return k(E,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function k(E,R){for(var B=0;B<R.length;B++){var q=R[B];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(E,q.key,q)}}return function(E,R,B){return R&&k(E.prototype,R),B&&k(E,B),E}}(),l=n(2),s=y(l),p=n(0),f=y(p),v=n(5),u=y(v),d=n(10),_=y(d),b=n(9),g=y(b);function y(k){return k&&k.__esModule?k:{default:k}}function c(k,E,R){return E in k?Object.defineProperty(k,E,{value:R,enumerable:!0,configurable:!0,writable:!0}):k[E]=R,k}function m(k,E){if(!(k instanceof E))throw new TypeError("Cannot call a class as a function")}function r(k,E){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:k}function w(k,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);k.prototype=Object.create(E&&E.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(k,E):k.__proto__=E)}var O=(0,_.default)("quill:toolbar"),C=function(k){w(E,k);function E(R,B){m(this,E);var q=r(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,R,B));if(Array.isArray(q.options.container)){var K=document.createElement("div");A(K,q.options.container),R.container.parentNode.insertBefore(K,R.container),q.container=K}else typeof q.options.container=="string"?q.container=document.querySelector(q.options.container):q.container=q.options.container;if(!(q.container instanceof HTMLElement)){var W;return W=O.error("Container required for toolbar",q.options),r(q,W)}return q.container.classList.add("ql-toolbar"),q.controls=[],q.handlers={},Object.keys(q.options.handlers).forEach(function(Q){q.addHandler(Q,q.options.handlers[Q])}),[].forEach.call(q.container.querySelectorAll("button, select"),function(Q){q.attach(Q)}),q.quill.on(u.default.events.EDITOR_CHANGE,function(Q,H){Q===u.default.events.SELECTION_CHANGE&&q.update(H)}),q.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){var Q=q.quill.selection.getRange(),H=h(Q,1),z=H[0];q.update(z)}),q}return o(E,[{key:"addHandler",value:function(B,q){this.handlers[B]=q}},{key:"attach",value:function(B){var q=this,K=[].find.call(B.classList,function(Q){return Q.indexOf("ql-")===0});if(K){if(K=K.slice(3),B.tagName==="BUTTON"&&B.setAttribute("type","button"),this.handlers[K]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[K]==null){O.warn("ignoring attaching to disabled format",K,B);return}if(f.default.query(K)==null){O.warn("ignoring attaching to nonexistent format",K,B);return}}var W=B.tagName==="SELECT"?"change":"click";B.addEventListener(W,function(Q){var H=void 0;if(B.tagName==="SELECT"){if(B.selectedIndex<0)return;var z=B.options[B.selectedIndex];z.hasAttribute("selected")?H=!1:H=z.value||!1}else B.classList.contains("ql-active")?H=!1:H=B.value||!B.hasAttribute("value"),Q.preventDefault();q.quill.focus();var M=q.quill.selection.getRange(),I=h(M,1),$=I[0];if(q.handlers[K]!=null)q.handlers[K].call(q,H);else if(f.default.query(K).prototype instanceof f.default.Embed){if(H=prompt("Enter "+K),!H)return;q.quill.updateContents(new s.default().retain($.index).delete($.length).insert(c({},K,H)),u.default.sources.USER)}else q.quill.format(K,H,u.default.sources.USER);q.update($)}),this.controls.push([K,B])}}},{key:"update",value:function(B){var q=B==null?{}:this.quill.getFormat(B);this.controls.forEach(function(K){var W=h(K,2),Q=W[0],H=W[1];if(H.tagName==="SELECT"){var z=void 0;if(B==null)z=null;else if(q[Q]==null)z=H.querySelector("option[selected]");else if(!Array.isArray(q[Q])){var M=q[Q];typeof M=="string"&&(M=M.replace(/\"/g,'\\"')),z=H.querySelector('option[value="'+M+'"]')}z==null?(H.value="",H.selectedIndex=-1):z.selected=!0}else if(B==null)H.classList.remove("ql-active");else if(H.hasAttribute("value")){var I=q[Q]===H.getAttribute("value")||q[Q]!=null&&q[Q].toString()===H.getAttribute("value")||q[Q]==null&&!H.getAttribute("value");H.classList.toggle("ql-active",I)}else H.classList.toggle("ql-active",q[Q]!=null)})}}]),E}(g.default);C.DEFAULTS={};function L(k,E,R){var B=document.createElement("button");B.setAttribute("type","button"),B.classList.add("ql-"+E),R!=null&&(B.value=R),k.appendChild(B)}function A(k,E){Array.isArray(E[0])||(E=[E]),E.forEach(function(R){var B=document.createElement("span");B.classList.add("ql-formats"),R.forEach(function(q){if(typeof q=="string")L(B,q);else{var K=Object.keys(q)[0],W=q[K];Array.isArray(W)?S(B,K,W):L(B,K,W)}}),k.appendChild(B)})}function S(k,E,R){var B=document.createElement("select");B.classList.add("ql-"+E),R.forEach(function(q){var K=document.createElement("option");q!==!1?K.setAttribute("value",q):K.setAttribute("selected","selected"),B.appendChild(K)}),k.appendChild(B)}C.DEFAULTS={container:null,handlers:{clean:function(){var E=this,R=this.quill.getSelection();if(R!=null)if(R.length==0){var B=this.quill.getFormat();Object.keys(B).forEach(function(q){f.default.query(q,f.default.Scope.INLINE)!=null&&E.quill.format(q,!1)})}else this.quill.removeFormat(R,u.default.sources.USER)},direction:function(E){var R=this.quill.getFormat().align;E==="rtl"&&R==null?this.quill.format("align","right",u.default.sources.USER):!E&&R==="right"&&this.quill.format("align",!1,u.default.sources.USER),this.quill.format("direction",E,u.default.sources.USER)},indent:function(E){var R=this.quill.getSelection(),B=this.quill.getFormat(R),q=parseInt(B.indent||0);if(E==="+1"||E==="-1"){var K=E==="+1"?1:-1;B.direction==="rtl"&&(K*=-1),this.quill.format("indent",q+K,u.default.sources.USER)}},link:function(E){E===!0&&(E=prompt("Enter link URL:")),this.quill.format("link",E,u.default.sources.USER)},list:function(E){var R=this.quill.getSelection(),B=this.quill.getFormat(R);E==="check"?B.list==="checked"||B.list==="unchecked"?this.quill.format("list",!1,u.default.sources.USER):this.quill.format("list","unchecked",u.default.sources.USER):this.quill.format("list",E,u.default.sources.USER)}}},t.default=C,t.addControls=A},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function _(b,g){for(var y=0;y<g.length;y++){var c=g[y];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(b,c.key,c)}}return function(b,g,y){return g&&_(b.prototype,g),y&&_(b,y),b}}(),o=function _(b,g,y){b===null&&(b=Function.prototype);var c=Object.getOwnPropertyDescriptor(b,g);if(c===void 0){var m=Object.getPrototypeOf(b);return m===null?void 0:_(m,g,y)}else{if("value"in c)return c.value;var r=c.get;return r===void 0?void 0:r.call(y)}},l=n(28),s=p(l);function p(_){return _&&_.__esModule?_:{default:_}}function f(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}function v(_,b){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:_}function u(_,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(_,b):_.__proto__=b)}var d=function(_){u(b,_);function b(g,y){f(this,b);var c=v(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,g));return c.label.innerHTML=y,c.container.classList.add("ql-color-picker"),[].slice.call(c.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(m){m.classList.add("ql-primary")}),c}return h(b,[{key:"buildItem",value:function(y){var c=o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"buildItem",this).call(this,y);return c.style.backgroundColor=y.getAttribute("value")||"",c}},{key:"selectItem",value:function(y,c){o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"selectItem",this).call(this,y,c);var m=this.label.querySelector(".ql-color-label"),r=y&&y.getAttribute("data-value")||"";m&&(m.tagName==="line"?m.style.stroke=r:m.style.fill=r)}}]),b}(s.default);t.default=d},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function _(b,g){for(var y=0;y<g.length;y++){var c=g[y];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(b,c.key,c)}}return function(b,g,y){return g&&_(b.prototype,g),y&&_(b,y),b}}(),o=function _(b,g,y){b===null&&(b=Function.prototype);var c=Object.getOwnPropertyDescriptor(b,g);if(c===void 0){var m=Object.getPrototypeOf(b);return m===null?void 0:_(m,g,y)}else{if("value"in c)return c.value;var r=c.get;return r===void 0?void 0:r.call(y)}},l=n(28),s=p(l);function p(_){return _&&_.__esModule?_:{default:_}}function f(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}function v(_,b){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:_}function u(_,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(_,b):_.__proto__=b)}var d=function(_){u(b,_);function b(g,y){f(this,b);var c=v(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,g));return c.container.classList.add("ql-icon-picker"),[].forEach.call(c.container.querySelectorAll(".ql-picker-item"),function(m){m.innerHTML=y[m.getAttribute("data-value")||""]}),c.defaultItem=c.container.querySelector(".ql-selected"),c.selectItem(c.defaultItem),c}return h(b,[{key:"selectItem",value:function(y,c){o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"selectItem",this).call(this,y,c),y=y||this.defaultItem,this.label.innerHTML=y.innerHTML}}]),b}(s.default);t.default=d},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function s(p,f){for(var v=0;v<f.length;v++){var u=f[v];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(p,u.key,u)}}return function(p,f,v){return f&&s(p.prototype,f),v&&s(p,v),p}}();function o(s,p){if(!(s instanceof p))throw new TypeError("Cannot call a class as a function")}var l=function(){function s(p,f){var v=this;o(this,s),this.quill=p,this.boundsContainer=f||document.body,this.root=p.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){v.root.style.marginTop=-1*v.quill.root.scrollTop+"px"}),this.hide()}return h(s,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(f){var v=f.left+f.width/2-this.root.offsetWidth/2,u=f.bottom+this.quill.root.scrollTop;this.root.style.left=v+"px",this.root.style.top=u+"px",this.root.classList.remove("ql-flip");var d=this.boundsContainer.getBoundingClientRect(),_=this.root.getBoundingClientRect(),b=0;if(_.right>d.right&&(b=d.right-_.right,this.root.style.left=v+b+"px"),_.left<d.left&&(b=d.left-_.left,this.root.style.left=v+b+"px"),_.bottom>d.bottom){var g=_.bottom-_.top,y=f.bottom-f.top+g;this.root.style.top=u-y+"px",this.root.classList.add("ql-flip")}return b}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),s}();t.default=l},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function S(k,E){var R=[],B=!0,q=!1,K=void 0;try{for(var W=k[Symbol.iterator](),Q;!(B=(Q=W.next()).done)&&(R.push(Q.value),!(E&&R.length===E));B=!0);}catch(H){q=!0,K=H}finally{try{!B&&W.return&&W.return()}finally{if(q)throw K}}return R}return function(k,E){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return S(k,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function S(k,E,R){k===null&&(k=Function.prototype);var B=Object.getOwnPropertyDescriptor(k,E);if(B===void 0){var q=Object.getPrototypeOf(k);return q===null?void 0:S(q,E,R)}else{if("value"in B)return B.value;var K=B.get;return K===void 0?void 0:K.call(R)}},l=function(){function S(k,E){for(var R=0;R<E.length;R++){var B=E[R];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(k,B.key,B)}}return function(k,E,R){return E&&S(k.prototype,E),R&&S(k,R),k}}(),s=n(3),p=m(s),f=n(8),v=m(f),u=n(43),d=m(u),_=n(27),b=m(_),g=n(15),y=n(41),c=m(y);function m(S){return S&&S.__esModule?S:{default:S}}function r(S,k){if(!(S instanceof k))throw new TypeError("Cannot call a class as a function")}function w(S,k){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:S}function O(S,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);S.prototype=Object.create(k&&k.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(S,k):S.__proto__=k)}var C=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],L=function(S){O(k,S);function k(E,R){r(this,k),R.modules.toolbar!=null&&R.modules.toolbar.container==null&&(R.modules.toolbar.container=C);var B=w(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,E,R));return B.quill.container.classList.add("ql-snow"),B}return l(k,[{key:"extendToolbar",value:function(R){R.container.classList.add("ql-snow"),this.buildButtons([].slice.call(R.container.querySelectorAll("button")),c.default),this.buildPickers([].slice.call(R.container.querySelectorAll("select")),c.default),this.tooltip=new A(this.quill,this.options.bounds),R.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(B,q){R.handlers.link.call(R,!q.format.link)})}}]),k}(d.default);L.DEFAULTS=(0,p.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(k){if(k){var E=this.quill.getSelection();if(E==null||E.length==0)return;var R=this.quill.getText(E);/^\S+@\S+\.\S+$/.test(R)&&R.indexOf("mailto:")!==0&&(R="mailto:"+R);var B=this.quill.theme.tooltip;B.edit("link",R)}else this.quill.format("link",!1)}}}}});var A=function(S){O(k,S);function k(E,R){r(this,k);var B=w(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,E,R));return B.preview=B.root.querySelector("a.ql-preview"),B}return l(k,[{key:"listen",value:function(){var R=this;o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(B){R.root.classList.contains("ql-editing")?R.save():R.edit("link",R.preview.textContent),B.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(B){if(R.linkRange!=null){var q=R.linkRange;R.restoreFocus(),R.quill.formatText(q,"link",!1,v.default.sources.USER),delete R.linkRange}B.preventDefault(),R.hide()}),this.quill.on(v.default.events.SELECTION_CHANGE,function(B,q,K){if(B!=null){if(B.length===0&&K===v.default.sources.USER){var W=R.quill.scroll.descendant(b.default,B.index),Q=h(W,2),H=Q[0],z=Q[1];if(H!=null){R.linkRange=new g.Range(B.index-z,H.length());var M=b.default.formats(H.domNode);R.preview.textContent=M,R.preview.setAttribute("href",M),R.show(),R.position(R.quill.getBounds(R.linkRange));return}}else delete R.linkRange;R.hide()}})}},{key:"show",value:function(){o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),k}(u.BaseTooltip);A.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=L},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0});var h=n(29),o=ce(h),l=n(36),s=n(38),p=n(64),f=n(65),v=ce(f),u=n(66),d=ce(u),_=n(67),b=ce(_),g=n(37),y=n(26),c=n(39),m=n(40),r=n(56),w=ce(r),O=n(68),C=ce(O),L=n(27),A=ce(L),S=n(69),k=ce(S),E=n(70),R=ce(E),B=n(71),q=ce(B),K=n(72),W=ce(K),Q=n(73),H=ce(Q),z=n(13),M=ce(z),I=n(74),$=ce(I),U=n(75),G=ce(U),j=n(57),J=ce(j),Y=n(41),ee=ce(Y),se=n(28),me=ce(se),ke=n(59),Ee=ce(ke),Ae=n(60),qe=ce(Ae),tt=n(61),Xe=ce(tt),re=n(108),le=ce(re),ve=n(62),ge=ce(ve);function ce(Se){return Se&&Se.__esModule?Se:{default:Se}}o.default.register({"attributors/attribute/direction":s.DirectionAttribute,"attributors/class/align":l.AlignClass,"attributors/class/background":g.BackgroundClass,"attributors/class/color":y.ColorClass,"attributors/class/direction":s.DirectionClass,"attributors/class/font":c.FontClass,"attributors/class/size":m.SizeClass,"attributors/style/align":l.AlignStyle,"attributors/style/background":g.BackgroundStyle,"attributors/style/color":y.ColorStyle,"attributors/style/direction":s.DirectionStyle,"attributors/style/font":c.FontStyle,"attributors/style/size":m.SizeStyle},!0),o.default.register({"formats/align":l.AlignClass,"formats/direction":s.DirectionClass,"formats/indent":p.IndentClass,"formats/background":g.BackgroundStyle,"formats/color":y.ColorStyle,"formats/font":c.FontClass,"formats/size":m.SizeClass,"formats/blockquote":v.default,"formats/code-block":M.default,"formats/header":d.default,"formats/list":b.default,"formats/bold":w.default,"formats/code":z.Code,"formats/italic":C.default,"formats/link":A.default,"formats/script":k.default,"formats/strike":R.default,"formats/underline":q.default,"formats/image":W.default,"formats/video":H.default,"formats/list/item":_.ListItem,"modules/formula":$.default,"modules/syntax":G.default,"modules/toolbar":J.default,"themes/bubble":le.default,"themes/snow":ge.default,"ui/icons":ee.default,"ui/picker":me.default,"ui/icon-picker":qe.default,"ui/color-picker":Ee.default,"ui/tooltip":Xe.default},!0),t.default=o.default},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var h=function(){function b(g,y){for(var c=0;c<y.length;c++){var m=y[c];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(g,m.key,m)}}return function(g,y,c){return y&&b(g.prototype,y),c&&b(g,c),g}}(),o=function b(g,y,c){g===null&&(g=Function.prototype);var m=Object.getOwnPropertyDescriptor(g,y);if(m===void 0){var r=Object.getPrototypeOf(g);return r===null?void 0:b(r,y,c)}else{if("value"in m)return m.value;var w=m.get;return w===void 0?void 0:w.call(c)}},l=n(0),s=p(l);function p(b){return b&&b.__esModule?b:{default:b}}function f(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")}function v(b,g){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:b}function u(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);b.prototype=Object.create(g&&g.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(b,g):b.__proto__=g)}var d=function(b){u(g,b);function g(){return f(this,g),v(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return h(g,[{key:"add",value:function(c,m){if(m==="+1"||m==="-1"){var r=this.value(c)||0;m=m==="+1"?r+1:r-1}return m===0?(this.remove(c),!0):o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"add",this).call(this,c,m)}},{key:"canAdd",value:function(c,m){return o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"canAdd",this).call(this,c,m)||o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"canAdd",this).call(this,c,parseInt(m))}},{key:"value",value:function(c){return parseInt(o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,c))||void 0}}]),g}(s.default.Attributor.Class),_=new d("indent","ql-indent",{scope:s.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=_},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0});var h=n(4),o=l(h);function l(u){return u&&u.__esModule?u:{default:u}}function s(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}function p(u,d){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:u}function f(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);u.prototype=Object.create(d&&d.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(u,d):u.__proto__=d)}var v=function(u){f(d,u);function d(){return s(this,d),p(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(o.default);v.blotName="blockquote",v.tagName="blockquote",t.default=v},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function d(_,b){for(var g=0;g<b.length;g++){var y=b[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(_,y.key,y)}}return function(_,b,g){return b&&d(_.prototype,b),g&&d(_,g),_}}(),o=n(4),l=s(o);function s(d){return d&&d.__esModule?d:{default:d}}function p(d,_){if(!(d instanceof _))throw new TypeError("Cannot call a class as a function")}function f(d,_){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:d}function v(d,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);d.prototype=Object.create(_&&_.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(d,_):d.__proto__=_)}var u=function(d){v(_,d);function _(){return p(this,_),f(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return h(_,null,[{key:"formats",value:function(g){return this.tagName.indexOf(g.tagName)+1}}]),_}(l.default);u.blotName="header",u.tagName=["H1","H2","H3","H4","H5","H6"],t.default=u},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var h=function(){function r(w,O){for(var C=0;C<O.length;C++){var L=O[C];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(w,L.key,L)}}return function(w,O,C){return O&&r(w.prototype,O),C&&r(w,C),w}}(),o=function r(w,O,C){w===null&&(w=Function.prototype);var L=Object.getOwnPropertyDescriptor(w,O);if(L===void 0){var A=Object.getPrototypeOf(w);return A===null?void 0:r(A,O,C)}else{if("value"in L)return L.value;var S=L.get;return S===void 0?void 0:S.call(C)}},l=n(0),s=d(l),p=n(4),f=d(p),v=n(25),u=d(v);function d(r){return r&&r.__esModule?r:{default:r}}function _(r,w,O){return w in r?Object.defineProperty(r,w,{value:O,enumerable:!0,configurable:!0,writable:!0}):r[w]=O,r}function b(r,w){if(!(r instanceof w))throw new TypeError("Cannot call a class as a function")}function g(r,w){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:r}function y(r,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);r.prototype=Object.create(w&&w.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(r,w):r.__proto__=w)}var c=function(r){y(w,r);function w(){return b(this,w),g(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return h(w,[{key:"format",value:function(C,L){C===m.blotName&&!L?this.replaceWith(s.default.create(this.statics.scope)):o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,C,L)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(C,L){return this.parent.isolate(this.offset(this.parent),this.length()),C===this.parent.statics.blotName?(this.parent.replaceWith(C,L),this):(this.parent.unwrap(),o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"replaceWith",this).call(this,C,L))}}],[{key:"formats",value:function(C){return C.tagName===this.tagName?void 0:o(w.__proto__||Object.getPrototypeOf(w),"formats",this).call(this,C)}}]),w}(f.default);c.blotName="list-item",c.tagName="LI";var m=function(r){y(w,r),h(w,null,[{key:"create",value:function(C){var L=C==="ordered"?"OL":"UL",A=o(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,L);return(C==="checked"||C==="unchecked")&&A.setAttribute("data-checked",C==="checked"),A}},{key:"formats",value:function(C){if(C.tagName==="OL")return"ordered";if(C.tagName==="UL")return C.hasAttribute("data-checked")?C.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function w(O){b(this,w);var C=g(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,O)),L=function(S){if(S.target.parentNode===O){var k=C.statics.formats(O),E=s.default.find(S.target);k==="checked"?E.format("list","unchecked"):k==="unchecked"&&E.format("list","checked")}};return O.addEventListener("touchstart",L),O.addEventListener("mousedown",L),C}return h(w,[{key:"format",value:function(C,L){this.children.length>0&&this.children.tail.format(C,L)}},{key:"formats",value:function(){return _({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(C,L){if(C instanceof c)o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertBefore",this).call(this,C,L);else{var A=L==null?this.length():L.offset(this),S=this.split(A);S.parent.insertBefore(C,S)}}},{key:"optimize",value:function(C){o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,C);var L=this.next;L!=null&&L.prev===this&&L.statics.blotName===this.statics.blotName&&L.domNode.tagName===this.domNode.tagName&&L.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(L.moveChildren(this),L.remove())}},{key:"replace",value:function(C){if(C.statics.blotName!==this.statics.blotName){var L=s.default.create(this.statics.defaultChild);C.moveChildren(L),this.appendChild(L)}o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"replace",this).call(this,C)}}]),w}(u.default);m.blotName="list",m.scope=s.default.Scope.BLOCK_BLOT,m.tagName=["OL","UL"],m.defaultChild="list-item",m.allowedChildren=[c],t.ListItem=c,t.default=m},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0});var h=n(56),o=l(h);function l(u){return u&&u.__esModule?u:{default:u}}function s(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}function p(u,d){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:u}function f(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);u.prototype=Object.create(d&&d.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(u,d):u.__proto__=d)}var v=function(u){f(d,u);function d(){return s(this,d),p(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(o.default);v.blotName="italic",v.tagName=["EM","I"],t.default=v},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function _(b,g){for(var y=0;y<g.length;y++){var c=g[y];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(b,c.key,c)}}return function(b,g,y){return g&&_(b.prototype,g),y&&_(b,y),b}}(),o=function _(b,g,y){b===null&&(b=Function.prototype);var c=Object.getOwnPropertyDescriptor(b,g);if(c===void 0){var m=Object.getPrototypeOf(b);return m===null?void 0:_(m,g,y)}else{if("value"in c)return c.value;var r=c.get;return r===void 0?void 0:r.call(y)}},l=n(6),s=p(l);function p(_){return _&&_.__esModule?_:{default:_}}function f(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}function v(_,b){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:_}function u(_,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(_,b):_.__proto__=b)}var d=function(_){u(b,_);function b(){return f(this,b),v(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return h(b,null,[{key:"create",value:function(y){return y==="super"?document.createElement("sup"):y==="sub"?document.createElement("sub"):o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,y)}},{key:"formats",value:function(y){if(y.tagName==="SUB")return"sub";if(y.tagName==="SUP")return"super"}}]),b}(s.default);d.blotName="script",d.tagName=["SUB","SUP"],t.default=d},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0});var h=n(6),o=l(h);function l(u){return u&&u.__esModule?u:{default:u}}function s(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}function p(u,d){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:u}function f(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);u.prototype=Object.create(d&&d.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(u,d):u.__proto__=d)}var v=function(u){f(d,u);function d(){return s(this,d),p(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(o.default);v.blotName="strike",v.tagName="S",t.default=v},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0});var h=n(6),o=l(h);function l(u){return u&&u.__esModule?u:{default:u}}function s(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}function p(u,d){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:u}function f(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);u.prototype=Object.create(d&&d.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(u,d):u.__proto__=d)}var v=function(u){f(d,u);function d(){return s(this,d),p(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(o.default);v.blotName="underline",v.tagName="U",t.default=v},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function g(y,c){for(var m=0;m<c.length;m++){var r=c[m];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(y,r.key,r)}}return function(y,c,m){return c&&g(y.prototype,c),m&&g(y,m),y}}(),o=function g(y,c,m){y===null&&(y=Function.prototype);var r=Object.getOwnPropertyDescriptor(y,c);if(r===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:g(w,c,m)}else{if("value"in r)return r.value;var O=r.get;return O===void 0?void 0:O.call(m)}},l=n(0),s=f(l),p=n(27);function f(g){return g&&g.__esModule?g:{default:g}}function v(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function u(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function d(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var _=["alt","height","width"],b=function(g){d(y,g);function y(){return v(this,y),u(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return h(y,[{key:"format",value:function(m,r){_.indexOf(m)>-1?r?this.domNode.setAttribute(m,r):this.domNode.removeAttribute(m):o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,m,r)}}],[{key:"create",value:function(m){var r=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,m);return typeof m=="string"&&r.setAttribute("src",this.sanitize(m)),r}},{key:"formats",value:function(m){return _.reduce(function(r,w){return m.hasAttribute(w)&&(r[w]=m.getAttribute(w)),r},{})}},{key:"match",value:function(m){return/\.(jpe?g|gif|png)$/.test(m)||/^data:image\/.+;base64/.test(m)}},{key:"sanitize",value:function(m){return(0,p.sanitize)(m,["http","https","data"])?m:"//:0"}},{key:"value",value:function(m){return m.getAttribute("src")}}]),y}(s.default.Embed);b.blotName="image",b.tagName="IMG",t.default=b},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function g(y,c){for(var m=0;m<c.length;m++){var r=c[m];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(y,r.key,r)}}return function(y,c,m){return c&&g(y.prototype,c),m&&g(y,m),y}}(),o=function g(y,c,m){y===null&&(y=Function.prototype);var r=Object.getOwnPropertyDescriptor(y,c);if(r===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:g(w,c,m)}else{if("value"in r)return r.value;var O=r.get;return O===void 0?void 0:O.call(m)}},l=n(4),s=n(27),p=f(s);function f(g){return g&&g.__esModule?g:{default:g}}function v(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function u(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function d(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var _=["height","width"],b=function(g){d(y,g);function y(){return v(this,y),u(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return h(y,[{key:"format",value:function(m,r){_.indexOf(m)>-1?r?this.domNode.setAttribute(m,r):this.domNode.removeAttribute(m):o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,m,r)}}],[{key:"create",value:function(m){var r=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,m);return r.setAttribute("frameborder","0"),r.setAttribute("allowfullscreen",!0),r.setAttribute("src",this.sanitize(m)),r}},{key:"formats",value:function(m){return _.reduce(function(r,w){return m.hasAttribute(w)&&(r[w]=m.getAttribute(w)),r},{})}},{key:"sanitize",value:function(m){return p.default.sanitize(m)}},{key:"value",value:function(m){return m.getAttribute("src")}}]),y}(l.BlockEmbed);b.blotName="video",b.className="ql-video",b.tagName="IFRAME",t.default=b},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var h=function(){function m(r,w){for(var O=0;O<w.length;O++){var C=w[O];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(r,C.key,C)}}return function(r,w,O){return w&&m(r.prototype,w),O&&m(r,O),r}}(),o=function m(r,w,O){r===null&&(r=Function.prototype);var C=Object.getOwnPropertyDescriptor(r,w);if(C===void 0){var L=Object.getPrototypeOf(r);return L===null?void 0:m(L,w,O)}else{if("value"in C)return C.value;var A=C.get;return A===void 0?void 0:A.call(O)}},l=n(35),s=d(l),p=n(5),f=d(p),v=n(9),u=d(v);function d(m){return m&&m.__esModule?m:{default:m}}function _(m,r){if(!(m instanceof r))throw new TypeError("Cannot call a class as a function")}function b(m,r){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:m}function g(m,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);m.prototype=Object.create(r&&r.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(m,r):m.__proto__=r)}var y=function(m){g(r,m);function r(){return _(this,r),b(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return h(r,null,[{key:"create",value:function(O){var C=o(r.__proto__||Object.getPrototypeOf(r),"create",this).call(this,O);return typeof O=="string"&&(window.katex.render(O,C,{throwOnError:!1,errorColor:"#f00"}),C.setAttribute("data-value",O)),C}},{key:"value",value:function(O){return O.getAttribute("data-value")}}]),r}(s.default);y.blotName="formula",y.className="ql-formula",y.tagName="SPAN";var c=function(m){g(r,m),h(r,null,[{key:"register",value:function(){f.default.register(y,!0)}}]);function r(){_(this,r);var w=b(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return w}return r}(u.default);t.FormulaBlot=y,t.default=c},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var h=function(){function O(C,L){for(var A=0;A<L.length;A++){var S=L[A];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(C,S.key,S)}}return function(C,L,A){return L&&O(C.prototype,L),A&&O(C,A),C}}(),o=function O(C,L,A){C===null&&(C=Function.prototype);var S=Object.getOwnPropertyDescriptor(C,L);if(S===void 0){var k=Object.getPrototypeOf(C);return k===null?void 0:O(k,L,A)}else{if("value"in S)return S.value;var E=S.get;return E===void 0?void 0:E.call(A)}},l=n(0),s=b(l),p=n(5),f=b(p),v=n(9),u=b(v),d=n(13),_=b(d);function b(O){return O&&O.__esModule?O:{default:O}}function g(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}function y(O,C){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:O}function c(O,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(O,C):O.__proto__=C)}var m=function(O){c(C,O);function C(){return g(this,C),y(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return h(C,[{key:"replaceWith",value:function(A){this.domNode.textContent=this.domNode.textContent,this.attach(),o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"replaceWith",this).call(this,A)}},{key:"highlight",value:function(A){var S=this.domNode.textContent;this.cachedText!==S&&((S.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=A(S),this.domNode.normalize(),this.attach()),this.cachedText=S)}}]),C}(_.default);m.className="ql-syntax";var r=new s.default.Attributor.Class("token","hljs",{scope:s.default.Scope.INLINE}),w=function(O){c(C,O),h(C,null,[{key:"register",value:function(){f.default.register(r,!0),f.default.register(m,!0)}}]);function C(L,A){g(this,C);var S=y(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,L,A));if(typeof S.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var k=null;return S.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(k),k=setTimeout(function(){S.highlight(),k=null},S.options.interval)}),S.highlight(),S}return h(C,[{key:"highlight",value:function(){var A=this;if(!this.quill.selection.composing){this.quill.update(f.default.sources.USER);var S=this.quill.getSelection();this.quill.scroll.descendants(m).forEach(function(k){k.highlight(A.options.highlight)}),this.quill.update(f.default.sources.SILENT),S!=null&&this.quill.setSelection(S,f.default.sources.SILENT)}}}]),C}(u.default);w.DEFAULTS={highlight:function(){return window.hljs==null?null:function(O){var C=window.hljs.highlightAuto(O);return C.value}}(),interval:1e3},t.CodeBlock=m,t.CodeToken=r,t.default=w},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(i,t){i.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(i,t){i.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(i,t){i.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(i,t){i.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var h=function C(L,A,S){L===null&&(L=Function.prototype);var k=Object.getOwnPropertyDescriptor(L,A);if(k===void 0){var E=Object.getPrototypeOf(L);return E===null?void 0:C(E,A,S)}else{if("value"in k)return k.value;var R=k.get;return R===void 0?void 0:R.call(S)}},o=function(){function C(L,A){for(var S=0;S<A.length;S++){var k=A[S];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(L,k.key,k)}}return function(L,A,S){return A&&C(L.prototype,A),S&&C(L,S),L}}(),l=n(3),s=g(l),p=n(8),f=g(p),v=n(43),u=g(v),d=n(15),_=n(41),b=g(_);function g(C){return C&&C.__esModule?C:{default:C}}function y(C,L){if(!(C instanceof L))throw new TypeError("Cannot call a class as a function")}function c(C,L){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:C}function m(C,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);C.prototype=Object.create(L&&L.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(C,L):C.__proto__=L)}var r=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],w=function(C){m(L,C);function L(A,S){y(this,L),S.modules.toolbar!=null&&S.modules.toolbar.container==null&&(S.modules.toolbar.container=r);var k=c(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,A,S));return k.quill.container.classList.add("ql-bubble"),k}return o(L,[{key:"extendToolbar",value:function(S){this.tooltip=new O(this.quill,this.options.bounds),this.tooltip.root.appendChild(S.container),this.buildButtons([].slice.call(S.container.querySelectorAll("button")),b.default),this.buildPickers([].slice.call(S.container.querySelectorAll("select")),b.default)}}]),L}(u.default);w.DEFAULTS=(0,s.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(L){L?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var O=function(C){m(L,C);function L(A,S){y(this,L);var k=c(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,A,S));return k.quill.on(f.default.events.EDITOR_CHANGE,function(E,R,B,q){if(E===f.default.events.SELECTION_CHANGE)if(R!=null&&R.length>0&&q===f.default.sources.USER){k.show(),k.root.style.left="0px",k.root.style.width="",k.root.style.width=k.root.offsetWidth+"px";var K=k.quill.getLines(R.index,R.length);if(K.length===1)k.position(k.quill.getBounds(R));else{var W=K[K.length-1],Q=k.quill.getIndex(W),H=Math.min(W.length()-1,R.index+R.length-Q),z=k.quill.getBounds(new d.Range(Q,H));k.position(z)}}else document.activeElement!==k.textbox&&k.quill.hasFocus()&&k.hide()}),k}return o(L,[{key:"listen",value:function(){var S=this;h(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){S.root.classList.remove("ql-editing")}),this.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!S.root.classList.contains("ql-hidden")){var k=S.quill.getSelection();k!=null&&S.position(S.quill.getBounds(k))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(S){var k=h(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"position",this).call(this,S),E=this.root.querySelector(".ql-tooltip-arrow");if(E.style.marginLeft="",k===0)return k;E.style.marginLeft=-1*k-E.offsetWidth/2+"px"}}]),L}(v.BaseTooltip);O.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=O,t.default=w},function(i,t,n){i.exports=n(63)}]).default})})(Rl);var Xh=Rl.exports;const vt=So(Xh);var Yt=-1,Ft=1,Lt=0;function Ii(e,a,i,t){if(e===a)return e?[[Lt,e]]:[];if(i!=null){var n=nv(e,a,i);if(n)return n}var h=jo(e,a),o=e.substring(0,h);e=e.substring(h),a=a.substring(h),h=Bo(e,a);var l=e.substring(e.length-h);e=e.substring(0,e.length-h),a=a.substring(0,a.length-h);var s=Jh(e,a);return o&&s.unshift([Lt,o]),l&&s.push([Lt,l]),Al(s,t),s}function Jh(e,a){var i;if(!e)return[[Ft,a]];if(!a)return[[Yt,e]];var t=e.length>a.length?e:a,n=e.length>a.length?a:e,h=t.indexOf(n);if(h!==-1)return i=[[Ft,t.substring(0,h)],[Lt,n],[Ft,t.substring(h+n.length)]],e.length>a.length&&(i[0][0]=i[2][0]=Yt),i;if(n.length===1)return[[Yt,e],[Ft,a]];var o=ev(e,a);if(o){var l=o[0],s=o[1],p=o[2],f=o[3],v=o[4],u=Ii(l,p),d=Ii(s,f);return u.concat([[Lt,v]],d)}return Qh(e,a)}function Qh(e,a){for(var i=e.length,t=a.length,n=Math.ceil((i+t)/2),h=n,o=2*n,l=new Array(o),s=new Array(o),p=0;p<o;p++)l[p]=-1,s[p]=-1;l[h+1]=0,s[h+1]=0;for(var f=i-t,v=f%2!==0,u=0,d=0,_=0,b=0,g=0;g<n;g++){for(var y=-g+u;y<=g-d;y+=2){var c=h+y,m;y===-g||y!==g&&l[c-1]<l[c+1]?m=l[c+1]:m=l[c-1]+1;for(var r=m-y;m<i&&r<t&&e.charAt(m)===a.charAt(r);)m++,r++;if(l[c]=m,m>i)d+=2;else if(r>t)u+=2;else if(v){var w=h+f-y;if(w>=0&&w<o&&s[w]!==-1){var O=i-s[w];if(m>=O)return ga(e,a,m,r)}}}for(var C=-g+_;C<=g-b;C+=2){var w=h+C,O;C===-g||C!==g&&s[w-1]<s[w+1]?O=s[w+1]:O=s[w-1]+1;for(var L=O-C;O<i&&L<t&&e.charAt(i-O-1)===a.charAt(t-L-1);)O++,L++;if(s[w]=O,O>i)b+=2;else if(L>t)_+=2;else if(!v){var c=h+f-C;if(c>=0&&c<o&&l[c]!==-1){var m=l[c],r=h+m-c;if(O=i-O,m>=O)return ga(e,a,m,r)}}}}return[[Yt,e],[Ft,a]]}function ga(e,a,i,t){var n=e.substring(0,i),h=a.substring(0,t),o=e.substring(i),l=a.substring(t),s=Ii(n,h),p=Ii(o,l);return s.concat(p)}function jo(e,a){if(!e||!a||e.charAt(0)!==a.charAt(0))return 0;for(var i=0,t=Math.min(e.length,a.length),n=t,h=0;i<n;)e.substring(h,n)==a.substring(h,n)?(i=n,h=i):t=n,n=Math.floor((t-i)/2+i);return Pl(e.charCodeAt(n-1))&&n--,n}function Bo(e,a){if(!e||!a||e.slice(-1)!==a.slice(-1))return 0;for(var i=0,t=Math.min(e.length,a.length),n=t,h=0;i<n;)e.substring(e.length-n,e.length-h)==a.substring(a.length-n,a.length-h)?(i=n,h=i):t=n,n=Math.floor((t-i)/2+i);return Ml(e.charCodeAt(e.length-n))&&n--,n}function ev(e,a){var i=e.length>a.length?e:a,t=e.length>a.length?a:e;if(i.length<4||t.length*2<i.length)return null;function n(d,_,b){for(var g=d.substring(b,b+Math.floor(d.length/4)),y=-1,c="",m,r,w,O;(y=_.indexOf(g,y+1))!==-1;){var C=jo(d.substring(b),_.substring(y)),L=Bo(d.substring(0,b),_.substring(0,y));c.length<L+C&&(c=_.substring(y-L,y)+_.substring(y,y+C),m=d.substring(0,b-L),r=d.substring(b+C),w=_.substring(0,y-L),O=_.substring(y+C))}return c.length*2>=d.length?[m,r,w,O,c]:null}var h=n(i,t,Math.ceil(i.length/4)),o=n(i,t,Math.ceil(i.length/2)),l;if(!h&&!o)return null;o?h?l=h[4].length>o[4].length?h:o:l=o:l=h;var s,p,f,v;e.length>a.length?(s=l[0],p=l[1],f=l[2],v=l[3]):(f=l[0],v=l[1],s=l[2],p=l[3]);var u=l[4];return[s,p,f,v,u]}function Al(e,a){e.push([Lt,""]);for(var i=0,t=0,n=0,h="",o="",l;i<e.length;){if(i<e.length-1&&!e[i][1]){e.splice(i,1);continue}switch(e[i][0]){case Ft:n++,o+=e[i][1],i++;break;case Yt:t++,h+=e[i][1],i++;break;case Lt:var s=i-n-t-1;if(a){if(s>=0&&Nl(e[s][1])){var p=e[s][1].slice(-1);if(e[s][1]=e[s][1].slice(0,-1),h=p+h,o=p+o,!e[s][1]){e.splice(s,1),i--;var f=s-1;e[f]&&e[f][0]===Ft&&(n++,o=e[f][1]+o,f--),e[f]&&e[f][0]===Yt&&(t++,h=e[f][1]+h,f--),s=f}}if(Ll(e[i][1])){var p=e[i][1].charAt(0);e[i][1]=e[i][1].slice(1),h+=p,o+=p}}if(i<e.length-1&&!e[i][1]){e.splice(i,1);break}if(h.length>0||o.length>0){h.length>0&&o.length>0&&(l=jo(o,h),l!==0&&(s>=0?e[s][1]+=o.substring(0,l):(e.splice(0,0,[Lt,o.substring(0,l)]),i++),o=o.substring(l),h=h.substring(l)),l=Bo(o,h),l!==0&&(e[i][1]=o.substring(o.length-l)+e[i][1],o=o.substring(0,o.length-l),h=h.substring(0,h.length-l)));var v=n+t;h.length===0&&o.length===0?(e.splice(i-v,v),i=i-v):h.length===0?(e.splice(i-v,v,[Ft,o]),i=i-v+1):o.length===0?(e.splice(i-v,v,[Yt,h]),i=i-v+1):(e.splice(i-v,v,[Yt,h],[Ft,o]),i=i-v+2)}i!==0&&e[i-1][0]===Lt?(e[i-1][1]+=e[i][1],e.splice(i,1)):i++,n=0,t=0,h="",o="";break}}e[e.length-1][1]===""&&e.pop();var u=!1;for(i=1;i<e.length-1;)e[i-1][0]===Lt&&e[i+1][0]===Lt&&(e[i][1].substring(e[i][1].length-e[i-1][1].length)===e[i-1][1]?(e[i][1]=e[i-1][1]+e[i][1].substring(0,e[i][1].length-e[i-1][1].length),e[i+1][1]=e[i-1][1]+e[i+1][1],e.splice(i-1,1),u=!0):e[i][1].substring(0,e[i+1][1].length)==e[i+1][1]&&(e[i-1][1]+=e[i+1][1],e[i][1]=e[i][1].substring(e[i+1][1].length)+e[i+1][1],e.splice(i+1,1),u=!0)),i++;u&&Al(e,a)}function Pl(e){return e>=55296&&e<=56319}function Ml(e){return e>=56320&&e<=57343}function Ll(e){return Ml(e.charCodeAt(0))}function Nl(e){return Pl(e.charCodeAt(e.length-1))}function tv(e){for(var a=[],i=0;i<e.length;i++)e[i][1].length>0&&a.push(e[i]);return a}function no(e,a,i,t){return Nl(e)||Ll(t)?null:tv([[Lt,e],[Yt,a],[Ft,i],[Lt,t]])}function nv(e,a,i){var t=typeof i=="number"?{index:i,length:0}:i.oldRange,n=typeof i=="number"?null:i.newRange,h=e.length,o=a.length;if(t.length===0&&(n===null||n.length===0)){var l=t.index,s=e.slice(0,l),p=e.slice(l),f=n?n.index:null;e:{var v=l+o-h;if(f!==null&&f!==v||v<0||v>o)break e;var u=a.slice(0,v),d=a.slice(v);if(d!==p)break e;var _=Math.min(l,v),b=s.slice(0,_),g=u.slice(0,_);if(b!==g)break e;var y=s.slice(_),c=u.slice(_);return no(b,y,c,p)}e:{if(f!==null&&f!==l)break e;var m=l,u=a.slice(0,m),d=a.slice(m);if(u!==s)break e;var r=Math.min(h-m,o-m),w=p.slice(p.length-r),O=d.slice(d.length-r);if(w!==O)break e;var y=p.slice(0,p.length-r),c=d.slice(0,d.length-r);return no(s,y,c,w)}}if(t.length>0&&n&&n.length===0)e:{var b=e.slice(0,t.index),w=e.slice(t.index+t.length),_=b.length,r=w.length;if(o<_+r)break e;var g=a.slice(0,_),O=a.slice(o-r);if(b!==g||w!==O)break e;var y=e.slice(_,h-r),c=a.slice(_,o-r);return no(b,y,c,w)}return null}function Sr(e,a,i){return Ii(e,a,i,!0)}Sr.INSERT=Ft;Sr.DELETE=Yt;Sr.EQUAL=Lt;var iv=Sr,mr={exports:{}};mr.exports;(function(e,a){var i=200,t="__lodash_hash_undefined__",n=9007199254740991,h="[object Arguments]",o="[object Array]",l="[object Boolean]",s="[object Date]",p="[object Error]",f="[object Function]",v="[object GeneratorFunction]",u="[object Map]",d="[object Number]",_="[object Object]",b="[object Promise]",g="[object RegExp]",y="[object Set]",c="[object String]",m="[object Symbol]",r="[object WeakMap]",w="[object ArrayBuffer]",O="[object DataView]",C="[object Float32Array]",L="[object Float64Array]",A="[object Int8Array]",S="[object Int16Array]",k="[object Int32Array]",E="[object Uint8Array]",R="[object Uint8ClampedArray]",B="[object Uint16Array]",q="[object Uint32Array]",K=/[\\^$.*+?()[\]{}|]/g,W=/\w*$/,Q=/^\[object .+?Constructor\]$/,H=/^(?:0|[1-9]\d*)$/,z={};z[h]=z[o]=z[w]=z[O]=z[l]=z[s]=z[C]=z[L]=z[A]=z[S]=z[k]=z[u]=z[d]=z[_]=z[g]=z[y]=z[c]=z[m]=z[E]=z[R]=z[B]=z[q]=!0,z[p]=z[f]=z[r]=!1;var M=typeof _t=="object"&&_t&&_t.Object===Object&&_t,I=typeof self=="object"&&self&&self.Object===Object&&self,$=M||I||Function("return this")(),U=a&&!a.nodeType&&a,G=U&&!0&&e&&!e.nodeType&&e,j=G&&G.exports===U;function J(x,D){return x.set(D[0],D[1]),x}function Y(x,D){return x.add(D),x}function ee(x,D){for(var Z=-1,ae=x?x.length:0;++Z<ae&&D(x[Z],Z,x)!==!1;);return x}function se(x,D){for(var Z=-1,ae=D.length,$e=x.length;++Z<ae;)x[$e+Z]=D[Z];return x}function me(x,D,Z,ae){var $e=-1,Oe=x?x.length:0;for(ae&&Oe&&(Z=x[++$e]);++$e<Oe;)Z=D(Z,x[$e],$e,x);return Z}function ke(x,D){for(var Z=-1,ae=Array(x);++Z<x;)ae[Z]=D(Z);return ae}function Ee(x,D){return x==null?void 0:x[D]}function Ae(x){var D=!1;if(x!=null&&typeof x.toString!="function")try{D=!!(x+"")}catch{}return D}function qe(x){var D=-1,Z=Array(x.size);return x.forEach(function(ae,$e){Z[++D]=[$e,ae]}),Z}function tt(x,D){return function(Z){return x(D(Z))}}function Xe(x){var D=-1,Z=Array(x.size);return x.forEach(function(ae){Z[++D]=ae}),Z}var re=Array.prototype,le=Function.prototype,ve=Object.prototype,ge=$["__core-js_shared__"],ce=function(){var x=/[^.]+$/.exec(ge&&ge.keys&&ge.keys.IE_PROTO||"");return x?"Symbol(src)_1."+x:""}(),Se=le.toString,oe=ve.hasOwnProperty,he=ve.toString,He=RegExp("^"+Se.call(oe).replace(K,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ut=j?$.Buffer:void 0,Ze=$.Symbol,It=$.Uint8Array,Ue=tt(Object.getPrototypeOf,Object),pt=Object.create,on=ve.propertyIsEnumerable,bn=re.splice,Ht=Object.getOwnPropertySymbols,Rt=ut?ut.isBuffer:void 0,ne=tt(Object.keys,Object),be=zt($,"DataView"),Pe=zt($,"Map"),Ie=zt($,"Promise"),ze=zt($,"Set"),Fe=zt($,"WeakMap"),Be=zt(Object,"create"),ot=At(be),mt=At(Pe),_n=At(Ie),wn=At(ze),kn=At(Fe),Vt=Ze?Ze.prototype:void 0,Mn=Vt?Vt.valueOf:void 0;function Dt(x){var D=-1,Z=x?x.length:0;for(this.clear();++D<Z;){var ae=x[D];this.set(ae[0],ae[1])}}function ti(){this.__data__=Be?Be(null):{}}function ni(x){return this.has(x)&&delete this.__data__[x]}function ii(x){var D=this.__data__;if(Be){var Z=D[x];return Z===t?void 0:Z}return oe.call(D,x)?D[x]:void 0}function Ln(x){var D=this.__data__;return Be?D[x]!==void 0:oe.call(D,x)}function xn(x,D){var Z=this.__data__;return Z[x]=Be&&D===void 0?t:D,this}Dt.prototype.clear=ti,Dt.prototype.delete=ni,Dt.prototype.get=ii,Dt.prototype.has=Ln,Dt.prototype.set=xn;function ft(x){var D=-1,Z=x?x.length:0;for(this.clear();++D<Z;){var ae=x[D];this.set(ae[0],ae[1])}}function ri(){this.__data__=[]}function oi(x){var D=this.__data__,Z=In(D,x);if(Z<0)return!1;var ae=D.length-1;return Z==ae?D.pop():bn.call(D,Z,1),!0}function ai(x){var D=this.__data__,Z=In(D,x);return Z<0?void 0:D[Z][1]}function li(x){return In(this.__data__,x)>-1}function si(x,D){var Z=this.__data__,ae=In(Z,x);return ae<0?Z.push([x,D]):Z[ae][1]=D,this}ft.prototype.clear=ri,ft.prototype.delete=oi,ft.prototype.get=ai,ft.prototype.has=li,ft.prototype.set=si;function gt(x){var D=-1,Z=x?x.length:0;for(this.clear();++D<Z;){var ae=x[D];this.set(ae[0],ae[1])}}function ui(){this.__data__={hash:new Dt,map:new(Pe||ft),string:new Dt}}function ci(x){return Sn(this,x).delete(x)}function di(x){return Sn(this,x).get(x)}function fi(x){return Sn(this,x).has(x)}function hi(x,D){return Sn(this,x).set(x,D),this}gt.prototype.clear=ui,gt.prototype.delete=ci,gt.prototype.get=di,gt.prototype.has=fi,gt.prototype.set=hi;function St(x){this.__data__=new ft(x)}function vi(){this.__data__=new ft}function pi(x){return this.__data__.delete(x)}function an(x){return this.__data__.get(x)}function ln(x){return this.__data__.has(x)}function Tr(x,D){var Z=this.__data__;if(Z instanceof ft){var ae=Z.__data__;if(!Pe||ae.length<i-1)return ae.push([x,D]),this;Z=this.__data__=new gt(ae)}return Z.set(x,D),this}St.prototype.clear=vi,St.prototype.delete=pi,St.prototype.get=an,St.prototype.has=ln,St.prototype.set=Tr;function Nn(x,D){var Z=bi(x)||jn(x)?ke(x.length,String):[],ae=Z.length,$e=!!ae;for(var Oe in x)(D||oe.call(x,Oe))&&!($e&&(Oe=="length"||qr(Oe,ae)))&&Z.push(Oe);return Z}function zi(x,D,Z){var ae=x[D];(!(oe.call(x,D)&&Vi(ae,Z))||Z===void 0&&!(D in x))&&(x[D]=Z)}function In(x,D){for(var Z=x.length;Z--;)if(Vi(x[Z][0],D))return Z;return-1}function Wt(x,D){return x&&yi(D,wi(D),x)}function mi(x,D,Z,ae,$e,Oe,We){var Ye;if(ae&&(Ye=Oe?ae(x,$e,Oe,We):ae(x)),Ye!==void 0)return Ye;if(!Kt(x))return x;var dt=bi(x);if(dt){if(Ye=zr(x),!D)return jr(x,Ye)}else{var et=Jt(x),Ot=et==f||et==v;if(Wi(x))return $n(x,D);if(et==_||et==h||Ot&&!Oe){if(Ae(x))return Oe?x:{};if(Ye=Gt(Ot?{}:x),!D)return Br(x,Wt(Ye,x))}else{if(!z[et])return Oe?x:{};Ye=Fr(x,et,mi,D)}}We||(We=new St);var Mt=We.get(x);if(Mt)return Mt;if(We.set(x,Ye),!dt)var ht=Z?Dr(x):wi(x);return ee(ht||x,function(Et,xt){ht&&(xt=Et,Et=x[xt]),zi(Ye,xt,mi(Et,D,Z,ae,xt,x,We))}),Ye}function Rr(x){return Kt(x)?pt(x):{}}function Ar(x,D,Z){var ae=D(x);return bi(x)?ae:se(ae,Z(x))}function Pr(x){return he.call(x)}function Mr(x){if(!Kt(x)||Hr(x))return!1;var D=_i(x)||Ae(x)?He:Q;return D.test(At(x))}function Lr(x){if(!Ui(x))return ne(x);var D=[];for(var Z in Object(x))oe.call(x,Z)&&Z!="constructor"&&D.push(Z);return D}function $n(x,D){if(D)return x.slice();var Z=new x.constructor(x.length);return x.copy(Z),Z}function gi(x){var D=new x.constructor(x.byteLength);return new It(D).set(new It(x)),D}function Cn(x,D){var Z=D?gi(x.buffer):x.buffer;return new x.constructor(Z,x.byteOffset,x.byteLength)}function Fi(x,D,Z){var ae=D?Z(qe(x),!0):qe(x);return me(ae,J,new x.constructor)}function qi(x){var D=new x.constructor(x.source,W.exec(x));return D.lastIndex=x.lastIndex,D}function Nr(x,D,Z){var ae=D?Z(Xe(x),!0):Xe(x);return me(ae,Y,new x.constructor)}function Ir(x){return Mn?Object(Mn.call(x)):{}}function $r(x,D){var Z=D?gi(x.buffer):x.buffer;return new x.constructor(Z,x.byteOffset,x.length)}function jr(x,D){var Z=-1,ae=x.length;for(D||(D=Array(ae));++Z<ae;)D[Z]=x[Z];return D}function yi(x,D,Z,ae){Z||(Z={});for(var $e=-1,Oe=D.length;++$e<Oe;){var We=D[$e],Ye=ae?ae(Z[We],x[We],We,Z,x):void 0;zi(Z,We,Ye===void 0?x[We]:Ye)}return Z}function Br(x,D){return yi(x,Xt(x),D)}function Dr(x){return Ar(x,wi,Xt)}function Sn(x,D){var Z=x.__data__;return Ur(D)?Z[typeof D=="string"?"string":"hash"]:Z.map}function zt(x,D){var Z=Ee(x,D);return Mr(Z)?Z:void 0}var Xt=Ht?tt(Ht,Object):Wr,Jt=Pr;(be&&Jt(new be(new ArrayBuffer(1)))!=O||Pe&&Jt(new Pe)!=u||Ie&&Jt(Ie.resolve())!=b||ze&&Jt(new ze)!=y||Fe&&Jt(new Fe)!=r)&&(Jt=function(x){var D=he.call(x),Z=D==_?x.constructor:void 0,ae=Z?At(Z):void 0;if(ae)switch(ae){case ot:return O;case mt:return u;case _n:return b;case wn:return y;case kn:return r}return D});function zr(x){var D=x.length,Z=x.constructor(D);return D&&typeof x[0]=="string"&&oe.call(x,"index")&&(Z.index=x.index,Z.input=x.input),Z}function Gt(x){return typeof x.constructor=="function"&&!Ui(x)?Rr(Ue(x)):{}}function Fr(x,D,Z,ae){var $e=x.constructor;switch(D){case w:return gi(x);case l:case s:return new $e(+x);case O:return Cn(x,ae);case C:case L:case A:case S:case k:case E:case R:case B:case q:return $r(x,ae);case u:return Fi(x,ae,Z);case d:case c:return new $e(x);case g:return qi(x);case y:return Nr(x,ae,Z);case m:return Ir(x)}}function qr(x,D){return D=D??n,!!D&&(typeof x=="number"||H.test(x))&&x>-1&&x%1==0&&x<D}function Ur(x){var D=typeof x;return D=="string"||D=="number"||D=="symbol"||D=="boolean"?x!=="__proto__":x===null}function Hr(x){return!!ce&&ce in x}function Ui(x){var D=x&&x.constructor,Z=typeof D=="function"&&D.prototype||ve;return x===Z}function At(x){if(x!=null){try{return Se.call(x)}catch{}try{return x+""}catch{}}return""}function Hi(x){return mi(x,!0,!0)}function Vi(x,D){return x===D||x!==x&&D!==D}function jn(x){return Vr(x)&&oe.call(x,"callee")&&(!on.call(x,"callee")||he.call(x)==h)}var bi=Array.isArray;function Bn(x){return x!=null&&Gi(x.length)&&!_i(x)}function Vr(x){return Ki(x)&&Bn(x)}var Wi=Rt||Gr;function _i(x){var D=Kt(x)?he.call(x):"";return D==f||D==v}function Gi(x){return typeof x=="number"&&x>-1&&x%1==0&&x<=n}function Kt(x){var D=typeof x;return!!x&&(D=="object"||D=="function")}function Ki(x){return!!x&&typeof x=="object"}function wi(x){return Bn(x)?Nn(x):Lr(x)}function Wr(){return[]}function Gr(){return!1}e.exports=Hi})(mr,mr.exports);var Il=mr.exports,gr={exports:{}};gr.exports;(function(e,a){var i=200,t="__lodash_hash_undefined__",n=1,h=2,o=9007199254740991,l="[object Arguments]",s="[object Array]",p="[object AsyncFunction]",f="[object Boolean]",v="[object Date]",u="[object Error]",d="[object Function]",_="[object GeneratorFunction]",b="[object Map]",g="[object Number]",y="[object Null]",c="[object Object]",m="[object Promise]",r="[object Proxy]",w="[object RegExp]",O="[object Set]",C="[object String]",L="[object Symbol]",A="[object Undefined]",S="[object WeakMap]",k="[object ArrayBuffer]",E="[object DataView]",R="[object Float32Array]",B="[object Float64Array]",q="[object Int8Array]",K="[object Int16Array]",W="[object Int32Array]",Q="[object Uint8Array]",H="[object Uint8ClampedArray]",z="[object Uint16Array]",M="[object Uint32Array]",I=/[\\^$.*+?()[\]{}|]/g,$=/^\[object .+?Constructor\]$/,U=/^(?:0|[1-9]\d*)$/,G={};G[R]=G[B]=G[q]=G[K]=G[W]=G[Q]=G[H]=G[z]=G[M]=!0,G[l]=G[s]=G[k]=G[f]=G[E]=G[v]=G[u]=G[d]=G[b]=G[g]=G[c]=G[w]=G[O]=G[C]=G[S]=!1;var j=typeof _t=="object"&&_t&&_t.Object===Object&&_t,J=typeof self=="object"&&self&&self.Object===Object&&self,Y=j||J||Function("return this")(),ee=a&&!a.nodeType&&a,se=ee&&!0&&e&&!e.nodeType&&e,me=se&&se.exports===ee,ke=me&&j.process,Ee=function(){try{return ke&&ke.binding&&ke.binding("util")}catch{}}(),Ae=Ee&&Ee.isTypedArray;function qe(x,D){for(var Z=-1,ae=x==null?0:x.length,$e=0,Oe=[];++Z<ae;){var We=x[Z];D(We,Z,x)&&(Oe[$e++]=We)}return Oe}function tt(x,D){for(var Z=-1,ae=D.length,$e=x.length;++Z<ae;)x[$e+Z]=D[Z];return x}function Xe(x,D){for(var Z=-1,ae=x==null?0:x.length;++Z<ae;)if(D(x[Z],Z,x))return!0;return!1}function re(x,D){for(var Z=-1,ae=Array(x);++Z<x;)ae[Z]=D(Z);return ae}function le(x){return function(D){return x(D)}}function ve(x,D){return x.has(D)}function ge(x,D){return x==null?void 0:x[D]}function ce(x){var D=-1,Z=Array(x.size);return x.forEach(function(ae,$e){Z[++D]=[$e,ae]}),Z}function Se(x,D){return function(Z){return x(D(Z))}}function oe(x){var D=-1,Z=Array(x.size);return x.forEach(function(ae){Z[++D]=ae}),Z}var he=Array.prototype,He=Function.prototype,ut=Object.prototype,Ze=Y["__core-js_shared__"],It=He.toString,Ue=ut.hasOwnProperty,pt=function(){var x=/[^.]+$/.exec(Ze&&Ze.keys&&Ze.keys.IE_PROTO||"");return x?"Symbol(src)_1."+x:""}(),on=ut.toString,bn=RegExp("^"+It.call(Ue).replace(I,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ht=me?Y.Buffer:void 0,Rt=Y.Symbol,ne=Y.Uint8Array,be=ut.propertyIsEnumerable,Pe=he.splice,Ie=Rt?Rt.toStringTag:void 0,ze=Object.getOwnPropertySymbols,Fe=Ht?Ht.isBuffer:void 0,Be=Se(Object.keys,Object),ot=Xt(Y,"DataView"),mt=Xt(Y,"Map"),_n=Xt(Y,"Promise"),wn=Xt(Y,"Set"),kn=Xt(Y,"WeakMap"),Vt=Xt(Object,"create"),Mn=At(ot),Dt=At(mt),ti=At(_n),ni=At(wn),ii=At(kn),Ln=Rt?Rt.prototype:void 0,xn=Ln?Ln.valueOf:void 0;function ft(x){var D=-1,Z=x==null?0:x.length;for(this.clear();++D<Z;){var ae=x[D];this.set(ae[0],ae[1])}}function ri(){this.__data__=Vt?Vt(null):{},this.size=0}function oi(x){var D=this.has(x)&&delete this.__data__[x];return this.size-=D?1:0,D}function ai(x){var D=this.__data__;if(Vt){var Z=D[x];return Z===t?void 0:Z}return Ue.call(D,x)?D[x]:void 0}function li(x){var D=this.__data__;return Vt?D[x]!==void 0:Ue.call(D,x)}function si(x,D){var Z=this.__data__;return this.size+=this.has(x)?0:1,Z[x]=Vt&&D===void 0?t:D,this}ft.prototype.clear=ri,ft.prototype.delete=oi,ft.prototype.get=ai,ft.prototype.has=li,ft.prototype.set=si;function gt(x){var D=-1,Z=x==null?0:x.length;for(this.clear();++D<Z;){var ae=x[D];this.set(ae[0],ae[1])}}function ui(){this.__data__=[],this.size=0}function ci(x){var D=this.__data__,Z=$n(D,x);if(Z<0)return!1;var ae=D.length-1;return Z==ae?D.pop():Pe.call(D,Z,1),--this.size,!0}function di(x){var D=this.__data__,Z=$n(D,x);return Z<0?void 0:D[Z][1]}function fi(x){return $n(this.__data__,x)>-1}function hi(x,D){var Z=this.__data__,ae=$n(Z,x);return ae<0?(++this.size,Z.push([x,D])):Z[ae][1]=D,this}gt.prototype.clear=ui,gt.prototype.delete=ci,gt.prototype.get=di,gt.prototype.has=fi,gt.prototype.set=hi;function St(x){var D=-1,Z=x==null?0:x.length;for(this.clear();++D<Z;){var ae=x[D];this.set(ae[0],ae[1])}}function vi(){this.size=0,this.__data__={hash:new ft,map:new(mt||gt),string:new ft}}function pi(x){var D=zt(this,x).delete(x);return this.size-=D?1:0,D}function an(x){return zt(this,x).get(x)}function ln(x){return zt(this,x).has(x)}function Tr(x,D){var Z=zt(this,x),ae=Z.size;return Z.set(x,D),this.size+=Z.size==ae?0:1,this}St.prototype.clear=vi,St.prototype.delete=pi,St.prototype.get=an,St.prototype.has=ln,St.prototype.set=Tr;function Nn(x){var D=-1,Z=x==null?0:x.length;for(this.__data__=new St;++D<Z;)this.add(x[D])}function zi(x){return this.__data__.set(x,t),this}function In(x){return this.__data__.has(x)}Nn.prototype.add=Nn.prototype.push=zi,Nn.prototype.has=In;function Wt(x){var D=this.__data__=new gt(x);this.size=D.size}function mi(){this.__data__=new gt,this.size=0}function Rr(x){var D=this.__data__,Z=D.delete(x);return this.size=D.size,Z}function Ar(x){return this.__data__.get(x)}function Pr(x){return this.__data__.has(x)}function Mr(x,D){var Z=this.__data__;if(Z instanceof gt){var ae=Z.__data__;if(!mt||ae.length<i-1)return ae.push([x,D]),this.size=++Z.size,this;Z=this.__data__=new St(ae)}return Z.set(x,D),this.size=Z.size,this}Wt.prototype.clear=mi,Wt.prototype.delete=Rr,Wt.prototype.get=Ar,Wt.prototype.has=Pr,Wt.prototype.set=Mr;function Lr(x,D){var Z=jn(x),ae=!Z&&Vi(x),$e=!Z&&!ae&&Bn(x),Oe=!Z&&!ae&&!$e&&Ki(x),We=Z||ae||$e||Oe,Ye=We?re(x.length,String):[],dt=Ye.length;for(var et in x)(D||Ue.call(x,et))&&!(We&&(et=="length"||$e&&(et=="offset"||et=="parent")||Oe&&(et=="buffer"||et=="byteLength"||et=="byteOffset")||Fr(et,dt)))&&Ye.push(et);return Ye}function $n(x,D){for(var Z=x.length;Z--;)if(Hi(x[Z][0],D))return Z;return-1}function gi(x,D,Z){var ae=D(x);return jn(x)?ae:tt(ae,Z(x))}function Cn(x){return x==null?x===void 0?A:y:Ie&&Ie in Object(x)?Jt(x):Ui(x)}function Fi(x){return Kt(x)&&Cn(x)==l}function qi(x,D,Z,ae,$e){return x===D?!0:x==null||D==null||!Kt(x)&&!Kt(D)?x!==x&&D!==D:Nr(x,D,Z,ae,qi,$e)}function Nr(x,D,Z,ae,$e,Oe){var We=jn(x),Ye=jn(D),dt=We?s:Gt(x),et=Ye?s:Gt(D);dt=dt==l?c:dt,et=et==l?c:et;var Ot=dt==c,Mt=et==c,ht=dt==et;if(ht&&Bn(x)){if(!Bn(D))return!1;We=!0,Ot=!1}if(ht&&!Ot)return Oe||(Oe=new Wt),We||Ki(x)?yi(x,D,Z,ae,$e,Oe):Br(x,D,dt,Z,ae,$e,Oe);if(!(Z&n)){var Et=Ot&&Ue.call(x,"__wrapped__"),xt=Mt&&Ue.call(D,"__wrapped__");if(Et||xt){var sn=Et?x.value():x,Qt=xt?D.value():D;return Oe||(Oe=new Wt),$e(sn,Qt,Z,ae,Oe)}}return ht?(Oe||(Oe=new Wt),Dr(x,D,Z,ae,$e,Oe)):!1}function Ir(x){if(!Gi(x)||Ur(x))return!1;var D=Wi(x)?bn:$;return D.test(At(x))}function $r(x){return Kt(x)&&_i(x.length)&&!!G[Cn(x)]}function jr(x){if(!Hr(x))return Be(x);var D=[];for(var Z in Object(x))Ue.call(x,Z)&&Z!="constructor"&&D.push(Z);return D}function yi(x,D,Z,ae,$e,Oe){var We=Z&n,Ye=x.length,dt=D.length;if(Ye!=dt&&!(We&&dt>Ye))return!1;var et=Oe.get(x);if(et&&Oe.get(D))return et==D;var Ot=-1,Mt=!0,ht=Z&h?new Nn:void 0;for(Oe.set(x,D),Oe.set(D,x);++Ot<Ye;){var Et=x[Ot],xt=D[Ot];if(ae)var sn=We?ae(xt,Et,Ot,D,x,Oe):ae(Et,xt,Ot,x,D,Oe);if(sn!==void 0){if(sn)continue;Mt=!1;break}if(ht){if(!Xe(D,function(Qt,On){if(!ve(ht,On)&&(Et===Qt||$e(Et,Qt,Z,ae,Oe)))return ht.push(On)})){Mt=!1;break}}else if(!(Et===xt||$e(Et,xt,Z,ae,Oe))){Mt=!1;break}}return Oe.delete(x),Oe.delete(D),Mt}function Br(x,D,Z,ae,$e,Oe,We){switch(Z){case E:if(x.byteLength!=D.byteLength||x.byteOffset!=D.byteOffset)return!1;x=x.buffer,D=D.buffer;case k:return!(x.byteLength!=D.byteLength||!Oe(new ne(x),new ne(D)));case f:case v:case g:return Hi(+x,+D);case u:return x.name==D.name&&x.message==D.message;case w:case C:return x==D+"";case b:var Ye=ce;case O:var dt=ae&n;if(Ye||(Ye=oe),x.size!=D.size&&!dt)return!1;var et=We.get(x);if(et)return et==D;ae|=h,We.set(x,D);var Ot=yi(Ye(x),Ye(D),ae,$e,Oe,We);return We.delete(x),Ot;case L:if(xn)return xn.call(x)==xn.call(D)}return!1}function Dr(x,D,Z,ae,$e,Oe){var We=Z&n,Ye=Sn(x),dt=Ye.length,et=Sn(D),Ot=et.length;if(dt!=Ot&&!We)return!1;for(var Mt=dt;Mt--;){var ht=Ye[Mt];if(!(We?ht in D:Ue.call(D,ht)))return!1}var Et=Oe.get(x);if(Et&&Oe.get(D))return Et==D;var xt=!0;Oe.set(x,D),Oe.set(D,x);for(var sn=We;++Mt<dt;){ht=Ye[Mt];var Qt=x[ht],On=D[ht];if(ae)var qo=We?ae(On,Qt,ht,D,x,Oe):ae(Qt,On,ht,x,D,Oe);if(!(qo===void 0?Qt===On||$e(Qt,On,Z,ae,Oe):qo)){xt=!1;break}sn||(sn=ht=="constructor")}if(xt&&!sn){var Zi=x.constructor,Yi=D.constructor;Zi!=Yi&&"constructor"in x&&"constructor"in D&&!(typeof Zi=="function"&&Zi instanceof Zi&&typeof Yi=="function"&&Yi instanceof Yi)&&(xt=!1)}return Oe.delete(x),Oe.delete(D),xt}function Sn(x){return gi(x,wi,zr)}function zt(x,D){var Z=x.__data__;return qr(D)?Z[typeof D=="string"?"string":"hash"]:Z.map}function Xt(x,D){var Z=ge(x,D);return Ir(Z)?Z:void 0}function Jt(x){var D=Ue.call(x,Ie),Z=x[Ie];try{x[Ie]=void 0;var ae=!0}catch{}var $e=on.call(x);return ae&&(D?x[Ie]=Z:delete x[Ie]),$e}var zr=ze?function(x){return x==null?[]:(x=Object(x),qe(ze(x),function(D){return be.call(x,D)}))}:Wr,Gt=Cn;(ot&&Gt(new ot(new ArrayBuffer(1)))!=E||mt&&Gt(new mt)!=b||_n&&Gt(_n.resolve())!=m||wn&&Gt(new wn)!=O||kn&&Gt(new kn)!=S)&&(Gt=function(x){var D=Cn(x),Z=D==c?x.constructor:void 0,ae=Z?At(Z):"";if(ae)switch(ae){case Mn:return E;case Dt:return b;case ti:return m;case ni:return O;case ii:return S}return D});function Fr(x,D){return D=D??o,!!D&&(typeof x=="number"||U.test(x))&&x>-1&&x%1==0&&x<D}function qr(x){var D=typeof x;return D=="string"||D=="number"||D=="symbol"||D=="boolean"?x!=="__proto__":x===null}function Ur(x){return!!pt&&pt in x}function Hr(x){var D=x&&x.constructor,Z=typeof D=="function"&&D.prototype||ut;return x===Z}function Ui(x){return on.call(x)}function At(x){if(x!=null){try{return It.call(x)}catch{}try{return x+""}catch{}}return""}function Hi(x,D){return x===D||x!==x&&D!==D}var Vi=Fi(function(){return arguments}())?Fi:function(x){return Kt(x)&&Ue.call(x,"callee")&&!be.call(x,"callee")},jn=Array.isArray;function bi(x){return x!=null&&_i(x.length)&&!Wi(x)}var Bn=Fe||Gr;function Vr(x,D){return qi(x,D)}function Wi(x){if(!Gi(x))return!1;var D=Cn(x);return D==d||D==_||D==p||D==r}function _i(x){return typeof x=="number"&&x>-1&&x%1==0&&x<=o}function Gi(x){var D=typeof x;return x!=null&&(D=="object"||D=="function")}function Kt(x){return x!=null&&typeof x=="object"}var Ki=Ae?le(Ae):$r;function wi(x){return bi(x)?Lr(x):jr(x)}function Wr(){return[]}function Gr(){return!1}e.exports=Vr})(gr,gr.exports);var $l=gr.exports,Do={},jl=_t&&_t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Do,"__esModule",{value:!0});var rv=jl(Il),ov=jl($l),vo;(function(e){function a(h,o,l){h===void 0&&(h={}),o===void 0&&(o={}),typeof h!="object"&&(h={}),typeof o!="object"&&(o={});var s=rv.default(o);l||(s=Object.keys(s).reduce(function(f,v){return s[v]!=null&&(f[v]=s[v]),f},{}));for(var p in h)h[p]!==void 0&&o[p]===void 0&&(s[p]=h[p]);return Object.keys(s).length>0?s:void 0}e.compose=a;function i(h,o){h===void 0&&(h={}),o===void 0&&(o={}),typeof h!="object"&&(h={}),typeof o!="object"&&(o={});var l=Object.keys(h).concat(Object.keys(o)).reduce(function(s,p){return ov.default(h[p],o[p])||(s[p]=o[p]===void 0?null:o[p]),s},{});return Object.keys(l).length>0?l:void 0}e.diff=i;function t(h,o){h===void 0&&(h={}),o===void 0&&(o={}),h=h||{};var l=Object.keys(o).reduce(function(s,p){return o[p]!==h[p]&&h[p]!==void 0&&(s[p]=o[p]),s},{});return Object.keys(h).reduce(function(s,p){return h[p]!==o[p]&&o[p]===void 0&&(s[p]=null),s},l)}e.invert=t;function n(h,o,l){if(l===void 0&&(l=!1),typeof h!="object")return o;if(typeof o=="object"){if(!l)return o;var s=Object.keys(o).reduce(function(p,f){return h[f]===void 0&&(p[f]=o[f]),p},{});return Object.keys(s).length>0?s:void 0}}e.transform=n})(vo||(vo={}));Do.default=vo;var Qi={},er={},ya;function av(){if(ya)return er;ya=1;var e=_t&&_t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(er,"__esModule",{value:!0});var a=e(Bl()),i=function(){function t(n){this.ops=n,this.index=0,this.offset=0}return t.prototype.hasNext=function(){return this.peekLength()<1/0},t.prototype.next=function(n){n||(n=1/0);var h=this.ops[this.index];if(h){var o=this.offset,l=a.default.length(h);if(n>=l-o?(n=l-o,this.index+=1,this.offset=0):this.offset+=n,typeof h.delete=="number")return{delete:n};var s={};return h.attributes&&(s.attributes=h.attributes),typeof h.retain=="number"?s.retain=n:typeof h.insert=="string"?s.insert=h.insert.substr(o,n):s.insert=h.insert,s}else return{retain:1/0}},t.prototype.peek=function(){return this.ops[this.index]},t.prototype.peekLength=function(){return this.ops[this.index]?a.default.length(this.ops[this.index])-this.offset:1/0},t.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},t.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var n=this.offset,h=this.index,o=this.next(),l=this.ops.slice(this.index);return this.offset=n,this.index=h,[o].concat(l)}else return[]},t}();return er.default=i,er}var ba;function Bl(){if(ba)return Qi;ba=1;var e=_t&&_t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qi,"__esModule",{value:!0});var a=e(av()),i;return function(t){function n(o){return new a.default(o)}t.iterator=n;function h(o){return typeof o.delete=="number"?o.delete:typeof o.retain=="number"?o.retain:typeof o.insert=="string"?o.insert.length:1}t.length=h}(i||(i={})),Qi.default=i,Qi}var Bi=_t&&_t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},tr=Bi(iv),lv=Bi(Il),io=Bi($l),Ci=Bi(Do),Ct=Bi(Bl()),sv=String.fromCharCode(0),uv=function(){function e(a){Array.isArray(a)?this.ops=a:a!=null&&Array.isArray(a.ops)?this.ops=a.ops:this.ops=[]}return e.prototype.insert=function(a,i){var t={};return typeof a=="string"&&a.length===0?this:(t.insert=a,i!=null&&typeof i=="object"&&Object.keys(i).length>0&&(t.attributes=i),this.push(t))},e.prototype.delete=function(a){return a<=0?this:this.push({delete:a})},e.prototype.retain=function(a,i){if(a<=0)return this;var t={retain:a};return i!=null&&typeof i=="object"&&Object.keys(i).length>0&&(t.attributes=i),this.push(t)},e.prototype.push=function(a){var i=this.ops.length,t=this.ops[i-1];if(a=lv.default(a),typeof t=="object"){if(typeof a.delete=="number"&&typeof t.delete=="number")return this.ops[i-1]={delete:t.delete+a.delete},this;if(typeof t.delete=="number"&&a.insert!=null&&(i-=1,t=this.ops[i-1],typeof t!="object"))return this.ops.unshift(a),this;if(io.default(a.attributes,t.attributes)){if(typeof a.insert=="string"&&typeof t.insert=="string")return this.ops[i-1]={insert:t.insert+a.insert},typeof a.attributes=="object"&&(this.ops[i-1].attributes=a.attributes),this;if(typeof a.retain=="number"&&typeof t.retain=="number")return this.ops[i-1]={retain:t.retain+a.retain},typeof a.attributes=="object"&&(this.ops[i-1].attributes=a.attributes),this}}return i===this.ops.length?this.ops.push(a):this.ops.splice(i,0,a),this},e.prototype.chop=function(){var a=this.ops[this.ops.length-1];return a&&a.retain&&!a.attributes&&this.ops.pop(),this},e.prototype.filter=function(a){return this.ops.filter(a)},e.prototype.forEach=function(a){this.ops.forEach(a)},e.prototype.map=function(a){return this.ops.map(a)},e.prototype.partition=function(a){var i=[],t=[];return this.forEach(function(n){var h=a(n)?i:t;h.push(n)}),[i,t]},e.prototype.reduce=function(a,i){return this.ops.reduce(a,i)},e.prototype.changeLength=function(){return this.reduce(function(a,i){return i.insert?a+Ct.default.length(i):i.delete?a-i.delete:a},0)},e.prototype.length=function(){return this.reduce(function(a,i){return a+Ct.default.length(i)},0)},e.prototype.slice=function(a,i){a===void 0&&(a=0),i===void 0&&(i=1/0);for(var t=[],n=Ct.default.iterator(this.ops),h=0;h<i&&n.hasNext();){var o=void 0;h<a?o=n.next(a-h):(o=n.next(i-h),t.push(o)),h+=Ct.default.length(o)}return new e(t)},e.prototype.compose=function(a){var i=Ct.default.iterator(this.ops),t=Ct.default.iterator(a.ops),n=[],h=t.peek();if(h!=null&&typeof h.retain=="number"&&h.attributes==null){for(var o=h.retain;i.peekType()==="insert"&&i.peekLength()<=o;)o-=i.peekLength(),n.push(i.next());h.retain-o>0&&t.next(h.retain-o)}for(var l=new e(n);i.hasNext()||t.hasNext();)if(t.peekType()==="insert")l.push(t.next());else if(i.peekType()==="delete")l.push(i.next());else{var s=Math.min(i.peekLength(),t.peekLength()),p=i.next(s),f=t.next(s);if(typeof f.retain=="number"){var v={};typeof p.retain=="number"?v.retain=s:v.insert=p.insert;var u=Ci.default.compose(p.attributes,f.attributes,typeof p.retain=="number");if(u&&(v.attributes=u),l.push(v),!t.hasNext()&&io.default(l.ops[l.ops.length-1],v)){var d=new e(i.rest());return l.concat(d).chop()}}else typeof f.delete=="number"&&typeof p.retain=="number"&&l.push(f)}return l.chop()},e.prototype.concat=function(a){var i=new e(this.ops.slice());return a.ops.length>0&&(i.push(a.ops[0]),i.ops=i.ops.concat(a.ops.slice(1))),i},e.prototype.diff=function(a,i){if(this.ops===a.ops)return new e;var t=[this,a].map(function(s){return s.map(function(p){if(p.insert!=null)return typeof p.insert=="string"?p.insert:sv;var f=s===a?"on":"with";throw new Error("diff() called "+f+" non-document")}).join("")}),n=new e,h=tr.default(t[0],t[1],i),o=Ct.default.iterator(this.ops),l=Ct.default.iterator(a.ops);return h.forEach(function(s){for(var p=s[1].length;p>0;){var f=0;switch(s[0]){case tr.default.INSERT:f=Math.min(l.peekLength(),p),n.push(l.next(f));break;case tr.default.DELETE:f=Math.min(p,o.peekLength()),o.next(f),n.delete(f);break;case tr.default.EQUAL:f=Math.min(o.peekLength(),l.peekLength(),p);var v=o.next(f),u=l.next(f);io.default(v.insert,u.insert)?n.retain(f,Ci.default.diff(v.attributes,u.attributes)):n.push(u).delete(f);break}p-=f}}),n.chop()},e.prototype.eachLine=function(a,i){i===void 0&&(i=`
`);for(var t=Ct.default.iterator(this.ops),n=new e,h=0;t.hasNext();){if(t.peekType()!=="insert")return;var o=t.peek(),l=Ct.default.length(o)-t.peekLength(),s=typeof o.insert=="string"?o.insert.indexOf(i,l)-l:-1;if(s<0)n.push(t.next());else if(s>0)n.push(t.next(s));else{if(a(n,t.next(1).attributes||{},h)===!1)return;h+=1,n=new e}}n.length()>0&&a(n,{},h)},e.prototype.invert=function(a){var i=new e;return this.reduce(function(t,n){if(n.insert)i.delete(Ct.default.length(n));else{if(n.retain&&n.attributes==null)return i.retain(n.retain),t+n.retain;if(n.delete||n.retain&&n.attributes){var h=n.delete||n.retain,o=a.slice(t,t+h);return o.forEach(function(l){n.delete?i.push(l):n.retain&&n.attributes&&i.retain(Ct.default.length(l),Ci.default.invert(n.attributes,l.attributes))}),t+h}}return t},0),i.chop()},e.prototype.transform=function(a,i){if(i===void 0&&(i=!1),i=!!i,typeof a=="number")return this.transformPosition(a,i);for(var t=a,n=Ct.default.iterator(this.ops),h=Ct.default.iterator(t.ops),o=new e;n.hasNext()||h.hasNext();)if(n.peekType()==="insert"&&(i||h.peekType()!=="insert"))o.retain(Ct.default.length(n.next()));else if(h.peekType()==="insert")o.push(h.next());else{var l=Math.min(n.peekLength(),h.peekLength()),s=n.next(l),p=h.next(l);if(s.delete)continue;p.delete?o.push(p):o.retain(l,Ci.default.transform(s.attributes,p.attributes,i))}return o.chop()},e.prototype.transformPosition=function(a,i){i===void 0&&(i=!1),i=!!i;for(var t=Ct.default.iterator(this.ops),n=0;t.hasNext()&&n<=a;){var h=t.peekLength(),o=t.peekType();if(t.next(),o==="delete"){a-=Math.min(h,a-n);continue}else o==="insert"&&(n<a||!i)&&(a+=h);n+=h}return a},e.Op=Ct.default,e.AttributeMap=Ci.default,e}(),cv=uv;const dv=So(cv);/*!
 * VueQuill @vueup/vue-quill v1.2.0
 * https://vueup.github.io/vue-quill/
 * 
 * Includes quill v1.3.7
 * https://quilljs.com/
 * 
 * Copyright (c) 2023 Ahmad Luthfi Masruri
 * Released under the MIT license
 * Date: 2023-05-12T08:44:03.742Z
 */const _a={essential:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}],["blockquote","code-block","link"],[{color:[]},"clean"]],minimal:[[{header:1},{header:2}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}]],full:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","video","image"],["clean"]]},fv=we({name:"QuillEditor",inheritAttrs:!1,props:{content:{type:[String,Object]},contentType:{type:String,default:"delta",validator:e=>["delta","html","text"].includes(e)},enable:{type:Boolean,default:!0},readOnly:{type:Boolean,default:!1},placeholder:{type:String,required:!1},theme:{type:String,default:"snow",validator:e=>["snow","bubble",""].includes(e)},toolbar:{type:[String,Array,Object],required:!1,validator:e=>typeof e=="string"&&e!==""?e.charAt(0)==="#"?!0:Object.keys(_a).indexOf(e)!==-1:!0},modules:{type:Object,required:!1},options:{type:Object,required:!1},globalOptions:{type:Object,required:!1}},emits:["textChange","selectionChange","editorChange","update:content","focus","blur","ready"],setup:(e,a)=>{wt(()=>{h()}),br(()=>{i=null});let i,t;const n=te(),h=()=>{var k;if(n.value){if(t=o(),e.modules)if(Array.isArray(e.modules))for(const E of e.modules)vt.register(`modules/${E.name}`,E.module);else vt.register(`modules/${e.modules.name}`,e.modules.module);i=new vt(n.value,t),m(e.content),i.on("text-change",v),i.on("selection-change",d),i.on("editor-change",_),e.theme!=="bubble"&&n.value.classList.remove("ql-bubble"),e.theme!=="snow"&&n.value.classList.remove("ql-snow"),(k=i.getModule("toolbar"))===null||k===void 0||k.container.addEventListener("mousedown",E=>{E.preventDefault()}),a.emit("ready",i)}},o=()=>{const k={};if(e.theme!==""&&(k.theme=e.theme),e.readOnly&&(k.readOnly=e.readOnly),e.placeholder&&(k.placeholder=e.placeholder),e.toolbar&&e.toolbar!==""&&(k.modules={toolbar:(()=>{if(typeof e.toolbar=="object")return e.toolbar;if(typeof e.toolbar=="string")return e.toolbar.charAt(0)==="#"?e.toolbar:_a[e.toolbar]})()}),e.modules){const E=(()=>{var R,B;const q={};if(Array.isArray(e.modules))for(const K of e.modules)q[K.name]=(R=K.options)!==null&&R!==void 0?R:{};else q[e.modules.name]=(B=e.modules.options)!==null&&B!==void 0?B:{};return q})();k.modules=Object.assign({},k.modules,E)}return Object.assign({},e.globalOptions,e.options,k)},l=k=>typeof k=="object"&&k?k.slice():k,s=k=>Object.values(k.ops).some(E=>!E.retain||Object.keys(E).length!==1);let p;const f=k=>{if(typeof p==typeof k){if(k===p)return!0;if(typeof k=="object"&&k&&typeof p=="object"&&p)return!s(p.diff(k))}return!1},v=(k,E,R)=>{p=l(c()),f(e.content)||a.emit("update:content",p),a.emit("textChange",{delta:k,oldContents:E,source:R})},u=te(),d=(k,E,R)=>{u.value=!!(i!=null&&i.hasFocus()),a.emit("selectionChange",{range:k,oldRange:E,source:R})};Ke(u,k=>{k?a.emit("focus",n):a.emit("blur",n)});const _=(...k)=>{k[0]==="text-change"&&a.emit("editorChange",{name:k[0],delta:k[1],oldContents:k[2],source:k[3]}),k[0]==="selection-change"&&a.emit("editorChange",{name:k[0],range:k[1],oldRange:k[2],source:k[3]})},b=()=>n.value,g=()=>{var k;return(k=i==null?void 0:i.getModule("toolbar"))===null||k===void 0?void 0:k.container},y=()=>{if(i)return i;throw`The quill editor hasn't been instantiated yet,
                  make sure to call this method when the editor ready
                  or use v-on:ready="onReady(quill)" event instead.`},c=(k,E)=>e.contentType==="html"?O():e.contentType==="text"?r(k,E):i==null?void 0:i.getContents(k,E),m=(k,E="api")=>{const R=k||(e.contentType==="delta"?new dv:"");e.contentType==="html"?C(R):e.contentType==="text"?w(R,E):i==null||i.setContents(R,E),p=l(R)},r=(k,E)=>{var R;return(R=i==null?void 0:i.getText(k,E))!==null&&R!==void 0?R:""},w=(k,E="api")=>{i==null||i.setText(k,E)},O=()=>{var k;return(k=i==null?void 0:i.root.innerHTML)!==null&&k!==void 0?k:""},C=k=>{i&&(i.root.innerHTML=k)},L=(k,E="api")=>{const R=i==null?void 0:i.clipboard.convert(k);R&&(i==null||i.setContents(R,E))},A=()=>{i==null||i.focus()},S=()=>{jt(()=>{var k;!a.slots.toolbar&&i&&((k=i.getModule("toolbar"))===null||k===void 0||k.container.remove()),h()})};return Ke(()=>e.content,k=>{if(!i||!k||f(k))return;const E=i.getSelection();E&&jt(()=>i==null?void 0:i.setSelection(E)),m(k)},{deep:!0}),Ke(()=>e.enable,k=>{i&&i.enable(k)}),{editor:n,getEditor:b,getToolbar:g,getQuill:y,getContents:c,setContents:m,getHTML:O,setHTML:C,pasteHTML:L,focus:A,getText:r,setText:w,reinit:S}},render(){var e,a;return[(a=(e=this.$slots).toolbar)===null||a===void 0?void 0:a.call(e),V("div",{ref:"editor",...this.$attrs})]}}),hv=vt.import("blots/block");class Di extends hv{static create(a){const i=super.create(a);if(a===!0)return i;const t=document.createElement("img");return t.setAttribute("src",a),i.appendChild(t),i}deleteAt(a,i){super.deleteAt(a,i),this.cache={}}static value(a){const{src:i,custom:t}=a.dataset;return{src:i,custom:t}}}Di.blotName="imageBlot";Di.className="image-uploading";Di.tagName="span";vt.register({"formats/imageBlot":Di});class Dl{constructor(a,i){this.quill=a,this.options=i,this.range=null,this.placeholderDelta=null,typeof this.options.upload!="function"&&console.warn("[Missing config] upload function that returns a promise is required");var t=this.quill.getModule("toolbar");t&&t.addHandler("image",this.selectLocalImage.bind(this)),this.handleDrop=this.handleDrop.bind(this),this.handlePaste=this.handlePaste.bind(this),this.quill.root.addEventListener("drop",this.handleDrop,!1),this.quill.root.addEventListener("paste",this.handlePaste,!1)}selectLocalImage(){this.quill.focus(),this.range=this.quill.getSelection(),this.fileHolder=document.createElement("input"),this.fileHolder.setAttribute("type","file"),this.fileHolder.setAttribute("accept","image/*"),this.fileHolder.setAttribute("style","visibility:hidden"),this.fileHolder.onchange=this.fileChanged.bind(this),document.body.appendChild(this.fileHolder),this.fileHolder.click(),window.requestAnimationFrame(()=>{document.body.removeChild(this.fileHolder)})}handleDrop(a){if(a.dataTransfer&&a.dataTransfer.files&&a.dataTransfer.files.length){if(a.stopPropagation(),a.preventDefault(),document.caretRangeFromPoint){const t=document.getSelection(),n=document.caretRangeFromPoint(a.clientX,a.clientY);t&&n&&t.setBaseAndExtent(n.startContainer,n.startOffset,n.startContainer,n.startOffset)}else{const t=document.getSelection(),n=document.caretPositionFromPoint(a.clientX,a.clientY);t&&n&&t.setBaseAndExtent(n.offsetNode,n.offset,n.offsetNode,n.offset)}this.quill.focus(),this.range=this.quill.getSelection();let i=a.dataTransfer.files[0];setTimeout(()=>{this.quill.focus(),this.range=this.quill.getSelection(),this.readAndUploadFile(i)},0)}}handlePaste(a){let i=a.clipboardData||window.clipboardData;if(i&&(i.items||i.files)){let t=i.items||i.files;const n=/^image\/(jpe?g|gif|png|svg|webp)$/i;for(let h=0;h<t.length;h++)if(n.test(t[h].type)){let o=t[h].getAsFile?t[h].getAsFile():t[h];o&&(this.quill.focus(),this.range=this.quill.getSelection(),a.preventDefault(),setTimeout(()=>{this.quill.focus(),this.range=this.quill.getSelection(),this.readAndUploadFile(o)},0))}}}readAndUploadFile(a){let i=!1;const t=new FileReader;t.addEventListener("load",()=>{if(!i){let n=t.result;this.insertBase64Image(n)}},!1),a&&t.readAsDataURL(a),this.options.upload(a).then(n=>{this.insertToEditor(n)},n=>{i=!0,this.removeBase64Image(),console.warn(n)})}fileChanged(){const a=this.fileHolder.files[0];this.readAndUploadFile(a)}insertBase64Image(a){const i=this.range;this.placeholderDelta=this.quill.insertEmbed(i.index,Di.blotName,`${a}`,"user")}insertToEditor(a){const i=this.range,t=this.calculatePlaceholderInsertLength();this.quill.deleteText(i.index,t,"user"),this.quill.insertEmbed(i.index,"image",`${a}`,"user"),i.index++,this.quill.setSelection(i,"user")}calculatePlaceholderInsertLength(){return this.placeholderDelta.ops.reduce((a,i)=>(i.hasOwnProperty("insert")&&a++,a),0)}removeBase64Image(){const a=this.range,i=this.calculatePlaceholderInsertLength();this.quill.deleteText(a.index,i,"user")}}window.ImageUploader=Dl;const vv=vt.import("formats/image");class or extends vv{static create(a){const i=super.create();return i.setAttribute("alt",a.alt),i.setAttribute("src",a.src),i.setAttribute("width",a.width),i.setAttribute("height",a.height),i}static formats(a){return{alt:a.getAttribute("alt"),src:a.getAttribute("src"),width:a.getAttribute("width"),height:a.getAttribute("height")}}static value(a){return{alt:a.getAttribute("alt"),src:a.getAttribute("src"),width:a.getAttribute("width"),height:a.getAttribute("height")}}}En(or,"blotName","emoji"),En(or,"tagName","img"),En(or,"className","ed-emoji");const pv=vt.import("blots/block/embed");class ar extends pv{static create(a){const i=super.create(a),{id:t,title:n,describe:h,image:o}=a;i.dataset.id=t,i.dataset.title=n,i.dataset.describe=h,i.dataset.image=o,i.setAttribute("contenteditable","false");const l=document.createElement("span");l.classList.add("quote-card-content");const s=document.createElement("span");s.classList.add("quote-card-remove"),s.textContent="×",s.addEventListener("click",()=>{i.remove()});const p=document.createElement("span");if(p.classList.add("quote-card-title"),p.textContent=n,p.appendChild(s),l.appendChild(p),o.length==0){const f=document.createElement("span");f.classList.add("quote-card-meta"),f.textContent=h,l.appendChild(f)}else{const f=document.createElement("img");f.setAttribute("src",o),f.setAttribute("style","width:30px;height:30px;margin-right:10px;"),l.appendChild(f)}return i.ondblclick=()=>{console.log("quote card ondblclick")},i.appendChild(l),i}static value(a){return{id:a.dataset.id,title:a.dataset.title,describe:a.dataset.describe,image:a.dataset.image}}}En(ar,"blotName","quote"),En(ar,"tagName","div"),En(ar,"className","quote-card");function wa(e,a){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,t)}return i}function ka(e){for(var a=1;a<arguments.length;a++){var i=arguments[a]!=null?arguments[a]:{};a%2?wa(Object(i),!0).forEach(function(t){mo(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):wa(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function po(e){"@babel/helpers - typeof";return po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},po(e)}function zl(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function xa(e,a){for(var i=0;i<a.length;i++){var t=a[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,ql(t.key),t)}}function Fl(e,a,i){return a&&xa(e.prototype,a),i&&xa(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function mo(e,a,i){return a=ql(a),a in e?Object.defineProperty(e,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[a]=i,e}function yr(){return yr=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var i=arguments[a];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e},yr.apply(this,arguments)}function mv(e,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),a&&go(e,a)}function fn(e){return fn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},fn(e)}function go(e,a){return go=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},go(e,a)}function gv(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yv(e,a){if(a&&(typeof a=="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yo(e)}function bv(e){var a=gv();return function(){var t=fn(e),n;if(a){var h=fn(this).constructor;n=Reflect.construct(t,arguments,h)}else n=t.apply(this,arguments);return yv(this,n)}}function _v(e,a){for(;!Object.prototype.hasOwnProperty.call(e,a)&&(e=fn(e),e!==null););return e}function Gn(){return typeof Reflect<"u"&&Reflect.get?Gn=Reflect.get.bind():Gn=function(a,i,t){var n=_v(a,i);if(n){var h=Object.getOwnPropertyDescriptor(n,i);return h.get?h.get.call(arguments.length<3?a:t):h.value}},Gn.apply(this,arguments)}function wv(e,a){if(e){if(typeof e=="string")return Ca(e,a);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ca(e,a)}}function Ca(e,a){(a==null||a>e.length)&&(a=e.length);for(var i=0,t=new Array(a);i<a;i++)t[i]=e[i];return t}function kv(e,a){var i=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=wv(e))||a&&e&&typeof e.length=="number"){i&&(e=i);var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(s){throw s},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,o=!1,l;return{s:function(){i=i.call(e)},n:function(){var s=i.next();return h=s.done,s},e:function(s){o=!0,l=s},f:function(){try{!h&&i.return!=null&&i.return()}finally{if(o)throw l}}}}function xv(e,a){if(typeof e!="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var t=i.call(e,a||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function ql(e){var a=xv(e,"string");return typeof a=="symbol"?a:String(a)}var nn={TAB:9,ENTER:13,ESCAPE:27,UP:38,DOWN:40};function Cv(e,a,i){var t=e;return Object.keys(a).forEach(function(n){i.indexOf(n)>-1?t.dataset[n]=a[n]:delete t.dataset[n]}),t}function Sa(e,a){a!==null&&(po(a)==="object"?e.appendChild(a):e.innerText=a)}function Sv(e,a,i,t){return a.reduce(function(n,h){var o;if(i&&t){var l=new RegExp("^".concat(h,"|\\s").concat(h),"g"),s=(e.match(l)||[]).pop();if(!s)return{mentionChar:n.mentionChar,mentionCharIndex:n.mentionCharIndex};o=s!==h?e.lastIndexOf(s)+s.length-h.length:0}else o=e.lastIndexOf(h);return o>n.mentionCharIndex?{mentionChar:h,mentionCharIndex:o}:{mentionChar:n.mentionChar,mentionCharIndex:n.mentionCharIndex}},{mentionChar:null,mentionCharIndex:-1})}function Ov(e,a){return a.test(e)}function Ev(e,a,i,t){if(e===-1)return!1;if(!i)return!0;var n=e?a[e-1]:t;return!n||!!n.match(/\s/)}var Tv=vt.import("blots/embed"),Or=function(e){mv(i,e);var a=bv(i);function i(t,n){var h;return zl(this,i),h=a.call(this,t,n),mo(yo(h),"hoverHandler",void 0),mo(yo(h),"hoverHandler",void 0),h.clickHandler=null,h.hoverHandler=null,h.mounted=!1,h}return Fl(i,[{key:"attach",value:function(){Gn(fn(i.prototype),"attach",this).call(this),this.mounted||(this.mounted=!0,this.clickHandler=this.getClickHandler(),this.hoverHandler=this.getHoverHandler(),this.domNode.addEventListener("click",this.clickHandler,!1),this.domNode.addEventListener("mouseenter",this.hoverHandler,!1))}},{key:"detach",value:function(){Gn(fn(i.prototype),"detach",this).call(this),this.mounted=!1,this.clickHandler&&(this.domNode.removeEventListener("click",this.clickHandler),this.clickHandler=null)}},{key:"getClickHandler",value:function(){var n=this;return function(h){var o=n.buildEvent("mention-clicked",h);window.dispatchEvent(o),h.preventDefault()}}},{key:"getHoverHandler",value:function(){var n=this;return function(h){var o=n.buildEvent("mention-hovered",h);window.dispatchEvent(o),h.preventDefault()}}},{key:"buildEvent",value:function(n,h){var o=new Event(n,{bubbles:!0,cancelable:!0});return o.value=yr({},this.domNode.dataset),o.event=h,o}}],[{key:"create",value:function(n){var h=Gn(fn(i),"create",this).call(this),o=document.createElement("span");return o.className="ql-mention-denotation-char",o.innerText=n.denotationChar,h.appendChild(o),typeof this.render=="function"?h.appendChild(this.render(n)):h.innerText+=n.value,i.setDataValues(h,n)}},{key:"setDataValues",value:function(n,h){var o=n;return Object.keys(h).forEach(function(l){o.dataset[l]=h[l]}),o}},{key:"value",value:function(n){return n.dataset}}]),i}(Tv);Or.blotName="mention";Or.tagName="span";Or.className="mention";vt.register("blots/mention",Or);var Rv=function(){function e(a,i){var t=this;zl(this,e),this.isOpen=!1,this.itemIndex=0,this.mentionCharPos=null,this.cursorPos=null,this.values=[],this.suspendMouseEnter=!1,this.existingSourceExecutionToken=null,this.quill=a,this.options={source:null,renderItem:function(p){var f=p.value;return"".concat(f)},renderLoading:function(){return null},onSelect:function(p,f){f(p)},mentionDenotationChars:["@"],showDenotationChar:!0,allowedChars:/^[a-zA-Z0-9_]*$/,minChars:0,maxChars:31,offsetTop:2,offsetLeft:0,isolateCharacter:!1,allowInlineMentionChar:!1,fixMentionsToQuill:!1,positioningStrategy:"normal",defaultMenuOrientation:"bottom",blotName:"mention",dataAttributes:["id","value","denotationChar","link","target","disabled"],linkTarget:"_blank",onOpen:function(){return!0},onBeforeClose:function(){return!0},onClose:function(){return!0},listItemClass:"ql-mention-list-item",mentionContainerClass:"ql-mention-list-container",mentionListClass:"ql-mention-list",spaceAfterInsert:!0,selectKeys:[nn.ENTER]},yr(this.options,i,{dataAttributes:Array.isArray(i.dataAttributes)?this.options.dataAttributes.concat(i.dataAttributes):this.options.dataAttributes});for(var n in this.options)typeof this.options[n]=="function"&&(this.options[n]=this.options[n].bind(this));this.mentionContainer=document.createElement("div"),this.mentionContainer.className=this.options.mentionContainerClass?this.options.mentionContainerClass:"",this.mentionContainer.style.cssText="display: none; position: absolute;",this.mentionContainer.onmousemove=this.onContainerMouseMove.bind(this),this.options.fixMentionsToQuill&&(this.mentionContainer.style.width="auto"),this.mentionList=document.createElement("ul"),this.mentionList.id="quill-mention-list",a.root.setAttribute("aria-owns","quill-mention-list"),this.mentionList.className=this.options.mentionListClass?this.options.mentionListClass:"",this.mentionContainer.appendChild(this.mentionList),a.on("text-change",this.onTextChange.bind(this)),a.on("selection-change",this.onSelectionChange.bind(this)),a.container.addEventListener("paste",function(){setTimeout(function(){var s=a.getSelection();t.onSelectionChange(s)})}),a.keyboard.addBinding({key:nn.TAB},this.selectHandler.bind(this)),a.keyboard.bindings[nn.TAB].unshift(a.keyboard.bindings[nn.TAB].pop());var h=kv(this.options.selectKeys),o;try{for(h.s();!(o=h.n()).done;){var l=o.value;a.keyboard.addBinding({key:l},this.selectHandler.bind(this))}}catch(s){h.e(s)}finally{h.f()}a.keyboard.bindings[nn.ENTER].unshift(a.keyboard.bindings[nn.ENTER].pop()),a.keyboard.addBinding({key:nn.ESCAPE},this.escapeHandler.bind(this)),a.keyboard.addBinding({key:nn.UP},this.upHandler.bind(this)),a.keyboard.addBinding({key:nn.DOWN},this.downHandler.bind(this))}return Fl(e,[{key:"selectHandler",value:function(){return this.isOpen&&!this.existingSourceExecutionToken?(this.selectItem(),!1):!0}},{key:"escapeHandler",value:function(){return this.isOpen?(this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList(),!1):!0}},{key:"upHandler",value:function(){return this.isOpen&&!this.existingSourceExecutionToken?(this.prevItem(),!1):!0}},{key:"downHandler",value:function(){return this.isOpen&&!this.existingSourceExecutionToken?(this.nextItem(),!1):!0}},{key:"showMentionList",value:function(){this.options.positioningStrategy==="fixed"?document.body.appendChild(this.mentionContainer):this.quill.container.appendChild(this.mentionContainer),this.mentionContainer.style.visibility="hidden",this.mentionContainer.style.display="",this.mentionContainer.scrollTop=0,this.setMentionContainerPosition(),this.setIsOpen(!0)}},{key:"hideMentionList",value:function(){this.options.onBeforeClose(),this.mentionContainer.style.display="none",this.mentionContainer.remove(),this.setIsOpen(!1),this.quill.root.removeAttribute("aria-activedescendant")}},{key:"highlightItem",value:function(){for(var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=0;t<this.mentionList.childNodes.length;t+=1)this.mentionList.childNodes[t].classList.remove("selected");this.itemIndex===-1||this.mentionList.childNodes[this.itemIndex].dataset.disabled==="true"||(this.mentionList.childNodes[this.itemIndex].classList.add("selected"),this.quill.root.setAttribute("aria-activedescendant",this.mentionList.childNodes[this.itemIndex].id),i&&this.mentionList.childNodes[this.itemIndex].scrollIntoView({behaviour:"smooth",block:"nearest"}))}},{key:"onContainerMouseMove",value:function(){this.suspendMouseEnter=!1}},{key:"selectItem",value:function(){var i=this;if(this.itemIndex!==-1){var t=this.mentionList.childNodes[this.itemIndex].dataset;t.disabled||(this.options.onSelect(t,function(n){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return i.insertItem(n,h,o)}),this.hideMentionList())}}},{key:"insertItem",value:function(i,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},h=i;if(h!==null){var o=ka(ka({},this.options),n);o.showDenotationChar||(h.denotationChar="");var l;t?l=this.cursorPos:(l=this.mentionCharPos,this.quill.deleteText(this.mentionCharPos,this.cursorPos-this.mentionCharPos,vt.sources.USER));var s=this.quill.insertEmbed(l,o.blotName,h,vt.sources.USER);return o.spaceAfterInsert?(this.quill.insertText(l+1," ",vt.sources.USER),this.quill.setSelection(l+2,vt.sources.USER)):this.quill.setSelection(l+1,vt.sources.USER),this.hideMentionList(),s}}},{key:"onItemMouseEnter",value:function(i){if(!this.suspendMouseEnter){var t=Number(i.target.dataset.index);!Number.isNaN(t)&&t!==this.itemIndex&&(this.itemIndex=t,this.highlightItem(!1))}}},{key:"onDisabledItemMouseEnter",value:function(i){this.suspendMouseEnter||(this.itemIndex=-1,this.highlightItem(!1))}},{key:"onItemClick",value:function(i){i.button===0&&(i.preventDefault(),i.stopImmediatePropagation(),this.itemIndex=i.currentTarget.dataset.index,this.highlightItem(),this.selectItem())}},{key:"onItemMouseDown",value:function(i){i.preventDefault(),i.stopImmediatePropagation()}},{key:"renderLoading",value:function(){var i=this.options.renderLoading();if(i){if(this.mentionContainer.getElementsByClassName("ql-mention-loading").length>0){this.showMentionList();return}this.mentionList.innerHTML="";var t=document.createElement("div");t.className="ql-mention-loading",Sa(t,this.options.renderLoading()),this.mentionContainer.append(t),this.showMentionList()}}},{key:"removeLoading",value:function(){var i=this.mentionContainer.getElementsByClassName("ql-mention-loading");i.length>0&&i[0].remove()}},{key:"renderList",value:function(i,t,n){if(t&&t.length>0){this.removeLoading(),this.values=t,this.mentionList.innerText="";for(var h=-1,o=0;o<t.length;o+=1){var l=document.createElement("li");l.id="quill-mention-item-"+o,l.className=this.options.listItemClass?this.options.listItemClass:"",t[o].disabled?(l.className+=" disabled",l.setAttribute("aria-hidden","true")):h===-1&&(h=o),l.dataset.index=o;var s=this.options.renderItem(t[o],n);Sa(l,s),t[o].disabled?l.onmouseenter=this.onDisabledItemMouseEnter.bind(this):(l.onmouseenter=this.onItemMouseEnter.bind(this),l.onmouseup=this.onItemClick.bind(this),l.onmousedown=this.onItemMouseDown.bind(this)),l.dataset.denotationChar=i,this.mentionList.appendChild(Cv(l,t[o],this.options.dataAttributes))}this.itemIndex=h,this.highlightItem(),this.showMentionList()}else this.hideMentionList()}},{key:"nextItem",value:function(){var i=0,t;do{i++,t=(this.itemIndex+i)%this.values.length;var n=this.mentionList.childNodes[t].dataset.disabled==="true";if(i===this.values.length+1){t=-1;break}}while(n);this.itemIndex=t,this.suspendMouseEnter=!0,this.highlightItem()}},{key:"prevItem",value:function(){var i=0,t;do{i++,t=(this.itemIndex+this.values.length-i)%this.values.length;var n=this.mentionList.childNodes[t].dataset.disabled==="true";if(i===this.values.length+1){t=-1;break}}while(n);this.itemIndex=t,this.suspendMouseEnter=!0,this.highlightItem()}},{key:"containerBottomIsNotVisible",value:function(i,t){var n=i+this.mentionContainer.offsetHeight+t.top;return n>window.pageYOffset+window.innerHeight}},{key:"containerRightIsNotVisible",value:function(i,t){if(this.options.fixMentionsToQuill)return!1;var n=i+this.mentionContainer.offsetWidth+t.left,h=window.pageXOffset+document.documentElement.clientWidth;return n>h}},{key:"setIsOpen",value:function(i){this.isOpen!==i&&(i?this.options.onOpen():this.options.onClose(),this.isOpen=i)}},{key:"setMentionContainerPosition",value:function(){this.options.positioningStrategy==="fixed"?this.setMentionContainerPosition_Fixed():this.setMentionContainerPosition_Normal()}},{key:"setMentionContainerPosition_Normal",value:function(){var i=this,t=this.quill.container.getBoundingClientRect(),n=this.quill.getBounds(this.mentionCharPos),h=this.mentionContainer.offsetHeight,o=this.options.offsetTop,l=this.options.offsetLeft;if(this.options.fixMentionsToQuill){var s=0;this.mentionContainer.style.right="".concat(s,"px")}else l+=n.left;if(this.containerRightIsNotVisible(l,t)){var p=this.mentionContainer.offsetWidth+this.options.offsetLeft,f=t.width;l=f-p}if(this.options.defaultMenuOrientation==="top"){if(this.options.fixMentionsToQuill?o=-1*(h+this.options.offsetTop):o=n.top-(h+this.options.offsetTop),o+t.top<=0){var v=this.options.offsetTop;this.options.fixMentionsToQuill?v+=t.height:v+=n.bottom,o=v}}else if(this.options.fixMentionsToQuill?o+=t.height:o+=n.bottom,this.containerBottomIsNotVisible(o,t)){var u=this.options.offsetTop*-1;this.options.fixMentionsToQuill||(u+=n.top),o=u-h}o>=0?this.options.mentionContainerClass.split(" ").forEach(function(d){i.mentionContainer.classList.add("".concat(d,"-bottom")),i.mentionContainer.classList.remove("".concat(d,"-top"))}):this.options.mentionContainerClass.split(" ").forEach(function(d){i.mentionContainer.classList.add("".concat(d,"-top")),i.mentionContainer.classList.remove("".concat(d,"-bottom"))}),this.mentionContainer.style.top="".concat(o,"px"),this.mentionContainer.style.left="".concat(l,"px"),this.mentionContainer.style.visibility="visible"}},{key:"setMentionContainerPosition_Fixed",value:function(){var i=this;this.mentionContainer.style.position="fixed",this.mentionContainer.style.height=null;var t=this.quill.container.getBoundingClientRect(),n=this.quill.getBounds(this.mentionCharPos),h={left:t.left+n.left,top:t.top+n.top,width:0,height:n.height},o=this.options.fixMentionsToQuill?t:h,l=this.options.offsetTop,s=this.options.offsetLeft;if(this.options.fixMentionsToQuill){var p=o.right;this.mentionContainer.style.right="".concat(p,"px")}else s+=o.left,s+this.mentionContainer.offsetWidth>document.documentElement.clientWidth&&(s-=s+this.mentionContainer.offsetWidth-document.documentElement.clientWidth);var f=o.top,v=document.documentElement.clientHeight-(o.top+o.height),u=this.mentionContainer.offsetHeight<=v,d=this.mentionContainer.offsetHeight<=f,_;this.options.defaultMenuOrientation==="top"&&d?_="top":this.options.defaultMenuOrientation==="bottom"&&u?_="bottom":_=v>f?"bottom":"top",_==="bottom"?(l=o.top+o.height,u||(this.mentionContainer.style.height=v-3+"px"),this.options.mentionContainerClass.split(" ").forEach(function(b){i.mentionContainer.classList.add("".concat(b,"-bottom")),i.mentionContainer.classList.remove("".concat(b,"-top"))})):(l=o.top-this.mentionContainer.offsetHeight,d||(this.mentionContainer.style.height=f-3+"px",l=3),this.options.mentionContainerClass.split(" ").forEach(function(b){i.mentionContainer.classList.add("".concat(b,"-top")),i.mentionContainer.classList.remove("".concat(b,"-bottom"))})),this.mentionContainer.style.top="".concat(l,"px"),this.mentionContainer.style.left="".concat(s,"px"),this.mentionContainer.style.visibility="visible"}},{key:"getTextBeforeCursor",value:function(){var i=Math.max(0,this.cursorPos-this.options.maxChars),t=this.quill.getText(i,this.cursorPos-i);return t}},{key:"onSomethingChange",value:function(){var i=this,t=this.quill.getSelection();if(t!=null){this.cursorPos=t.index;var n=this.getTextBeforeCursor(),h=Math.max(0,this.cursorPos-this.options.maxChars),o=h?this.quill.getText(h-1,h):"",l=Sv(n,this.options.mentionDenotationChars,this.options.isolateCharacter,this.options.allowInlineMentionChar),s=l.mentionChar,p=l.mentionCharIndex;if(Ev(p,n,this.options.isolateCharacter,o)){var f=this.cursorPos-(n.length-p);this.mentionCharPos=f;var v=n.substring(p+s.length);if(v.length>=this.options.minChars&&Ov(v,this.getAllowedCharsRegex(s))){this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.renderLoading();var u={abandoned:!1};this.existingSourceExecutionToken=u,this.options.source(v,function(d,_){u.abandoned||(i.existingSourceExecutionToken=null,i.renderList(s,d,_))},s)}else this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList()}else this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList()}}},{key:"getAllowedCharsRegex",value:function(i){return this.options.allowedChars instanceof RegExp?this.options.allowedChars:this.options.allowedChars(i)}},{key:"onTextChange",value:function(i,t,n){n==="user"&&this.onSomethingChange()}},{key:"onSelectionChange",value:function(i){i&&i.length===0?this.onSomethingChange():this.hideMentionList()}},{key:"openMenu",value:function(i){var t=this.quill.getSelection(!0);this.quill.insertText(t.index,i),this.quill.blur(),this.quill.focus()}}]),e}();vt.register("modules/mention",Rv);function Av(e){return e.replace(/^[\n\s]+/,"")}function Pv(e){return e.replace(/[\n\s]+$/,"")}function Mv(e){const a={items:[],mentions:[],mentionUids:[],quoteId:"",msgType:1};for(const i of e.ops){const t=i.insert;let n=null;if(a.items.length&&(n=a.items[a.items.length-1]),typeof t=="string"){if(!t||t==`
`)continue;if(n&&n.type==1){n.content=n.content+t;continue}a.items.push({type:1,content:t});continue}if(t&&t.mention){const h=t.mention;if(a.mentions.push({name:`${h.denotationChar}${h.value}`,atid:parseInt(h.id)}),n&&n.type==1){n.content=n.content+` ${h.denotationChar}${h.value}`;continue}a.items.push({type:1,content:`${h.denotationChar}${h.value}`});continue}if(t&&t.image){a.items.push({type:3,content:t.image});continue}if(t&&t.emoji){const{emoji:h}=t;if(n&&n.type==1){n.content=n.content+h.alt;continue}a.items.push({type:1,content:h.alt});continue}if(t&&t.quote){a.quoteId=t.quote.id;continue}}return a.items.length&&(a.items[0].type==1&&(a.items[0].content=Av(a.items[0].content)),a.items[a.items.length-1].type==1&&(a.items[a.items.length-1].content=Pv(a.items[a.items.length-1].content))),a.items.length>1&&(a.msgType=12),a.items.length==1&&(a.msgType=a.items[0].type),a.mentionUids=a.mentions.map(i=>i.atid),a}function Lv(e){let a="";for(const i of e.ops){const t=i.insert;if(typeof t=="string"){if(!t||t==`
`)continue;a+=t;continue}if(t&&t.mention){const{mention:n}=t;a+=` ${n.denotationChar}${n.value} `;continue}if(t&&t.image){a+="[图片]";continue}if(t&&t.emoji){a+=t.emoji.alt;continue}}return a}function Nv(e){return e.ops.length==1&&e.ops[0].insert==`
`}const Iv={enctype:"multipart/form-data",style:{display:"none"}},$v={class:"el-container is-vertical section height100"},jv={class:"el-header em-header bdr-b"},Bv={class:"el-main em-main me-scrollbar me-scrollbar-thumb"},Dv={key:0,class:"symbol-box"},zv={class:"options"},Fv=["innerHTML","onClick"],qv={key:1,class:"collect-box"},Uv=["src","onClick"],Hv=["onClick"],Vv={class:"el-footer em-footer tabs"},Wv=["onClick"],Gv={class:"tip"},Kv=["src"],Zv=we({__name:"MeEditorEmoticon",emits:["on-select"],setup(e,{emit:a}){const i=a,t=qa(),n=te(),h=te(0),o=fe(()=>t.emoticon.items),l=()=>{n.value.click()},s=u=>{let d=u.target.files[0];t.uploadUserEmoticon(d)},p=(u,d)=>{t.removeUserEmoticon({index:u,id:d})},f=u=>{h.value=u},v=(u,d,_="")=>{if(_){let g=/<img.*?src='(.*?)'/g.exec(_);g&&i("on-select",{type:u,value:d,img:g[1]})}else i("on-select",{type:u,value:d,img:_})};return(u,d)=>{const _=Ne("n-icon");return X(),ie(Te,null,[N("form",Iv,[N("input",{type:"file",ref_key:"fileImageRef",ref:n,accept:"image/*",onChange:s},null,544)]),N("section",$v,[N("header",jv,[N("span",null,de(o.value[h.value].name),1)]),N("main",Bv,[h.value==0?(X(),ie("div",Dv,[N("div",zv,[(X(!0),ie(Te,null,Ge(P(Oc),(b,g)=>(X(),ie("div",{innerHTML:b,key:g,onClick:y=>v(1,g,b),class:"option pointer flex-center"},null,8,Fv))),128))])])):(X(),ie("div",qv,[h.value==1?(X(),ie("div",{key:0,class:"item pointer upload-btn",onClick:l},[T(_,{size:"28",class:"icon",component:P(Ec)},null,8,["component"]),d[0]||(d[0]=N("span",null,"自定义",-1))])):Me("",!0),(X(!0),ie(Te,null,Ge(o.value[h.value].children,(b,g)=>(X(),ie("div",{class:"item pointer",key:g},[N("img",{src:b.src,onClick:y=>v(2,b.media_id)},null,8,Uv),h.value==1?(X(),ie("div",{key:0,class:"mask",onClick:y=>p(g,b.media_id)},[T(_,{size:"18",color:"#ff5722",class:"icon",component:P(xr)},null,8,["component"])],8,Hv)):Me("",!0)]))),128))]))]),N("footer",Vv,[(X(!0),ie(Te,null,Ge(o.value,(b,g)=>(X(),ie("div",{class:bt(["tab pointer",{active:g==h.value}]),key:g,onClick:y=>f(g)},[N("p",Gv,de(b.name),1),N("img",{width:"20",height:"20",src:b.icon},null,8,Kv)],10,Wv))),128))])])],64)}}});const Yv=rt(Zv,[["__scopeId","data-v-8af7f72c"]]),Xv={class:"page-left"},Jv={key:0,class:"loading-state"},Qv={key:1},ep={class:"page-item-content"},tp={key:0,class:"page-item-remark"},np={class:"page-item-opt"},ip={class:"footer"},rp=we({__name:"MeEditorRecord",emits:["close","on-submit"],setup(e,{emit:a}){Nt();const i=a,t=te(!1),n=te(!0);te([]),te([]);const h=te([]);te(""),te();const o=te("1"),l=te(!1);te(null);const s=te(null),p=ct({lang:"",content:"",url:"",files:[],images:[]}),f=ct({content:null,remark:null,sort:null,type:1}),v={content:[{required:!0,message:"请填写常用语内容"}]};fe(()=>!p.content);const u=fe(()=>!f.content),d=()=>{i("close")},_=async(m=o.value)=>{l.value=!0;try{const r=await El({type:Number(m)});r.code==200?h.value=r.data.records||r.data.items||[]:window.$message.error(r.message||"获取常用语失败")}catch{window.$message.error("加载数据失败")}finally{l.value=!1}},b=m=>{o.value=m,_(m)},g=async()=>{try{const m=await Ol({...f,sort:Number(f.sort),type:1});m.code==200?(f.content=null,f.remark=null,f.sort=null,t.value=!1,_(o.value),window.$message.success("新增成功")):window.$message.error(m.message||"新增失败")}catch{window.$message.error("操作失败")}},y=async m=>{let r={content:m};if(p.lang=="json")try{r.content=JSON.stringify(JSON.parse(p.content),null,2)}catch{r.content=p.content}i("on-submit",{...r,content:m})},c=async m=>{try{const r=await Tl({keys:[m]});r.code==200?(_(o.value),window.$message.success("删除成功")):window.$message.error(r.message||"删除失败")}catch{window.$message.error("操作失败")}};return wt(()=>{_("1")}),(m,r)=>{const w=Ne("n-spin"),O=Ne("n-empty");return X(),ie(Te,null,[T(P(rr),{show:n.value,"onUpdate:show":r[3]||(r[3]=C=>n.value=C),width:500,"on-after-leave":d,segmented:{content:!0}},{default:F(()=>[T(P(Md),{title:"常用语列表"},{footer:F(()=>[N("div",ip,[N("div",null,[T(P(Re),{type:"tertiary",onClick:r[2]||(r[2]=C=>n.value=!1)},{default:F(()=>r[15]||(r[15]=[ye("关闭")])),_:1})])])]),default:F(()=>[T(P(sa),null,{default:F(()=>[N("div",Xv,[T(P(Ro),{type:"line",animated:"","onUpdate:value":b,value:o.value},{default:F(()=>[T(P(fr),{name:"1",tab:"自建"},{default:F(()=>[T(P(sa),{justify:"end",style:{"margin-bottom":"10px"}},{default:F(()=>[T(P(Re),{type:"primary",onClick:r[0]||(r[0]=C=>t.value=!0)},{icon:F(()=>[T(P(dr),null,{default:F(()=>[T(P(Tc))]),_:1})]),default:F(()=>[r[9]||(r[9]=ye(" 新增常用语 "))]),_:1})]),_:1})]),_:1}),T(P(fr),{name:"2",tab:"通用"})]),_:1},8,["value"]),T(P(uo),{style:{"max-height":"500px"},trigger:"hover"},{default:F(()=>[l.value?(X(),ie("div",Jv,[T(w,{size:"medium"}),r[10]||(r[10]=N("span",null,"加载中...",-1))])):h.value.length>0?(X(),ie("div",Qv,[(X(!0),ie(Te,null,Ge(h.value,C=>(X(),ie("div",{key:C.id,class:"page-item"},[N("div",ep,[T(P(ul),{"expand-trigger":"click","line-clamp":"3",tooltip:!1},{default:F(()=>[ye(de(C.content),1)]),_:2},1024)]),C.remark?(X(),ie("div",tp,de(C.remark),1)):Me("",!0),N("div",np,[T(P(at),null,{default:F(()=>[C.type===1||o.value==="1"?(X(),_e(P(Wn),{key:0,onPositiveClick:L=>c(C.id)},{trigger:F(()=>[T(P(Re),{secondary:"",type:"error",size:"small"},{default:F(()=>r[11]||(r[11]=[ye("删除")])),_:1})]),default:F(()=>[r[12]||(r[12]=ye(" 确认删除该常用语吗？ "))]),_:2},1032,["onPositiveClick"])):Me("",!0),T(P(Re),{secondary:"",type:"info",size:"small",onClick:L=>y(C.content)},{default:F(()=>r[13]||(r[13]=[ye(" 发送 ")])),_:2},1032,["onClick"])]),_:2},1024)])]))),128))])):(X(),_e(O,{key:2,description:"暂无常用语",class:"page-empty"},xu({_:2},[o.value==="1"?{name:"extra",fn:F(()=>[T(P(Re),{size:"small",onClick:r[1]||(r[1]=C=>t.value=!0)},{default:F(()=>r[14]||(r[14]=[ye("新增常用语")])),_:1})]),key:"0"}:void 0]),1024))]),_:1})])]),_:1})]),_:1})]),_:1},8,["show"]),T(P(qt),{show:t.value,"onUpdate:show":r[8]||(r[8]=C=>t.value=C)},{default:F(()=>[T(P($i),{style:{width:"500px"},title:"新增",bordered:!1,size:"huge",role:"dialog","aria-modal":"true"},{footer:F(()=>[T(P(at),null,{default:F(()=>[T(P(Re),{type:"tertiary",onClick:r[7]||(r[7]=C=>t.value=!1)},{default:F(()=>r[16]||(r[16]=[ye("关闭")])),_:1}),T(P(Re),{type:"primary",onClick:g,disabled:u.value},{default:F(()=>r[17]||(r[17]=[ye(" 提交 ")])),_:1},8,["disabled"])]),_:1})]),default:F(()=>[T(P(Ut),{ref_key:"formModalRef",ref:s,model:f,rules:v},{default:F(()=>[T(P(Ve),{path:"content",label:"常用语内容"},{default:F(()=>[T(P(Je),{type:"textarea",maxlength:65535,placeholder:"请输入常用语内容...",value:f.content,"onUpdate:value":r[4]||(r[4]=C=>f.content=C)},null,8,["value"])]),_:1}),T(P(Ve),{path:"remark",label:"备注"},{default:F(()=>[T(P(Je),{placeholder:"请输入备注",value:f.remark,"onUpdate:value":r[5]||(r[5]=C=>f.remark=C)},null,8,["value"])]),_:1}),T(P(Ve),{path:"sort",label:"排序"},{default:F(()=>[T(P(Je),{placeholder:"请输入排序，越小越靠前",value:f.sort,"onUpdate:value":r[6]||(r[6]=C=>f.sort=C)},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1},8,["show"])],64)}}});const op=rt(rp,[["__scopeId","data-v-ca76e68e"]]);var Ul={exports:{}};/*!
 * 
 * js-audio-recorder - js audio recorder plugin
 * 
 * @version v1.0.7
 * @homepage https://github.com/2fps/recorder
 * @author 2fps <echoweb@126.com> (https://www.zhuyuntao.cn)
 * @license MIT
 *         
 */(function(e,a){(function(i,t){e.exports=t()})(_t,function(){return function(i){var t={};function n(h){if(t[h])return t[h].exports;var o=t[h]={i:h,l:!1,exports:{}};return i[h].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=i,n.c=t,n.d=function(h,o,l){n.o(h,o)||Object.defineProperty(h,o,{enumerable:!0,get:l})},n.r=function(h){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})},n.t=function(h,o){if(1&o&&(h=n(h)),8&o||4&o&&typeof h=="object"&&h&&h.__esModule)return h;var l=Object.create(null);if(n.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:h}),2&o&&typeof h!="string")for(var s in h)n.d(l,s,(function(p){return h[p]}).bind(null,s));return l},n.n=function(h){var o=h&&h.__esModule?function(){return h.default}:function(){return h};return n.d(o,"a",o),o},n.o=function(h,o){return Object.prototype.hasOwnProperty.call(h,o)},n.p="",n(n.s=1)}([function(i,t,n){function h(o,l,s){for(var p=0;p<s.length;p++)o.setUint8(l+p,s.charCodeAt(p))}Object.defineProperty(t,"__esModule",{value:!0}),t.compress=function(o,l,s){for(var p=l/s,f=Math.max(p,1),v=o.left,u=o.right,d=Math.floor((v.length+u.length)/p),_=new Float32Array(d),b=0,g=0;b<d;){var y=Math.floor(g);_[b]=v[y],b++,u.length&&(_[b]=u[y],b++),g+=f}return _},t.encodePCM=function(o,l,s){s===void 0&&(s=!0);var p=0,f=o.length*(l/8),v=new ArrayBuffer(f),u=new DataView(v);if(l===8)for(var d=0;d<o.length;d++,p++){var _=(b=Math.max(-1,Math.min(1,o[d])))<0?128*b:127*b;_=+_+128,u.setInt8(p,_)}else for(d=0;d<o.length;d++,p+=2){var b=Math.max(-1,Math.min(1,o[d]));u.setInt16(p,b<0?32768*b:32767*b,s)}return u},t.encodeWAV=function(o,l,s,p,f,v){v===void 0&&(v=!0);var u=s>l?l:s,d=f,_=new ArrayBuffer(44+o.byteLength),b=new DataView(_),g=p,y=0;h(b,y,"RIFF"),y+=4,b.setUint32(y,36+o.byteLength,v),h(b,y+=4,"WAVE"),h(b,y+=4,"fmt "),y+=4,b.setUint32(y,16,v),y+=4,b.setUint16(y,1,v),y+=2,b.setUint16(y,g,v),y+=2,b.setUint32(y,u,v),y+=4,b.setUint32(y,g*u*(d/8),v),y+=4,b.setUint16(y,g*(d/8),v),y+=2,b.setUint16(y,d,v),h(b,y+=2,"data"),y+=4,b.setUint32(y,o.byteLength,v),y+=4;for(var c=0;c<o.byteLength;)b.setUint8(y,o.getUint8(c)),y++,c++;return b}},function(i,t,n){var h,o=this&&this.__extends||(h=function(v,u){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,_){d.__proto__=_}||function(d,_){for(var b in _)_.hasOwnProperty(b)&&(d[b]=_[b])})(v,u)},function(v,u){function d(){this.constructor=v}h(v,u),v.prototype=u===null?Object.create(u):(d.prototype=u.prototype,new d)});Object.defineProperty(t,"__esModule",{value:!0});var l=n(2),s=n(0),p=n(3),f=function(v){function u(d){d===void 0&&(d={});var _=v.call(this,d)||this;return _.isrecording=!1,_.ispause=!1,_.isplaying=!1,_}return o(u,v),u.prototype.setOption=function(d){d===void 0&&(d={}),this.setNewOption(d)},u.prototype.start=function(){return this.isrecording?Promise.reject():(this.isrecording=!0,this.startRecord())},u.prototype.pause=function(){this.isrecording&&!this.ispause&&(this.ispause=!0,this.pauseRecord())},u.prototype.resume=function(){this.isrecording&&this.ispause&&(this.ispause=!1,this.resumeRecord())},u.prototype.stop=function(){this.isrecording&&(this.isrecording=!1,this.ispause=!1,this.stopRecord())},u.prototype.play=function(){this.stop(),this.isplaying=!0,this.onplay&&this.onplay(),p.default.addPlayEnd(this.onplayend);var d=this.getWAV();d.byteLength>44&&p.default.play(d.buffer)},u.prototype.getPlayTime=function(){return p.default.getPlayTime()},u.prototype.pausePlay=function(){!this.isrecording&&this.isplaying&&(this.isplaying=!1,this.onpauseplay&&this.onpauseplay(),p.default.pausePlay())},u.prototype.resumePlay=function(){this.isrecording||this.isplaying||(this.isplaying=!0,this.onresumeplay&&this.onresumeplay(),p.default.resumePlay())},u.prototype.stopPlay=function(){this.isrecording||(this.isplaying=!1,this.onstopplay&&this.onstopplay(),p.default.stopPlay())},u.prototype.destroy=function(){return p.default.destroyPlay(),this.destroyRecord()},u.prototype.getRecordAnalyseData=function(){return this.getAnalyseData()},u.prototype.getPlayAnalyseData=function(){return p.default.getAnalyseData()},u.prototype.getPCM=function(){this.stop();var d=this.getData();return d=s.compress(d,this.inputSampleRate,this.outputSampleRate),s.encodePCM(d,this.oututSampleBits,this.littleEdian)},u.prototype.getPCMBlob=function(){return new Blob([this.getPCM()])},u.prototype.downloadPCM=function(d){d===void 0&&(d="recorder");var _=this.getPCMBlob();l.downloadPCM(_,d)},u.prototype.getWAV=function(){var d=this.getPCM();return s.encodeWAV(d,this.inputSampleRate,this.outputSampleRate,this.config.numChannels,this.oututSampleBits,this.littleEdian)},u.prototype.getWAVBlob=function(){return new Blob([this.getWAV()],{type:"audio/wav"})},u.prototype.downloadWAV=function(d){d===void 0&&(d="recorder");var _=this.getWAVBlob();l.downloadWAV(_,d)},u.prototype.download=function(d,_,b){l.download(d,_,b)},u.prototype.getChannelData=function(){var d=this.getPCM(),_=d.byteLength,b=this.littleEdian,g={left:null,right:null};if(this.config.numChannels===2){var y=new DataView(new ArrayBuffer(_/2)),c=new DataView(new ArrayBuffer(_/2));if(this.config.sampleBits===16)for(var m=0;m<_/2;m+=2)y.setInt16(m,d.getInt16(2*m,b),b),c.setInt16(m,d.getInt16(2*m+2,b),b);else for(m=0;m<_/2;m+=2)y.setInt8(m,d.getInt8(2*m)),c.setInt8(m,d.getInt8(2*m+1));g.left=y,g.right=c}else g.left=d;return g},u}(n(5).default);t.default=f},function(i,t,n){function h(o,l,s){var p=document.createElement("a");p.href=window.URL.createObjectURL(o),p.download=l+"."+s,p.click()}Object.defineProperty(t,"__esModule",{value:!0}),t.downloadWAV=function(o,l){l===void 0&&(l="recorder"),h(o,l,"wav")},t.downloadPCM=function(o,l){l===void 0&&(l="recorder"),h(o,l,"pcm")},t.download=function(o,l,s){return h(o,l,s)}},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0});var h=n(4),o=null,l=0,s=0,p=null,f=null,v=null,u=!1,d=0,_=function(){};function b(){return u=!1,p.decodeAudioData(v.slice(0),function(c){(o=p.createBufferSource()).onended=function(){u||(d=p.currentTime-s+l,_())},o.buffer=c,o.connect(f),f.connect(p.destination),o.start(0,l),s=p.currentTime},function(c){h.throwError(c)})}function g(){o&&(o.stop(),o=null)}var y=function(){function c(){}return c.play=function(m){return p||(p=new(window.AudioContext||window.webkitAudioContext),(f=p.createAnalyser()).fftSize=2048),this.stopPlay(),v=m,d=0,b()},c.pausePlay=function(){g(),l+=p.currentTime-s,u=!0},c.resumePlay=function(){return b()},c.stopPlay=function(){l=0,v=null,g()},c.destroyPlay=function(){this.stopPlay()},c.getAnalyseData=function(){var m=new Uint8Array(f.frequencyBinCount);return f.getByteTimeDomainData(m),m},c.addPlayEnd=function(m){m===void 0&&(m=function(){}),_=m},c.getPlayTime=function(){var m=u?l:p.currentTime-s+l;return d||m},c}();t.default=y},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.throwError=function(h){throw new Error(h)}},function(i,t,n){Object.defineProperty(t,"__esModule",{value:!0});var h=n(0),o=function(){function l(s){s===void 0&&(s={}),this.size=0,this.lBuffer=[],this.rBuffer=[],this.tempPCM=[],this.inputSampleBits=16,this.fileSize=0,this.duration=0,this.needRecord=!0;var p,f=new(window.AudioContext||window.webkitAudioContext);this.inputSampleRate=f.sampleRate,this.setNewOption(s),this.littleEdian=(p=new ArrayBuffer(2),new DataView(p).setInt16(0,256,!0),new Int16Array(p)[0]===256),l.initUserMedia()}return l.prototype.setNewOption=function(s){s===void 0&&(s={}),this.config={sampleBits:~[8,16].indexOf(s.sampleBits)?s.sampleBits:16,sampleRate:~[8e3,11025,16e3,22050,24e3,44100,48e3].indexOf(s.sampleRate)?s.sampleRate:this.inputSampleRate,numChannels:~[1,2].indexOf(s.numChannels)?s.numChannels:1},this.outputSampleRate=this.config.sampleRate,this.oututSampleBits=this.config.sampleBits},l.prototype.startRecord=function(){var s=this;return this.context&&this.destroyRecord(),this.initRecorder(),navigator.mediaDevices.getUserMedia({audio:!0}).then(function(p){s.audioInput=s.context.createMediaStreamSource(p),s.stream=p}).then(function(){s.audioInput.connect(s.analyser),s.analyser.connect(s.recorder),s.recorder.connect(s.context.destination)})},l.prototype.pauseRecord=function(){this.needRecord=!1},l.prototype.resumeRecord=function(){this.needRecord=!0},l.prototype.stopRecord=function(){this.audioInput&&this.audioInput.disconnect(),this.source&&this.source.stop(),this.recorder.disconnect(),this.analyser.disconnect(),this.needRecord=!0},l.prototype.destroyRecord=function(){return this.clearRecordStatus(),this.stopStream(),this.closeAudioContext()},l.prototype.getAnalyseData=function(){var s=new Uint8Array(this.analyser.frequencyBinCount);return this.analyser.getByteTimeDomainData(s),s},l.prototype.getData=function(){return this.flat()},l.prototype.clearRecordStatus=function(){this.lBuffer.length=0,this.rBuffer.length=0,this.size=0,this.fileSize=0,this.PCM=null,this.audioInput=null,this.duration=0},l.prototype.flat=function(){var s=null,p=new Float32Array(0);this.config.numChannels===1?s=new Float32Array(this.size):(s=new Float32Array(this.size/2),p=new Float32Array(this.size/2));for(var f=0,v=0;v<this.lBuffer.length;v++)s.set(this.lBuffer[v],f),f+=this.lBuffer[v].length;for(f=0,v=0;v<this.rBuffer.length;v++)p.set(this.rBuffer[v],f),f+=this.rBuffer[v].length;return{left:s,right:p}},l.prototype.initRecorder=function(){var s=this;this.clearRecordStatus(),this.context=new(window.AudioContext||window.webkitAudioContext),this.analyser=this.context.createAnalyser(),this.analyser.fftSize=2048;var p=this.context.createScriptProcessor||this.context.createJavaScriptNode;this.recorder=p.apply(this.context,[4096,this.config.numChannels,this.config.numChannels]),this.recorder.onaudioprocess=function(f){if(s.needRecord){var v,u=f.inputBuffer.getChannelData(0),d=null;s.lBuffer.push(new Float32Array(u)),s.size+=u.length,s.config.numChannels===2&&(d=f.inputBuffer.getChannelData(1),s.rBuffer.push(new Float32Array(d)),s.size+=d.length),s.fileSize=Math.floor(s.size/Math.max(s.inputSampleRate/s.outputSampleRate,1))*(s.oututSampleBits/8),v=100*Math.max.apply(Math,u),s.duration+=4096/s.inputSampleRate,s.onprocess&&s.onprocess(s.duration),s.onprogress&&s.onprogress({duration:s.duration,fileSize:s.fileSize,vol:v})}}},l.prototype.stopStream=function(){this.stream&&this.stream.getTracks&&(this.stream.getTracks().forEach(function(s){return s.stop()}),this.stream=null)},l.prototype.closeAudioContext=function(){return this.context&&this.context.close&&this.context.state!=="closed"?this.context.close():new Promise(function(s){s()})},l.initUserMedia=function(){navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(s){var p=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return p?new Promise(function(f,v){p.call(navigator,s,f,v)}):Promise.reject(new Error("浏览器不支持 getUserMedia !"))})},l.prototype.transformIntoPCM=function(s,p){var f=new Float32Array(s),v=new Float32Array(p),u=h.compress({left:f,right:v},this.inputSampleRate,this.outputSampleRate);return h.encodePCM(u,this.oututSampleBits,this.littleEdian)},l.getPermission=function(){return this.initUserMedia(),navigator.mediaDevices.getUserMedia({audio:!0}).then(function(s){s&&s.getTracks().forEach(function(p){return p.stop()})})},l}();t.default=o}]).default})})(Ul);var ap=Ul.exports,lp=ap;const sp=So(lp),up={class:"main-box"},cp={class:"music"},dp={class:"tip"},fp={class:"footer"},hp=we({__name:"MeEditorRecorder",emits:["close","on-submit"],setup(e,{emit:a}){const i=a,t=te(!0),n=te(0),h=te(!1),o=te(0);let l=null;const s=()=>{p(),i("close")},p=()=>{l&&l.destroy()},f=()=>{let d=l.getWAVBlob(),_=new File([d],"在线录音.wav",{type:d.type,lastModified:Date.now()});i("on-submit",_),p()},v=()=>{l=new sp,l.start().then(()=>{h.value=!0,n.value=1},d=>{console.log(`${d.name} : ${d.message}`)}),l.onprocess=d=>{o.value=parseInt(d)}},u=()=>{l.stop(),h.value=!1,n.value=2};return kr(()=>{p()}),(d,_)=>{const b=Ne("n-icon"),g=Ne("n-button");return X(),_e(P(qt),{show:t.value,"onUpdate:show":_[0]||(_[0]=y=>t.value=y),preset:"card",title:"语音录制",class:"modal-radius",style:{"max-width":"450px"},"on-after-leave":s,"mask-closable":!1},{footer:F(()=>[N("div",fp,[De(T(g,{type:"primary",ghost:"",round:"",onClick:v},{default:F(()=>[T(b,{component:P(ma)},null,8,["component"]),_[1]||(_[1]=ye("  开始录音 "))]),_:1},512),[[je,n.value==0]]),De(T(g,{type:"primary",round:"",onClick:u},{default:F(()=>[T(b,{component:P(ma)},null,8,["component"]),_[2]||(_[2]=ye("  结束录音 "))]),_:1},512),[[je,n.value==1]]),De(T(g,{type:"primary",ghost:"",round:"",onClick:v},{default:F(()=>_[3]||(_[3]=[ye(" 重新录音 ")])),_:1},512),[[je,n.value==2]]),De(T(g,{type:"primary",round:"",onClick:f},{default:F(()=>_[4]||(_[4]=[ye(" 发送录音 ")])),_:1},512),[[je,n.value==2]])])]),default:F(()=>[N("main",up,[N("div",cp,[N("span",{class:bt(["line line1",{"line-ani":h.value}])},null,2),N("span",{class:bt(["line line2",{"line-ani":h.value}])},null,2),N("span",{class:bt(["line line3",{"line-ani":h.value}])},null,2),N("span",{class:bt(["line line4",{"line-ani":h.value}])},null,2),N("span",{class:bt(["line line5",{"line-ani":h.value}])},null,2)]),N("div",dp,[N("p",null,[De(N("span",null,de(n.value==1?"正在录音":"已暂停录音"),513),[[je,n.value]]),ye(" "+de(P(kc)(o.value)),1)])])])]),_:1},8,["show"])}}});const vp=rt(hp,[["__scopeId","data-v-7ee2a92a"]]),pp={class:"page-main"},mp={class:"page-main-card"},gp={class:"page-main-card-main"},yp={class:"page-content-card"},bp={key:0,class:"page-remark"},_p={key:1},wp={class:"page-item-content"},kp={key:0,class:"page-item-remark"},xp={class:"page-item-opt"},Cp={class:"page-main"},Sp={class:"page-main-card"},Op={class:"page-main-card-main"},Ep=we({__name:"MeEditorRhetoric",emits:["on-submit"],setup(e,{emit:a}){const i=a,t=mn(),n=fe({get:()=>t.isShowRhetoricModal,set:c=>{t.showRhetoricModal(c)}}),h=ct({lang:"",content:"",url:"",files:[],images:[]}),o=[{value:"1",label:"自用常用语"},{value:"2",label:"通用常用语"}],l=te("1"),s=te(!1),p=te([]),f=te({content:"",remark:"",sort:""}),v=te(null),u={content:[{required:!0,message:"请输入分组名称",trigger:["input","blur"]}]},d=async()=>{const c=await El({type:Number(l.value)});c.code===200&&(p.value=c.data.records||[])},_=async()=>{var C,L,A;try{await((C=v.value)==null?void 0:C.validate())}catch{return}const c=(L=f.value.content)==null?void 0:L.trim(),m=(A=f.value.remark)==null?void 0:A.trim(),r=String(f.value.sort??"").trim(),w={content:c};if(m&&(w.remark=m),r){const S=Number(r);Number.isNaN(S)||(w.sort=S)}w.type=1,(await Ol(w)).code===200&&(f.value={content:"",remark:"",sort:""},await d())},b=async c=>{let m={content:c};if(h.lang=="json")try{m.content=JSON.stringify(JSON.parse(h.content),null,2)}catch{m.content=h.content}i("on-submit",{...m,content:c})},g=c=>{l.value=c,d()},y=async c=>{try{const m=await Tl({keys:[c]});m.code==200?(d(),window.$message.success("删除成功")):window.$message.error(m.message||"删除失败")}catch{window.$message.error("操作失败")}};return Ke(()=>t.isShowRhetoricModal,c=>{c&&d()}),(c,m)=>{const r=Ne("n-ellipsis");return X(),_e(P(qt),{show:n.value,"onUpdate:show":m[4]||(m[4]=w=>n.value=w),preset:"card",class:"page-modal",style:{width:"780px",backgroundColor:"#f9f9f9"},closable:""},{header:F(()=>[T(P(Wa),{value:l.value,"onUpdate:value":[m[0]||(m[0]=w=>l.value=w),g],name:"group"},{default:F(()=>[(X(),ie(Te,null,Ge(o,w=>T(P(sl),{key:w.value,value:w.value,label:w.label},null,8,["value","label"])),64))]),_:1},8,["value"])]),default:F(()=>[T(P(Zt),{cols:"8","x-gap":"12","item-responsive":"",responsive:"screen"},{default:F(()=>[T(P(it),{span:"8 m:8 l:5"},{default:F(()=>[N("div",pp,[N("div",mp,[N("div",gp,[N("div",yp,[p.value.length?(X(),ie("div",_p,[(X(!0),ie(Te,null,Ge(p.value,w=>(X(),ie("div",{key:w.id,class:"page-item"},[N("div",wp,[T(r,{"expand-trigger":"click","line-clamp":"3",tooltip:!1},{default:F(()=>[ye(de(w.content),1)]),_:2},1024)]),w.remark?(X(),ie("div",kp,de(w.remark),1)):Me("",!0),N("div",xp,[T(P(at),null,{default:F(()=>[w.type===1||l.value==="1"?(X(),_e(P(Wn),{key:0,onPositiveClick:O=>y(w.id)},{trigger:F(()=>[T(P(Re),{secondary:"",type:"error",size:"small"},{default:F(()=>m[5]||(m[5]=[ye("删除")])),_:1})]),default:F(()=>[m[6]||(m[6]=ye(" 确认删除该常用语吗？ "))]),_:2},1032,["onPositiveClick"])):Me("",!0),T(P(Re),{secondary:"",type:"info",size:"small",onClick:O=>b(w.content)},{default:F(()=>m[7]||(m[7]=[ye(" 发送 ")])),_:2},1032,["onClick"])]),_:2},1024)])]))),128))])):(X(),ie("div",bp,[T(P(Ai),{description:"暂无常用语"})]))])])])])]),_:1}),T(P(it),{span:"8 m:8 l:3"},{default:F(()=>[N("div",Cp,[N("div",Sp,[N("div",Op,[T(P(Ut),{ref_key:"formRef",ref:v,model:f.value,rules:u,size:"small"},{default:F(()=>[T(P(Ve),{path:"name",label:"常用语内容"},{default:F(()=>[T(P(Je),{type:"textarea",maxlength:2e3,placeholder:"请输入常用语内容...",value:f.value.content,"onUpdate:value":m[1]||(m[1]=w=>f.value.content=w)},null,8,["value"])]),_:1}),T(P(Ve),{path:"remark",label:"备注"},{default:F(()=>[T(P(Je),{value:f.value.remark,"onUpdate:value":m[2]||(m[2]=w=>f.value.remark=w),size:"medium",clearable:"",placeholder:"请输入备注"},null,8,["value"])]),_:1}),T(P(Ve),{path:"sort",label:"排序"},{default:F(()=>[T(P(Je),{value:f.value.sort,"onUpdate:value":m[3]||(m[3]=w=>f.value.sort=w),size:"medium",clearable:"",placeholder:"请输入排序（越小越靠前）"},null,8,["value"])]),_:1}),T(P(at),null,{default:F(()=>[T(P(Re),{size:"medium",type:"primary",loading:s.value,disabled:l.value==="2",onClick:_},{default:F(()=>m[8]||(m[8]=[ye("创建自用常用语")])),_:1},8,["loading","disabled"])]),_:1})]),_:1},8,["model"])])])])]),_:1})]),_:1})]),_:1},8,["show"])}}});const Tp=rt(Ep,[["__scopeId","data-v-12ee1215"]]),Rp=()=>Fa("/api/v1/material/select"),Ap=e=>Pn("/api/v1/material/record/save",e),Pp=e=>Pn("/api/v1/material/record/update",e),Mp=e=>Pn("/api/v1/material/record/publish",e),Lp={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Np=we({name:"ChevronUpCircleOutline",render:function(a,i){return X(),ie("svg",Lp,i[0]||(i[0]=[N("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M352 296l-96-96l-96 96"},null,-1),N("path",{d:"M256 64C150 64 64 150 64 256s86 192 192 192s192-86 192-192S362 64 256 64z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1)]))}}),Ip={class:"page-main"},$p={class:"page-main-card"},jp={class:"page-main-card-main"},Bp={key:0,style:{display:"flex"}},Dp=we({__name:"MeEditorMaterial",emits:["on-submit"],setup(e,{emit:a}){const i=a,t=mn(),n=Nt(),h=fe({get:()=>t.isShowMaterialModal,set:m=>{t.showMaterialModal(m),m||(d.value={id:null,material_id:null,parameter_data:[]},o.content="",u.value="",f.value="",v.value=!1)}}),o=ct({lang:"",content:"",url:"",files:[],images:[]}),l=te(!1),s=te([]),p=te([]),f=te(""),v=te(!1),u=te(""),d=te({id:null,material_id:null,parameter_data:[]}),_=te(null),b=async()=>{const m=await Rp();m.code===200&&(p.value=m.data||[],s.value=m.data.map(r=>({label:r.name,value:r.id}))||[])},g=async()=>{var m,r,w;try{await((m=_.value)==null?void 0:m.validate())}catch{return}f.value="",l.value=!0;try{const[O]=await Promise.all([Ap({...d.value,group_id:n.talk.receiver_id}),new Promise(C=>setTimeout(C,3e3))]);if(O.code===200){d.value.id=O.data.id;const C=O.data.url||"";if(C)try{f.value=`${C}?t=${Date.now()}`}catch{(r=window.$message)==null||r.info("文件尚未可用，请稍后重试"),f.value=""}else f.value=""}else{(w=window.$message)==null||w.error(O.message||"生成预览文件失败");return}}finally{l.value=!1}},y=async()=>{var r,w;if(!v.value){const O=await Pp({id:d.value.id});if(O.code!==200){(r=window.$message)==null||r.error(O.message||"材料发送失败");return}}const m=await Mp({id:d.value.id});if(m.code===200){const O=u.value;O&&i("on-submit",{...{content:O}}),d.value={id:null,material_id:null,parameter_data:[]},o.content="",u.value="",f.value="",v.value=!1}else(w=window.$message)==null||w.error(m.message||"材料发送失败")},c=m=>{if(!m)return;const r=p.value.find(w=>w.id===m);r&&(d.value.parameter_data=r.parameter_data||[],u.value=r.rhetoric||"",v.value=!!r.url)};return Ke(()=>t.isShowMaterialModal,m=>{m&&b()}),(m,r)=>(X(),_e(P(qt),{show:h.value,"onUpdate:show":r[3]||(r[3]=w=>h.value=w),preset:"card",class:"page-modal",title:"办案材料",style:{width:"480px",backgroundColor:"#f9f9f9"},closable:""},{default:F(()=>[T(P(Zt),{cols:"24","x-gap":"12","item-responsive":"",responsive:"screen"},{default:F(()=>[T(P(it),{span:"24 m:24 l:24"},{default:F(()=>[N("div",Ip,[N("div",$p,[N("div",jp,[T(P(Ut),{ref_key:"formRef",ref:_,model:d.value},{default:F(()=>[T(P(Ve),{path:"material_id",label:"材料"},{default:F(()=>[T(P(Xn),{value:d.value.material_id,"onUpdate:value":r[0]||(r[0]=w=>d.value.material_id=w),size:"medium",filterable:"",clearable:"",placeholder:"请选择需要的材料",options:s.value,onChange:c},null,8,["value","options"])]),_:1}),u.value?(X(),_e(P(Ve),{key:0,path:"content",label:"配套话术（发送材料之后同步发送）"},{default:F(()=>[T(P(Je),{value:u.value,size:"medium",readonly:"",type:"textarea",placeholder:"选择材料后有配套话术展示"},null,8,["value"])]),_:1})):Me("",!0),d.value.parameter_data.length>0?(X(),_e(P(Ve),{key:1,path:"parameter_data",label:"参数"},{default:F(()=>[T(P(zd),{value:d.value.parameter_data,"onUpdate:value":r[2]||(r[2]=w=>d.value.parameter_data=w),"on-create":()=>({label:"",code:""}),"item-style":"margin-bottom: 5px;"},{default:F(({value:w})=>[w?(X(),ie("div",Bp,[T(P(Je),{value:w.label,"onUpdate:value":O=>w.label=O,placeholder:"参数名称",size:"medium",readonly:"",style:{width:"50%"}},null,8,["value","onUpdate:value"]),T(P(Je),{value:w.value,"onUpdate:value":O=>w.value=O,placeholder:"填写参数数据",clearable:"",onKeydown:r[1]||(r[1]=Cu(Zn(()=>{},["prevent"]),["enter"])),size:"medium",style:{"margin-left":"5px"}},null,8,["value","onUpdate:value"])])):Me("",!0)]),action:F(({index:w,move:O})=>[T(P(at),{style:{"margin-left":"20px"}},{default:F(()=>[T(P(Ga),{trigger:"hover"},{trigger:F(()=>[T(P(Re),{disabled:"",onClick:()=>O("up",w)},{default:F(()=>[T(P(dr),null,{default:F(()=>[T(P(Np))]),_:1})]),_:2},1032,["onClick"])]),default:F(()=>[r[4]||(r[4]=ye(" 上移 "))]),_:2},1024)]),_:2},1024)]),_:1},8,["value"])]),_:1})):Me("",!0),T(P(at),{justify:"space-between"},{default:F(()=>[T(P(at),null,{default:F(()=>[T(P(Re),{size:"medium",type:"primary",loading:l.value,onClick:g},{default:F(()=>[ye(de(f.value?"重新生成预览文件":"生成预览文件"),1)]),_:1},8,["loading"]),T(P(Re),{size:"medium",type:"success",tag:"a",href:f.value,disabled:f.value.length===0,target:"_blank"},{default:F(()=>r[5]||(r[5]=[ye("预览")])),_:1},8,["href","disabled"])]),_:1}),T(P(Re),{size:"medium",type:"warning",disabled:f.value.length===0,onClick:y},{default:F(()=>r[6]||(r[6]=[ye("确认发送材料")])),_:1},8,["disabled"])]),_:1})]),_:1},8,["model"])])])])]),_:1})]),_:1})]),_:1},8,["show"]))}});const zp=rt(Dp,[["__scopeId","data-v-1893801a"]]),Fp={class:"el-container editor"},qp={class:"el-container is-vertical"},Up={class:"el-header toolbar bdr-t"},Hp={class:"tools"},Vp={class:"item pointer"},Wp=["onClick"],Gp={class:"tip-title"},Kp={class:"tools"},Zp=["onClick"],Yp={class:"tip-title"},Xp={class:"el-main height100"},Jp={enctype:"multipart/form-data",style:{display:"none"}},Qp=we({__name:"Editor",props:{vote:{type:Boolean,default:!1},members:{default:()=>[]}},emits:["editor-event"],setup(e,{emit:a}){vt.register("formats/emoji",or),vt.register("formats/quote",ar),vt.register("modules/imageUploader",Dl);const i=a,t=Nt(),n=Su(),h=mn(),o=e,l=te(),s=()=>{var W;return(W=l.value)==null?void 0:W.getQuill()},p=()=>{let W=s();return(W.getSelection()||{}).index||W.getLength()},f=fe(()=>t.index_name),v=te(!1),u=te(!1),d=te(!1),_=te(),b=te(),g=te(),y={debug:!1,modules:{toolbar:!1,clipboard:{matchers:[[Node.ELEMENT_NODE,S]]},keyboard:{bindings:{enter:{key:13,handler:k}}},imageUploader:{upload:w},mention:{allowedChars:/^[\u4e00-\u9fa5]*$/,mentionDenotationChars:["@"],positioningStrategy:"fixed",renderItem:W=>{const Q=document.createElement("div");return Q.className="ed-member-item",Q.innerHTML=`<img src="${W.avatar?W.avatar:"/src/assets/image/notify.png"}" class="avator"/>`,Q.innerHTML+=`<span class="nickname">${W.nickname}</span>`,Q},source:function(W,Q){if(!o.members.length)return Q([]);const z=[{id:0,nickname:"所有人",avatar:Ou,value:"所有人"},...o.members].filter(M=>M.nickname.toLowerCase().indexOf(W)!==-1);Q(z)},mentionContainerClass:"ql-mention-list-container me-scrollbar me-scrollbar-thumb"}},placeholder:"按Enter发送 / Shift+Enter 换行",theme:"snow"},c=ct([{title:"图片",icon:ki(ah),show:!0,click:()=>{_.value.click()}},{title:"附件",icon:ki(Xf),show:!0,click:()=>{b.value.click()}},{title:"历史记录",icon:ki(Jf),show:!0,click:()=>{i("editor-event",$t("history_event",{}))}}]),m=ct([{title:"常用语",icon:ki(Yf),show:!0,click:()=>{h.showRhetoricModal(!0)}},{title:"资料",icon:ki(Zf),show:!0,click:()=>{h.showMaterialModal(!0)}}]);function r(W){return new Promise(Q=>{let H=new Image;H.src=URL.createObjectURL(W),H.onload=()=>{const z=new FormData;z.append("file",W),z.append("width",H.width.toString()),z.append("height",H.height.toString()),Va(z).then(({code:M,data:I,message:$})=>{M==200?Q(I.src):(Q(""),window.$message.error($))})}})}function w(W){async function Q(H,z,M){if(H.type.indexOf("image/")===0)return z(await r(H));if(M(),H.type.indexOf("video/")===0){let I=$t("video_event",H,()=>{});i("editor-event",I)}else{let I=$t("file_event",H,()=>{});i("editor-event",I)}}return new Promise((H,z)=>{Q(W,H,z)})}function O(W){if(g.value.setShow(!1),W.type==1){const Q=s();let H=p();H==1&&Q.getLength()==1&&Q.getText(0,1)==`
`&&(Q.deleteText(0,1),H=0),W.img?Q.insertEmbed(H,"emoji",{alt:W.value,src:W.img,width:"24px",height:"24px"}):Q.insertText(H,W.value),Q.setSelection(H+1,0,"user")}else{let Q=$t("emoticon_event",W.value,()=>{});i("editor-event",Q)}}async function C(W){let Q=W.target.files[0];if(W.target.value=null,Q.type.indexOf("image/")===0){const H=s();let z=p();z==1&&H.getLength()==1&&H.getText(0,1)==`
`&&(H.deleteText(0,1),z=0);let M=await r(Q);M&&(H.insertEmbed(z,"image",M),H.setSelection(z+1));return}if(Q.type.indexOf("video/")===0){let H=$t("video_event",Q,()=>{});i("editor-event",H)}else{let H=$t("file_event",Q,()=>{});i("editor-event",H)}}function L(W){i("editor-event",$t("file_event",W)),u.value=!1}function A(W){const Q=$t("record_event",W,H=>{d.value=!1});i("editor-event",Q)}function S(W,Q){const H=[];return Q.ops.forEach(z=>{z.insert&&typeof z.insert=="string"?H.push({insert:z.insert,attributes:{}}):H.push(z)}),Q.ops=H,Q}function k(){var W=s().getContents();let Q=Mv(W);if(Q.items.length!==0)switch(Q.msgType){case 1:if(Q.items[0].content.length>1024)return window.$message.info("发送内容超长，请分条发送");i("editor-event",$t("text_event",Q,H=>{H&&s().setContents([],vt.sources.USER)}));break;case 3:i("editor-event",$t("image_event",{...xc(Q.items[0].content),url:Q.items[0].content,size:1e4},H=>{H&&s().setContents([])}));break;case 12:i("editor-event",$t("mixed_event",Q,H=>{H&&s().setContents([])}));break}}function E(){let W=s().getContents(),Q=Lv(W);Nv(W)?delete n.items[f.value||""]:n.items[f.value||""]=JSON.stringify({text:Q,ops:W.ops}),i("editor-event",$t("input_event",Q))}function R(){l.value&&setTimeout(()=>{var z;K();const W=s();if(!W)return;let Q=n.items[f.value||""];Q?W.setContents(((z=JSON.parse(Q))==null?void 0:z.ops)||[]):W.setContents([]);const H=p();W.setSelection(H,0,"user")},0)}function B(W){s().getModule("mention").insertItem({id:W==null?void 0:W.id,denotationChar:"@",value:W.value},!0)}function q(W){var M;if((M=s().getContents().ops)!=null&&M.some(I=>I.insert.quote))return;const H=s(),z=p();H.insertEmbed(0,"quote",W),H.setSelection(z+1,0,"user")}function K(){var Q;let W=document.querySelector(".ql-mention-list-container");W&&((Q=document.querySelector("body"))==null||Q.removeChild(W))}return Ke(f,R,{immediate:!0}),wt(()=>{v.value=!0,R()}),kr(()=>{K()}),Ic([{name:lo.Mention,event:B},{name:lo.Quote,event:q}]),(W,Q)=>{const H=Ne("n-icon"),z=Ne("n-space");return X(),ie(Te,null,[N("section",Fp,[N("section",qp,[N("header",Up,[T(z,{justify:"space-between",align:"center",style:{width:"100%"}},{default:F(()=>[N("div",Hp,[T(P(wr),{placement:"top-start",trigger:"click",raw:"","show-arrow":!1,width:300,ref_key:"emoticonRef",ref:g,style:{width:"500px",height:"250px","border-radius":"10px",overflow:"hidden"}},{trigger:F(()=>[N("div",Vp,[T(H,{size:"18",class:"icon",component:P(sh)},null,8,["component"]),Q[2]||(Q[2]=N("p",{class:"tip-title"},"表情符号",-1))])]),default:F(()=>[T(Yv,{onOnSelect:O})]),_:1},512),(X(!0),ie(Te,null,Ge(c,M=>De((X(),ie("div",{class:"item pointer",key:M.title,onClick:M.click},[T(H,{size:"18",class:"icon",component:M.icon},null,8,["component"]),N("p",Gp,de(M.title),1)],8,Wp)),[[je,M.show]])),128))]),N("div",Kp,[(X(!0),ie(Te,null,Ge(m,M=>De((X(),ie("div",{class:"item pointer",key:M.title,onClick:M.click},[T(H,{size:"18",class:"icon",component:M.icon},null,8,["component"]),N("p",Yp,de(M.title),1)],8,Zp)),[[je,M.show]])),128))])]),_:1})]),N("main",Xp,[T(P(fv),{ref_key:"editor",ref:l,id:"editor",options:y,onEditorChange:E,style:{height:"100%",border:"none"}},null,512)])])]),N("form",Jp,[N("input",{type:"file",ref_key:"fileImageRef",ref:_,accept:"image/*",onChange:C},null,544),N("input",{type:"file",ref_key:"uploadFileRef",ref:b,onChange:C},null,544)]),d.value?(X(),_e(op,{key:0,onOnSubmit:A,onClose:Q[0]||(Q[0]=M=>d.value=!1)})):Me("",!0),u.value?(X(),_e(vp,{key:1,onOnSubmit:L,onClose:Q[1]||(Q[1]=M=>u.value=!1)})):Me("",!0),T(Tp,{onOnSubmit:A}),T(zp,{onOnSubmit:A})],64)}}});const em=rt(Qp,[["__scopeId","data-v-047a5a56"]]),tm={class:"el-container launch-box"},nm={class:"el-aside bdr-r",style:{width:"240px"}},im={class:"el-container is-vertical height100"},rm={class:"el-header tabs"},om={class:"el-header sub-header"},am={class:"el-main","loading-text":"加载中..."},lm={class:"friend-items"},sm=["onClick"],um={class:"avatar"},cm={class:"content"},dm={class:"text-ellipsis"},fm={class:"checkbox"},hm={class:"el-main"},vm={class:"el-container is-vertical height100"},pm={class:"el-main o-hidden"},mm={class:"friend-items"},gm={style:{"padding-top":"100px"}},ym=["onClick"],bm={class:"avatar"},_m={class:"content"},wm={class:"text-ellipsis"},km={key:0,class:"badge group"},xm={class:"checkbox"},Cm={class:"footer"},Sm=we({__name:"ContactModal",emits:["close","on-submit"],setup(e,{emit:a}){const i=a,t=te(1),n=te(!0),h=te(!0),o=te([]),l=te(""),s=te(!1),p=fe(()=>o.value.filter(m=>t.value==m.type&&m.keyword.match(l.value)!=null)),f=fe(()=>o.value.filter(m=>m.checked)),v=fe(()=>!f.value.length),u=()=>{d()},d=()=>{h.value=!0,Eu().then(m=>{if(m.code==200){let r=m.data.items||[];o.value=r.map(w=>({id:w.id,avatar:w.avatar,type:1,name:w.remark||w.nickname,keyword:w.remark+w.nickname,remark:w.remark,checked:!1}))}}).finally(()=>{h.value=!1})},_=async()=>{if(s.value)return;h.value=!0;let{code:m,data:r}=await Tu();if(m!=200)return;let w=r.items.map(O=>({id:O.id,avatar:O.avatar,type:2,name:O.group_name,keyword:O.group_name,remark:"",checked:!1}));o.value.push(...w),h.value=!1,s.value=!0},b=()=>{i("close")},g=m=>{let r=o.value.find(w=>w.id===m.id);r&&(r.checked=!r.checked)},y=()=>{let m=f.value.map(r=>({id:r.id,type:r.type}));i("on-submit",m)},c=m=>{t.value=m,m==2&&_()};return u(),(m,r)=>{const w=Ne("n-icon"),O=Ne("im-avatar"),C=Ne("n-empty"),L=Ne("n-button"),A=Oo("loading");return X(),_e(P(qt),{show:n.value,"onUpdate:show":r[2]||(r[2]=S=>n.value=S),preset:"card",title:"选择联系人",class:"modal-radius",style:{"max-width":"650px",height:"550px"},"on-after-leave":b,segmented:{content:!0,footer:!0},"content-style":{padding:0}},{footer:F(()=>[N("div",Cm,[N("div",null,[N("span",null,"已选择("+de(f.value.length)+")",1)]),N("div",null,[T(L,{type:"tertiary",onClick:r[1]||(r[1]=S=>n.value=!1)},{default:F(()=>r[6]||(r[6]=[ye(" 取消 ")])),_:1}),T(L,{type:"primary",class:"mt-l15",onClick:y,disabled:v.value},{default:F(()=>r[7]||(r[7]=[ye(" 确定 ")])),_:1},8,["disabled"])])])]),default:F(()=>[N("section",tm,[N("aside",nm,[N("section",im,[N("header",rm,[T(P(Ro),{type:"line","justify-content":"space-around","onUpdate:value":c},{default:F(()=>[T(P(Qo),{name:"1"},{default:F(()=>r[3]||(r[3]=[ye(" 好友 ")])),_:1}),T(P(Qo),{name:"2"},{default:F(()=>r[4]||(r[4]=[ye(" 群聊 ")])),_:1})]),_:1})]),N("header",om,[T(P(Je),{placeholder:"搜索",value:l.value,"onUpdate:value":r[0]||(r[0]=S=>l.value=S),clearable:"",size:"small"},{prefix:F(()=>[T(w,{component:P(Ka)},null,8,["component"])]),_:1},8,["value"])]),De((X(),ie("main",am,[T(P(uo),null,{default:F(()=>[N("div",lm,[(X(!0),ie(Te,null,Ge(p.value,S=>(X(),ie("div",{class:"friend-item pointer",key:S.id,onClick:k=>g(S)},[N("div",um,[T(O,{class:"pointer",src:S.avatar,size:25,username:S.remark||S.name},null,8,["src","username"])]),N("div",cm,[N("span",dm,de(S.remark||S.name),1)]),N("div",fm,[T(P(ir),{size:"small",checked:S.checked},null,8,["checked"])])],8,sm))),128))])]),_:1})])),[[A,h.value]])])]),N("main",hm,[N("section",vm,[N("main",pm,[T(P(uo),{class:"friend-items"},{default:F(()=>[N("div",mm,[De(N("div",gm,[T(C,{size:"200",description:"暂无数据"},{icon:F(()=>r[5]||(r[5]=[N("img",{src:Cr,alt:""},null,-1)])),_:1})],512),[[je,!f.value.length]]),(X(!0),ie(Te,null,Ge(f.value,S=>(X(),ie("div",{class:"friend-item pointer",key:S.id,onClick:k=>g(S)},[N("div",bm,[T(O,{class:"pointer",src:S.avatar,size:25,username:S.remark||S.name},null,8,["src","username"])]),N("div",_m,[N("span",wm,de(S.remark||S.name),1),S.type==2?(X(),ie("span",km,"群")):Me("",!0)]),N("div",xm,[T(w,{size:16,component:P(xr)},null,8,["component"])])],8,ym))),128))])]),_:1})])])])])]),_:1},8,["show"])}}});const Om=rt(Sm,[["__scopeId","data-v-7583a908"]]),Em={class:"section bdr-t"},Tm={class:"multi-title"},Rm={class:"multi-groups"},Am={class:"btn-group"},Pm={class:"btn-group"},Mm={class:"btn-group"},Lm={class:"btn-group"},Nm=we({__name:"MultiSelectFooter",setup(e){const a=Nt(),i=te(!1),t=te(0),n=f=>{t.value=f,i.value=!0},h=()=>{a.closeMultiSelect()},o=()=>{a.selectItems.length&&n(2)},l=()=>{a.selectItems.length&&n(1)},s=()=>{let f=a.selectItems.map(v=>v.msg_id);f.length&&a.ApiDeleteRecord(f)},p=f=>{let v=a.selectItems.map(_=>_.msg_id),u=[],d=[];for(let _ of f)_.type==1?u.push(_.id):d.push(_.id);a.ApiForwardRecord({mode:t.value,message_ids:v,uids:u,gids:d}),i.value=!1};return(f,v)=>{const u=Ne("n-icon");return X(),ie(Te,null,[N("section",Em,[N("div",Tm,[N("span",null,"已选中："+de(P(a).selectItems.length)+" 条消息",1)]),N("div",Rm,[N("div",Am,[N("div",{class:"multi-icon pointer flex-center",onClick:o},[T(u,{size:22,component:P($c)},null,8,["component"])]),v[1]||(v[1]=N("p",null,"合并转发",-1))]),N("div",Pm,[N("div",{class:"multi-icon pointer flex-center",onClick:l},[T(u,{size:22,component:P(lh)},null,8,["component"])]),v[2]||(v[2]=N("p",null,"逐条转发",-1))]),N("div",Mm,[N("div",{class:"multi-icon pointer flex-center",onClick:s},[T(u,{size:22,component:P(xr)},null,8,["component"])]),v[3]||(v[3]=N("p",null,"批量删除",-1))]),N("div",Lm,[N("div",{class:"multi-icon pointer flex-center",onClick:h},[T(u,{size:22,component:P(Ya)},null,8,["component"])]),v[4]||(v[4]=N("p",null,"关闭",-1))])])]),i.value?(X(),_e(Om,{key:0,onClose:v[0]||(v[0]=d=>i.value=!1),onOnSubmit:p})):Me("",!0)],64)}}});const Im=rt(Nm,[["__scopeId","data-v-940b91bb"]]),$m={class:"main-box el-container is-vertical o-hidden"},jm={class:"el-header bdr-b search",style:{height:"50px"}},Bm={class:"type-items"},Dm=["onClick"],zm={style:{display:"flex","align-items":"center"}},Fm={key:0,class:"el-main flex-center"},qm={key:1,class:"el-main flex-center"},Um={key:2,class:"el-main me-scrollbar me-scrollbar-thumb"},Hm={class:"left-box"},Vm={class:"right-box me-scrollbar"},Wm={class:"msg-header"},Gm={class:"name"},Km={class:"time"},Zm={key:0,class:"msg-content"},Ym=we({__name:"HistoryRecord",props:{talkType:{type:Number,default:0},receiverId:{type:Number,default:0}},emits:["close"],setup(e,{emit:a}){const i=a,t=e,{showUserInfoModal:n}=To(),h=ct({cursor:0,limit:30,msgType:0,loading:!1,loadMore:!1,isLoadMore:!0}),o=te(!0),l=te([]),s=[{name:"全部",type:0,show:!0},{name:"图片",type:Ru,show:!0},{name:"音频",type:Au,show:!0},{name:"视频",type:Pu,show:!0},{name:"文件",type:Mu,show:!0},{name:"会话",type:Lu,show:!0},{name:"代码",type:Nu,show:!0},{name:"位置",type:Iu,show:!0},{name:"群投票",type:$u,show:t.talkType==2}],p=()=>{i("close")},f=()=>{let u={talk_type:t.talkType,receiver_id:t.receiverId,msg_type:h.msgType,cursor:h.cursor,limit:h.limit};h.cursor===0?h.loading=!0:h.loadMore=!0,ju(u).then(d=>{if(d.code!=200)return;u.cursor===0&&(l.value=[]);let _=d.data.items||[];_.length&&(h.cursor=d.data.cursor),h.loading=!1,h.loadMore=!1,h.isLoadMore=_.length>=h.limit,l.value.push(..._)})},v=u=>{h.msgType=u,h.cursor=0,f()};return wt(()=>{f()}),(u,d)=>{const _=Ne("n-icon"),b=Ne("n-empty"),g=Ne("im-avatar"),y=Ne("n-modal");return X(),_e(y,{show:o.value,"onUpdate:show":d[0]||(d[0]=c=>o.value=c),preset:"card",title:"消息管理",style:{"max-width":"750px"},class:"modal-radius","on-after-leave":p,segmented:{content:!0},"header-style":{padding:"20px 15px"},"content-style":{padding:0}},{default:F(()=>[N("section",$m,[N("header",jm,[N("div",Bm,[(X(),ie(Te,null,Ge(s,c=>De(N("span",{key:c.name,class:bt(["pointer",{active:h.msgType==c.type}]),onClick:m=>v(c.type)},de(c.name),11,Dm),[[je,c.show]])),64))]),N("div",zm,[T(_,{size:20,class:"pointer",component:P(Vf)},null,8,["component"])])]),h.loading?(X(),ie("main",Fm,[T(Ao)])):l.value.length===0?(X(),ie("main",qm,[T(b,{size:"200",description:"暂无相关数据"},{icon:F(()=>d[1]||(d[1]=[N("img",{src:Cr,alt:""},null,-1)])),_:1})])):(X(),ie("main",Um,[(X(!0),ie(Te,null,Ge(l.value,c=>(X(),ie("div",{key:c.id,class:"message-item"},[N("div",Hm,[T(g,{src:c.avatar,size:30,username:c.nickname,onClick:m=>P(n)(c.user_id)},null,8,["src","username","onClick"])]),N("div",Vm,[N("div",Wm,[N("span",Gm,de(c.nickname),1),N("span",Km,de(c.created_at),1)]),c.is_revoke==1?(X(),ie("div",Zm,"此消息已被撤回")):Me("",!0),c.is_revoke==0?(X(),_e(Li(cr[c.msg_type]||"unknown-message"),{key:1,extra:c.extra,data:c},null,8,["extra","data"])):Me("",!0)])]))),128)),De(N("div",{class:"more pointer flex-center",onClick:f},[De(T(_,{size:20,class:"icon",component:P(Za)},null,8,["component"]),[[je,!h.loadMore]]),N("span",null,"  "+de(h.loadMore?"数据加载中...":"加载更多"),1)],512),[[je,h.isLoadMore]])]))])]),_:1},8,["show"])}}});const Xm=rt(Ym,[["__scopeId","data-v-1c3f20d3"]]),Jm={class:"el-footer"},Qm=we({__name:"PanelFooter",props:{uid:{type:Number,default:0},talk_type:{type:Number,default:0},receiver_id:{type:Number,default:0},index_name:{type:String,default:""},online:{type:Boolean,default:!1},members:{default:()=>[]}},setup(e){const a=mn(),i=qa(),t=Bu(),n=Po(),h=Nt(),o=e,l=te(!1),s=(O={},C)=>{let L={...O,receiver:{receiver_id:o.receiver_id,talk_type:o.talk_type}};Fu(L).then(({code:A,message:S})=>{A==200?C(!0):window.$message.warning(S)}).catch(()=>{window.$message.warning("网络繁忙,请稍后重试!")})},p=Jo(O=>{let{data:C,callBack:L}=O,A={type:"text",content:C.items[0].content,quote_id:C.quoteId,mentions:C.mentionUids};s(A,S=>{S&&L(!0)})},1e3),f=({data:O,callBack:C})=>{s({type:"image",...O},C)},v=async({data:O})=>{let C=await Du(O);const L=new FormData;L.append("file",C.file);let A=await Va(L);A.code==200&&(console.log("data",O),n.initUploadFile(O,o.talk_type,o.receiver_id,h.talk.username,A.data.src))},u=({data:O,callBack:C})=>{s({type:"code",code:O.code,lang:O.lang},C)},d=({data:O})=>{let C=209715200;if(O.size>C)return window.$message.warning("上传文件不能超过200M!");n.initUploadFile(O,o.talk_type,o.receiver_id,h.talk.username)},_=({data:O,callBack:C})=>{let L=zu({receiver_id:o.receiver_id,mode:O.mode,anonymous:O.anonymous,title:O.title,options:O.options});L.then(({code:A,message:S})=>{A==200?C(!0):window.$message.warning(S)}),L.catch(()=>C(!1))},b=({data:O,callBack:C})=>{s({type:"emoticon",emoticon_id:O},C)},g=({data:O,callBack:C})=>{let L={type:"mixed",quote_id:O.quoteId,items:O.items};s(L,C)},y=Jo(()=>{qu.emit("im.message.keyboard",{sender_id:o.uid,receiver_id:o.receiver_id})},3e3),r={text_event:p,image_event:f,video_event:v,code_event:u,file_event:d,record_event:async({data:O,callBack:C})=>{console.log("onSendRecordEvent",O),a.isShowRhetoricModal=!1,a.isShowMaterialModal=!1,s({type:"text",content:O.content,files:O.files,id:O.id},C)},input_event:({data:O})=>{a.updateItem({index_name:o.index_name,draft_text:O}),t.isKeyboard&&o.online&&y()},vote_event:_,emoticon_event:b,history_event:()=>{l.value=!0},mixed_event:g},w=O=>{r[O.event]&&r[O.event](O)};return wt(()=>{i.loadUserEmoticon()}),(O,C)=>(X(),ie(Te,null,[N("footer",Jm,[P(h).isOpenMultiSelect?(X(),_e(Im,{key:0})):(X(),_e(em,{key:1,onEditorEvent:w,vote:e.talk_type==2,members:e.members},null,8,["vote","members"]))]),l.value?(X(),_e(Xm,{key:0,"talk-type":e.talk_type,"receiver-id":e.receiver_id,onClose:C[0]||(C[0]=L=>l.value=!1)},null,8,["talk-type","receiver-id"])):Me("",!0)],64))}});const eg={class:"el-container is-vertical"},tg={class:"el-header bdr-b"},ng={class:"center-text"},ig={class:"right-icon"},rg={class:"el-main me-scrollbar me-scrollbar-thumb"},og={key:0,class:"flex-box flex-center"},ag={key:1,class:"flex-box flex-center"},lg={class:"title text-ellipsis"},sg={class:"describe"},ug={class:"nickname text-ellipsis"},cg={class:"datetime"},dg=["onClick"],fg=we({__name:"GroupNotice",props:{groupId:{type:Number,default:0}},emits:["close"],setup(e,{emit:a}){const i=a,t=e,n=te("群公告"),h=te(!1),o=te([]),l=()=>{i("close")},s=()=>{h.value=!0,Uu({group_id:t.groupId}).then(p=>{if(p.code==200){let f=p.data.items||[];f.forEach(v=>{v.is_show=!1}),o.value=f,n.value=`群公告(${o.value.length})`}h.value=!1})};return wt(()=>{s()}),(p,f)=>{const v=Ne("n-icon"),u=Ne("n-empty"),d=Ne("n-avatar");return X(),ie("section",eg,[N("header",tg,[N("div",ng,[N("span",null,de(n.value),1)]),N("div",ig,[T(v,{size:"21",component:P(Ya),onClick:l},null,8,["component"])])]),N("main",rg,[h.value?(X(),ie("div",og,[T(Ao)])):o.value.length===0?(X(),ie("div",ag,[T(u,{size:"200",description:"暂无相关数据"},{icon:F(()=>f[0]||(f[0]=[N("img",{src:Cr,alt:""},null,-1)])),_:1})])):Me("",!0),(X(!0),ie(Te,null,Ge(o.value,_=>(X(),ie("div",{key:_.id,class:"items"},[N("div",lg,de(_.title),1),N("div",sg,[T(d,{round:"",size:15,src:_.avatar},null,8,["src"]),N("span",ug,de(_.nickname),1),N("span",cg,"发表于 "+de(_.created_at),1),N("span",{class:"btn",onClick:b=>_.is_show=!_.is_show},[T(v,{size:18,component:_.is_show?P(dh):P(Za)},null,8,["component"]),ye(" "+de(_.is_show?"收起":"展开"),1)],8,dg)]),De(N("div",{class:"detail"},de(_.content),513),[[je,_.is_show]])]))),128))])])}}});const hg=rt(fg,[["__scopeId","data-v-1b194d39"]]);const vg={class:"section me-scrollbar me-scrollbar-thumb"},pg={class:"title bdr-b"},mg={class:"file-header"},gg={class:"type-icon flex-center"},yg={class:"filename"},bg={class:"status"},_g={class:"file-mian"},wg={class:"progress flex-center"},kg={class:"detail"},xg={__name:"UploadsModal",setup(e){const a=Po(),i={0:"等待上传",1:"上传中",2:"上传完成",3:"网络异常"};return(t,n)=>(X(),ie("div",vg,[N("div",pg,[N("span",null,"上传管理 ("+de(P(a).successCount)+"/"+de(P(a).items.length)+")",1),N("span",{class:"pointer",onClick:n[0]||(n[0]=h=>P(a).close())},"关闭")]),(X(!0),ie(Te,null,Ge(P(a).items,h=>(X(),ie("div",{class:"file-item",key:h.upload_id},[N("div",mg,[N("div",gg,de(h.username.substr(0,1)),1),N("div",yg,de(h.username),1),N("div",bg,[N("span",{class:bt({success:h.status==2})},de(i[h.status]),3)])]),N("div",_g,[N("div",wg,[T(P(Xa),{style:{width:"60px",height:"60px"},type:"circle",percentage:h.percentage},null,8,["percentage"])]),N("div",kg,[N("p",null,[n[1]||(n[1]=ye(" 名称：")),N("span",null,de(h.file.name),1)]),N("p",null,[n[2]||(n[2]=ye(" 类型：")),N("span",null,de(h.file.type||"text"),1)]),N("p",null,[n[3]||(n[3]=ye(" 大小：")),N("span",null,de(P(jc)(h.file.size)),1)])])])]))),128))]))}},Cg=rt(xg,[["__scopeId","data-v-6980c1af"]]);function Hl(e){return Vu()?(Wu(e),!0):!1}function Er(e){return typeof e=="function"?e():P(e)}const zo=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Sg=Object.prototype.toString,Og=e=>Sg.call(e)==="[object Object]",Eg=()=>{};function Tg(e){let a;function i(){return a||(a=e()),a}return i.reset=async()=>{const t=a;a=void 0,t&&await t},i}function Rg(e,a,i={}){const{immediate:t=!0}=i,n=te(!1);let h=null;function o(){h&&(clearTimeout(h),h=null)}function l(){n.value=!1,o()}function s(...p){o(),n.value=!0,h=setTimeout(()=>{n.value=!1,h=null,e(...p)},Er(a))}return t&&(n.value=!0,zo&&s()),Hl(l),{isPending:Hu(n),start:s,stop:l}}function Ag(e){var a;const i=Er(e);return(a=i==null?void 0:i.$el)!=null?a:i}const Pg=zo?window:void 0,Vl=zo?window.navigator:void 0;function Wl(...e){let a,i,t,n;if(typeof e[0]=="string"||Array.isArray(e[0])?([i,t,n]=e,a=Pg):[a,i,t,n]=e,!a)return Eg;Array.isArray(i)||(i=[i]),Array.isArray(t)||(t=[t]);const h=[],o=()=>{h.forEach(f=>f()),h.length=0},l=(f,v,u,d)=>(f.addEventListener(v,u,d),()=>f.removeEventListener(v,u,d)),s=Ke(()=>[Ag(a),Er(n)],([f,v])=>{if(o(),!f)return;const u=Og(v)?{...v}:v;h.push(...i.flatMap(d=>t.map(_=>l(f,d,_,u))))},{immediate:!0,flush:"post"}),p=()=>{s(),o()};return Hl(p),p}function Mg(){const e=te(!1),a=Ba();return a&&wt(()=>{e.value=!0},a),e}function Gl(e){const a=Mg();return fe(()=>(a.value,!!e()))}function Oa(e,a={}){const{controls:i=!1,navigator:t=Vl}=a,n=Gl(()=>t&&"permissions"in t);let h;const o=typeof e=="string"?{name:e}:e,l=te(),s=()=>{h&&(l.value=h.state)},p=Tg(async()=>{if(n.value){if(!h)try{h=await t.permissions.query(o),Wl(h,"change",s),s()}catch{l.value="prompt"}return h}});return p(),i?{state:l,isSupported:n,query:p}:l}function Lg(e={}){const{navigator:a=Vl,read:i=!1,source:t,copiedDuring:n=1500,legacy:h=!1}=e,o=Gl(()=>a&&"clipboard"in a),l=Oa("clipboard-read"),s=Oa("clipboard-write"),p=fe(()=>o.value||h),f=te(""),v=te(!1),u=Rg(()=>v.value=!1,n);function d(){o.value&&y(l.value)?a.clipboard.readText().then(c=>{f.value=c}):f.value=g()}p.value&&i&&Wl(["copy","cut"],d);async function _(c=Er(t)){p.value&&c!=null&&(o.value&&y(s.value)?await a.clipboard.writeText(c):b(c),f.value=c,v.value=!0,u.start())}function b(c){const m=document.createElement("textarea");m.value=c??"",m.style.position="absolute",m.style.opacity="0",document.body.appendChild(m),m.select(),document.execCommand("copy"),m.remove()}function g(){var c,m,r;return(r=(m=(c=document==null?void 0:document.getSelection)==null?void 0:c.call(document))==null?void 0:m.toString())!=null?r:""}function y(c){return c==="granted"||c==="prompt"}return{isSupported:p,text:f,copied:v,copy:_}}const Fo=we({__name:"MyUpload",props:{title:{default:"上传图片"},value:{default:[]},defaultFileList:{}},emits:["update:value"],setup(e,{emit:a}){const i=e,t=a,n=te(""),h=te(),o=te({}),l=te(i.value||[]);Ke(()=>i.value,f=>{l.value=f||[]}),wt(async()=>{const f=await Gu();f.code===200&&(n.value=f.data.url,h.value=f.data.key,o.value={policy:f.data.policy,OSSAccessKeyId:f.data.accessKeyId,Signature:f.data.signature})});const s=f=>{const{fileList:v}=f,u=v.map(d=>{var b;const _=`${n.value}/${h.value}/${d.id}${d.batchId}/${d.name}`;return{...d,url:_,path:_,fullPath:_,key:h.value,size:((b=d==null?void 0:d.file)==null?void 0:b.size)||(d==null?void 0:d.size)}});t("update:value",u)},p=f=>{const{file:v}=f;v.status==="pending"&&(o.value.key=`${h.value}/${v.id}${v.batchId}/${v.name}`)};return(f,v)=>(X(),_e(P(Uf),{action:n.value,data:o.value,"file-list":l.value,"default-file-list":f.defaultFileList,onChange:s,onBeforeUpload:p},{default:F(()=>[T(P(Re),null,{default:F(()=>[ye(de(f.title),1)]),_:1})]),_:1},8,["action","data","file-list","default-file-list"]))}}),Ng=/^[\u4E00-\u9FA5a-zA-Z0-9_-]{4,16}$/,Ig=/^[1](([3][0-9])|([4][01456789])|([5][012356789])|([6][2567])|([7][0-8])|([8][0-9])|([9][012356789]))[0-9]{8}$/,$g=/^\w{6,18}$/,jg=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,Bg=/^\d{6}$/;function Qn(){const e={userName:{pattern:Ng,message:"用户名格式不正确",trigger:"change"},phone:{pattern:Ig,message:"手机号格式不正确",trigger:"change"},pwd:{pattern:$g,message:"密码格式不正确，6-18位字符，包含字母、数字、下划线",trigger:"change"},code:{pattern:Bg,message:"验证码格式不正确",trigger:"change"},email:{pattern:jg,message:"邮箱格式不正确",trigger:"change"}},a={userName:[t("请输入用户名"),e.userName],phone:[t("请输入手机号"),e.phone],pwd:[t("请输入密码"),e.pwd],pwdNo:[e.pwd],code:[t("请输入验证码"),e.code],email:[t("请输入邮箱"),e.email]},i=t("不能为空");function t(h){return{required:!0,message:h}}function n(h){return[{required:!0,message:"请输入确认密码"},{asyncValidator:(l,s)=>s.trim()!==""&&s!==Ku(h)?Promise.reject(l.message):Promise.resolve(),message:"两次输入密码不一致",trigger:"input"}]}return{patternRules:e,formRules:a,defaultRequiredRule:i,createRequiredRule:t,createConfirmPwdRule:n}}function ei(){const e=te(null);async function a(){var t;await((t=e.value)==null?void 0:t.validate())}async function i(){var t;(t=e.value)==null||t.restoreValidation()}return{formRef:e,validate:a,restoreValidation:i}}const Dg=we({name:"EnterpriseCaseInformationSave",__name:"information-save",props:ji({operateType:{},rowData:{}},{visible:{type:Boolean,default:!1},visibleModifiers:{}}),emits:["update:visible"],setup(e){const a=e,i=gn(e,"visible"),t=ct(f()),{formRef:n,validate:h,restoreValidation:o}=ei(),{defaultRequiredRule:l}=Qn(),s={name:l},p=yn();function f(){return{id:null,name:"",record_text:null,record_json:null,hidden:0}}function v(){Object.assign(t,f(),{id:0}),a.operateType==="edit"&&a.rowData&&Object.assign(t,a.rowData)}function u(){i.value=!1}async function d(){await h(),p.transferDetail.id>0?p.caseTransferComponentSave({...t,enterprise_case_id:p.detail.id,type:1}):p.caseComponentSave({...t,enterprise_case_id:p.detail.id,type:1})}return Ke(i,()=>{i.value&&(v(),o())}),(_,b)=>{const g=Ne("NModal");return X(),_e(g,{show:i.value,"onUpdate:show":b[4]||(b[4]=y=>i.value=y),preset:"card",class:"page-modal",title:"补充资料","block-scroll":!0,"mask-closable":!1,style:{width:"380px",backgroundColor:"#f9f9f9"}},{default:F(()=>[T(P(Ut),{ref_key:"formRef",ref:n,model:t,rules:s},{default:F(()=>[T(P(Ve),{label:"名称",path:"name"},{default:F(()=>[T(P(Je),{value:t.name,"onUpdate:value":b[0]||(b[0]=y=>t.name=y),clearable:"",placeholder:"请填写资料名称"},null,8,["value"])]),_:1}),T(P(Ve),{label:"描述",path:"record_text"},{default:F(()=>[T(P(Je),{value:t.record_text,"onUpdate:value":b[1]||(b[1]=y=>t.record_text=y),type:"textarea",autosize:{minRows:3},maxlength:"2000","show-count":"",clearable:"",placeholder:"请填写资料描述"},null,8,["value"])]),_:1}),T(P(Ve),{label:"对用户",path:"hidden"},{default:F(()=>[T(P(Bc),{value:t.hidden,"onUpdate:value":b[2]||(b[2]=y=>t.hidden=y),size:"large"},{checked:F(()=>b[5]||(b[5]=[ye("显示")])),unchecked:F(()=>b[6]||(b[6]=[ye("隐藏")])),_:1},8,["value"])]),_:1}),T(P(Ve),{label:"资料",path:"record_json"},{default:F(()=>[T(Fo,{value:t.record_json,"onUpdate:value":b[3]||(b[3]=y=>t.record_json=y),"default-file-list":t.record_json,title:"上传资料"},null,8,["value","default-file-list"])]),_:1}),T(P(at),{size:16,justify:"end"},{default:F(()=>[T(P(Re),{onClick:u},{default:F(()=>b[7]||(b[7]=[ye("关闭")])),_:1}),T(P(Re),{type:"primary",onClick:d},{default:F(()=>b[8]||(b[8]=[ye("提交")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["show"])}}}),zg={key:0},Fg={key:1},qg={key:2},Ug=we({name:"EnterpriseCasePayment",__name:"payment",props:ji({rowData:{}},{visible:{type:Boolean,default:!1},visibleModifiers:{}}),emits:["update:visible"],setup(e){const a=gn(e,"visible"),{formRef:i,validate:t,restoreValidation:n}=ei(),{defaultRequiredRule:h}=Qn(),o=ct(l());function l(){return{id:0,amount:null,service_files:[],service_description:"",enterprise_payment_channel_id:null}}const s={amount:h,enterprise_payment_channel_id:h},p=yn(),f=te([]);function v(){Object.assign(o,l())}function u(){a.value=!1}async function d(){await t();const{error:b,data:g}=await Zu();b||(f.value=g.options)}async function _(){await t(),await p.caseBalanceOrderSave({...o,id:p.detail.id,type:p.type}),p.setOrderReload(!0)}return Ke(a,()=>{a.value&&(v(),n(),d())}),(b,g)=>{const y=Ne("NModal");return X(),_e(y,{show:a.value,"onUpdate:show":g[4]||(g[4]=c=>a.value=c),preset:"card",class:"page-modal",title:"收款","block-scroll":!0,"mask-closable":!1,style:{width:"380px",backgroundColor:"#f9f9f9"}},{default:F(()=>[T(P(Ja),{title:"提示",type:"warning",class:"mb-4"},{default:F(()=>[T(P(at),{class:"page-space"},{default:F(()=>[P(p).type===3?(X(),ie("div",zg,"该操作会生成尾款订单，可以多次收尾款，提交收款说明将转财务审核")):Me("",!0),P(p).type===6?(X(),ie("div",Fg,"该操作会生成律师收款订单，可以多次补充律师收费，提交收款说明将转财务审核")):Me("",!0),P(p).type===7?(X(),ie("div",qg,"该操作会生成诉讼指导费订单，可以多次补充诉讼收费，提交收款说明将转财务审核")):Me("",!0)]),_:1})]),_:1}),T(P(Ut),{ref_key:"formRef",ref:i,model:o,rules:s},{default:F(()=>[T(P(Ve),{label:"收款渠道",path:"enterprise_payment_channel_id"},{default:F(()=>[T(P(Xn),{value:o.enterprise_payment_channel_id,"onUpdate:value":g[0]||(g[0]=c=>o.enterprise_payment_channel_id=c),options:f.value,placeholder:"请选择收款渠道"},null,8,["value","options"])]),_:1}),T(P(Ve),{label:"收款金额",path:"amount"},{default:F(()=>[T(P(Je),{value:o.amount,"onUpdate:value":g[1]||(g[1]=c=>o.amount=c),clearable:"",placeholder:"请填写收款金额"},null,8,["value"])]),_:1}),T(P(Ve),{label:"收款说明",path:"service_description"},{default:F(()=>[T(P(Je),{value:o.service_description,"onUpdate:value":g[2]||(g[2]=c=>o.service_description=c),type:"textarea",autosize:{minRows:3},maxlength:"200","show-count":"",clearable:"",placeholder:"请填写收款说明"},null,8,["value"])]),_:1}),T(P(Ve),{label:"收款凭证",path:"service_files"},{default:F(()=>[T(Fo,{value:o.service_files,"onUpdate:value":g[3]||(g[3]=c=>o.service_files=c),"default-file-list":o.service_files,title:"上传收款凭证"},null,8,["value","default-file-list"])]),_:1}),T(P(at),{size:16,justify:"end"},{default:F(()=>[T(P(Re),{onClick:u},{default:F(()=>g[5]||(g[5]=[ye("关闭")])),_:1}),T(P(Re),{type:"primary",onClick:_},{default:F(()=>g[6]||(g[6]=[ye("提交")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["show"])}}});const Hg=rt(Ug,[["__scopeId","data-v-68123ed3"]]),Vg=we({name:"EnterpriseCaseSupervise",__name:"transfer",props:{visible:{type:Boolean,default:!1},visibleModifiers:{}},emits:["update:visible"],setup(e){const a=gn(e,"visible"),{formRef:i,validate:t,restoreValidation:n}=ei(),{defaultRequiredRule:h}=Qn(),o=te([]),l=ct(s());function s(){return{enterprise_department_id:null,remark:null}}const p={enterprise_department_id:h,remark:h},f=yn();function v(){Object.assign(l,s(),{id:0})}function u(){a.value=!1}async function d(){const{error:b,data:g}=await Yu({code:"supervise"});b||(o.value=g.options)}async function _(){await t(),f.caseSuperviseSave({...l,id:f.detail.id})}return Ke(a,()=>{a.value&&(v(),n(),d())}),(b,g)=>{const y=Ne("NModal");return X(),_e(y,{show:a.value,"onUpdate:show":g[2]||(g[2]=c=>a.value=c),preset:"card",class:"page-modal",title:"转交督查","block-scroll":!0,"mask-closable":!1,style:{width:"380px",backgroundColor:"#f9f9f9"}},{default:F(()=>[T(P(Ut),{ref_key:"formRef",ref:i,model:l,rules:p},{default:F(()=>[T(P(Ve),{label:"督查组",path:"enterprise_department_id"},{default:F(()=>[T(P(Xn),{value:l.enterprise_department_id,"onUpdate:value":g[0]||(g[0]=c=>l.enterprise_department_id=c),options:o.value,clearable:"",placeholder:"请选择分配督查组"},null,8,["value","options"])]),_:1}),T(P(Ve),{label:"备注",path:"remark"},{default:F(()=>[T(P(Je),{value:l.remark,"onUpdate:value":g[1]||(g[1]=c=>l.remark=c),type:"textarea",maxlength:"200","show-count":"",clearable:"",placeholder:"请填写备注信息"},null,8,["value"])]),_:1}),T(P(at),{size:16,justify:"end"},{default:F(()=>[T(P(Re),{onClick:u},{default:F(()=>g[3]||(g[3]=[ye("关闭")])),_:1}),T(P(Re),{type:"primary",onClick:_},{default:F(()=>g[4]||(g[4]=[ye("提交")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["show"])}}}),Wg=we({name:"EnterpriseCaseClose",__name:"close",props:{visible:{type:Boolean,default:!1},visibleModifiers:{}},emits:["update:visible"],setup(e){const a=gn(e,"visible"),{formRef:i,validate:t,restoreValidation:n}=ei(),{defaultRequiredRule:h}=Qn(),o=ct(l());function l(){return{retrieve_amount:null,contract_id:null}}const s={retrieve_amount:h,contract_id:h},p=te([]),f=yn();function v(){Object.assign(o,l(),{id:0})}function u(){a.value=!1}async function d(){await t(),f.caseCloseSave({...o,id:f.detail.id})}async function _(){const{error:b,data:g}=await Ua();b||(p.value=g.options)}return Ke(a,()=>{a.value&&(v(),n(),_())}),(b,g)=>{const y=Ne("NModal");return X(),_e(y,{show:a.value,"onUpdate:show":g[2]||(g[2]=c=>a.value=c),preset:"card",class:"page-modal",title:"转交结案","block-scroll":!0,"mask-closable":!1,style:{width:"380px",backgroundColor:"#f9f9f9"}},{default:F(()=>[T(P(Ut),{ref_key:"formRef",ref:i,model:o,rules:s},{default:F(()=>[T(P(Ve),{label:"挽回金额",path:"retrieve_amount"},{default:F(()=>[T(P(Je),{value:o.retrieve_amount,"onUpdate:value":g[0]||(g[0]=c=>o.retrieve_amount=c),clearable:"",placeholder:"请填写挽回金额"},null,8,["value"])]),_:1}),T(P(Ve),{label:"适用合同",path:"contract_id"},{default:F(()=>[T(P(Xn),{value:o.contract_id,"onUpdate:value":g[1]||(g[1]=c=>o.contract_id=c),options:p.value,filterable:"",clearable:"",placeholder:"请选择适用合同"},null,8,["value","options"])]),_:1}),T(P(at),{size:16,justify:"end"},{default:F(()=>[T(P(Re),{onClick:u},{default:F(()=>g[3]||(g[3]=[ye("关闭")])),_:1}),T(P(Re),{type:"primary",onClick:d},{default:F(()=>g[4]||(g[4]=[ye("提交")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["show"])}}}),Gg=we({name:"EnterpriseCaseTransferRefund",__name:"refund",props:{visible:{type:Boolean,default:!1},visibleModifiers:{}},emits:["update:visible"],setup(e){const a=gn(e,"visible"),{formRef:i,validate:t,restoreValidation:n}=ei(),{defaultRequiredRule:h}=Qn(),o=ct(s()),l=yn();function s(){return{amount:null,payment_total_amount:null,contract_id:null,card_number:null,bank_name:null}}const p={amount:h,payment_total_amount:h,contract_id:h,card_number:h,bank_name:h},f=te([]);function v(){Object.assign(o,s(),{id:0})}function u(){a.value=!1}async function d(){await t(),l.caseCaseRefund({...o,id:l.transferDetail.id,enterprise_case_id:l.detail.id})}async function _(){const{error:b,data:g}=await Ua();b||(f.value=g.options)}return Ke(a,()=>{a.value&&(v(),n(),_())}),(b,g)=>{const y=Ne("NModal");return X(),_e(y,{show:a.value,"onUpdate:show":g[5]||(g[5]=c=>a.value=c),preset:"card",class:"page-modal",title:"退费结案","block-scroll":!0,"mask-closable":!1,style:{width:"380px",backgroundColor:"#f9f9f9"}},{default:F(()=>[P(l).transferDetail.status===6?(X(),_e(P(Ja),{key:0,title:"拒绝原因",type:"warning","show-icon":!1,class:"mb-4"},{default:F(()=>[T(P(at),{class:"page-space"},{default:F(()=>[N("div",null,de(P(l).transferDetail.audit_remark),1)]),_:1})]),_:1})):Me("",!0),T(P(Ut),{ref_key:"formRef",ref:i,model:o,rules:p},{default:F(()=>[T(P(Ve),{label:"客户付款金额（包含扣税金额）",path:"payment_total_amount"},{default:F(()=>[T(P(Je),{value:o.payment_total_amount,"onUpdate:value":g[0]||(g[0]=c=>o.payment_total_amount=c),clearable:"",placeholder:"请填写客户付款金额"},null,8,["value"])]),_:1}),T(P(Ve),{label:"退费金额",path:"amount"},{default:F(()=>[T(P(Je),{value:o.amount,"onUpdate:value":g[1]||(g[1]=c=>o.amount=c),clearable:"",placeholder:"请填写退费金额"},null,8,["value"])]),_:1}),T(P(Ve),{label:"退费卡号",path:"card_number"},{default:F(()=>[T(P(Je),{value:o.card_number,"onUpdate:value":g[2]||(g[2]=c=>o.card_number=c),clearable:"",placeholder:"请填写退费卡号"},null,8,["value"])]),_:1}),T(P(Ve),{label:"开户支行",path:"bank_name"},{default:F(()=>[T(P(Je),{value:o.bank_name,"onUpdate:value":g[3]||(g[3]=c=>o.bank_name=c),clearable:"",placeholder:"请填写开户支行"},null,8,["value"])]),_:1}),T(P(Ve),{label:"适用合同",path:"contract_id"},{default:F(()=>[T(P(Xn),{value:o.contract_id,"onUpdate:value":g[4]||(g[4]=c=>o.contract_id=c),options:f.value,filterable:"",clearable:"",placeholder:"请选择适用合同"},null,8,["value","options"])]),_:1}),T(P(at),{size:16,justify:"end"},{default:F(()=>[T(P(Re),{onClick:u},{default:F(()=>g[6]||(g[6]=[ye("关闭")])),_:1}),T(P(Re),{type:"primary",onClick:d},{default:F(()=>g[7]||(g[7]=[ye("提交")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["show"])}}}),Kg={class:"page-main"},Zg={class:"page-main-top"},Yg={class:"text-center"},Xg={class:"mb-1"},Jg=we({name:"EnterpriseCaseOrderPaymentCode",__name:"payment-code",props:ji({rowData:{}},{visible:{type:Boolean,default:!1},visibleModifiers:{}}),emits:["update:visible"],setup(e){const a=e,i=gn(e,"visible"),t=te("");return Ke(i,()=>{var n;i.value&&(t.value=`https://huifu.yuesutech.com/?code=${(n=a.rowData)==null?void 0:n.out_trade_no}`)}),(n,h)=>(X(),_e(P(qt),{show:i.value,"onUpdate:show":h[0]||(h[0]=o=>i.value=o),"display-directive":"show"},{default:F(()=>[T(P($i),{class:"page-card",bordered:!1,size:"small",role:"dialog","aria-modal":"true"},{default:F(()=>[T(P(Zt),{cols:"8","x-gap":"12","item-responsive":"",responsive:"screen"},{default:F(()=>[T(P(it),{span:"8 m:8 l:8"},{default:F(()=>{var o;return[N("div",Kg,[N("div",Zg,[h[1]||(h[1]=N("div",{class:"text-center"},[N("h2",{class:"text-2xl font-bold"},"手机扫描二维码支付"),N("p",{class:""},"请在手机上打开微信或支付宝扫码支付")],-1)),N("div",Yg,[N("p",Xg,de((o=a.rowData)==null?void 0:o.out_trade_no),1)])]),T(P(af),{class:"n-qr-code",size:235,value:t.value,"icon-src":"https://yuesu.oss-cn-beijing.aliyuncs.com/files/huifilogo.png",type:"svg","icon-size":32,"error-correction-level":"H"},null,8,["value"])])]}),_:1})]),_:1})]),_:1})]),_:1},8,["show"]))}});const Qg=rt(Jg,[["__scopeId","data-v-f2c17124"]]),ey={class:"page-main"},ty={class:"page-main-card"},ny={class:"page-main-card-top"},iy={key:0,class:"page-main-operate"},ry={class:"page-main-card-main"},oy={class:"page-main-card-main-tag"},ay={class:"page-main-card-main-tag-span"},ly={class:"page-main-list"},sy={class:"page-main-li-top"},uy={class:"page-main-li-top-right"},cy={class:"page-main-li-main"},dy={class:"page-main-li-main-dl"},fy={class:"page-main-li-main-dd"},hy={class:"page-main-li-main-dl"},vy={key:0,class:"page-main-li-main-dd page-main-li-main-tag page-main-li-c1"},py={key:1,class:"page-main-li-main-dd page-main-li-main-tag page-main-li-c2"},my={key:0,class:"page-main-li-main-dl"},gy={key:1,class:"page-main-li-main-dl"},yy={class:"page-main-li-main-dd"},by={class:"page-main-list"},_y={class:"page-main-dl"},wy={class:"page-main-dd"},ky={class:"page-main-dl"},xy={class:"page-main-dd"},Cy={class:"page-main-dl"},Sy={class:"page-main-dd"},Oy={class:"page-main-dl"},Ey={class:"page-main-dd"},Ty={class:"page-card-li page-card-li-a"},Ry={class:"page-card-li-mian"},Ay={class:"page-card-li page-card-li-b"},Py={class:"page-card-li-mian"},My={class:"page-card-li page-card-li-c"},Ly={class:"page-card-li-mian"},Ny={class:"page-card-li page-card-li-d"},Iy={class:"page-card-li-mian"},$y={class:"page-main-dl"},jy={class:"page-main-dd"},By={class:"page-main-dl"},Dy={class:"page-main-dd"},zy={class:"page-main-dl"},Fy={class:"page-main-dd"},qy={class:"page-main-dl"},Uy={class:"page-main-dd"},Hy={class:"page-main-dl"},Vy={class:"page-main-dd"},Wy={class:"page-main-dl"},Gy={class:"page-main-dd"},Ky={class:"page-main-dl"},Zy={class:"page-main-dd"},Yy={class:"page-main-dl"},Xy={class:"page-main-dd"},Jy={class:"page-main"},Qy={class:"page-main-card"},e1={class:"page-li-foot"},t1=we({name:"EnterpriseCaseDetail",__name:"Detail",props:ji({gid:{}},{visible:{type:Boolean,default:!1},visibleModifiers:{}}),emits:["update:visible"],setup(e){const a=e,i=gn(e,"visible"),t=yn(),n=Eo(),h=te(!1),o=te([]),l=te({}),s=te(!1);async function p(){let c=[];c.push({label:"补充资料",key:"a",props:{onClick:()=>t.setInformationVisible(!0)}}),c.push({label:"补收尾款",key:"b",props:{onClick:()=>t.setPaymentVisible(!0,3)}}),c.push({label:"律师收费",key:"l",props:{onClick:()=>t.setPaymentVisible(!0,6)}}),c.push({label:"诉讼收费",key:"l",props:{onClick:()=>t.setPaymentVisible(!0,7)}}),(n.roles.includes("enterprise_admin")||n.roles.includes("mediator"))&&(c.push({label:"转交督查",key:"c",props:{onClick:()=>t.setSuperviseVisible(!0)}}),t.detail.status<7&&c.push({label:"交付结案",key:"d",props:{onClick:()=>t.setCloseVisible(!0)}})),n.roles.includes("supervise")&&(await t.getTransferDetail(t.detail.id),t.detail.status===7&&(c.push({label:"撤回调解",key:"e",props:{onClick:()=>{var m;t.transferDetail.id>0?h.value=!0:(m=window.$message)==null||m.error("督查数据不存在")}}}),c.push({label:"退费结案",key:"f",props:{onClick:()=>{var m;t.transferDetail.id>0?t.setRefundVisible(!0):(m=window.$message)==null||m.error("督查数据不存在")}}}))),o.value=c}async function f(){t.caseCaseTransferBack({id:t.detail.id,relation:1})}function v(c){return c?c.split(".").pop().toLowerCase():""}function u(c){const m=["png","jpg","jpeg","gif","bmp","svg","webp","tiff"],r=v(c);return m.includes(r)}const{copy:d,isSupported:_}=Lg();async function b(c){var m,r,w;if(!_){(m=window.$message)==null||m.error("您的浏览器不支持Clipboard API");return}if(!c){(r=window.$message)==null||r.error("请输入要复制的内容");return}await d(c),(w=window.$message)==null||w.success("复制成功")}const g=te(!1);function y(c){l.value=c,s.value=!0}return Ke(g,c=>{c&&(g.value=!1)}),Kn(async()=>{a.gid&&t.visible&&t.getDetail(a.gid)}),Ke(()=>t.detail.code,async c=>{c.length>0&&(await t.getSignList(c),await t.getOrderItems(c),await t.getRecordList(c),await t.getInformationList({code:c,type:1}),p())}),Ke(()=>t.informationReload,async c=>{c&&(await t.getInformationList({code:t.detail.code,type:1}),g.value=!0)}),Ke(()=>t.orderReload,async c=>{c&&await t.getOrderItems(t.detail.code)}),Ke(()=>t.detailReload,async c=>{c&&await t.getDetail(a.gid)}),(c,m)=>(X(),ie(Te,null,[T(P(qt),{show:i.value,"onUpdate:show":m[1]||(m[1]=r=>i.value=r),"display-directive":"show",preset:"card",class:"page-modal",title:"案件详情",style:{width:"1280px",backgroundColor:"#f9f9f9"}},{default:F(()=>[T(P(Zt),{cols:"8","x-gap":"12","item-responsive":"",responsive:"screen"},{default:F(()=>[T(P(it),{span:"8 m:8 l:5"},{default:F(()=>[N("div",ey,[N("div",ty,[N("div",ny,[m[10]||(m[10]=N("div",{class:"page-main-card-top-left"},"案件状态",-1)),P(n).isStaff?(X(),ie("div",iy,[T(P(Co),{trigger:"hover",options:o.value,placement:"bottom-end"},{default:F(()=>[T(P(Re),{type:"info",size:"small"},{default:F(()=>m[9]||(m[9]=[ye(" 操作 ")])),_:1})]),_:1},8,["options"])])):Me("",!0)]),N("div",ry,[T(P(at),null,{default:F(()=>{var r;return[N("div",oy,[T(P(fo),{dot:"",type:"warning"}),N("span",ay,de((r=P(t).detail)==null?void 0:r.status_txt),1)])]}),_:1}),T(P(Dn)),N("div",ly,[(X(!0),ie(Te,null,Ge(P(t).signList,(r,w)=>(X(),ie("div",{key:w,class:"page-main-li"},[N("div",sy,[m[12]||(m[12]=N("div",{class:"page-main-li-top-left"},"签约信息",-1)),N("div",uy,[T(P(Re),{size:"small",type:"info",tag:"a",target:"_blank",rel:"noopener noreferrer",href:r.signature_url},{default:F(()=>m[11]||(m[11]=[ye(" 合同 ")])),_:2},1032,["href"])])]),N("div",cy,[N("div",dy,[m[13]||(m[13]=N("div",{class:"page-main-li-main-dt"},"合同名称：",-1)),N("div",fy,de(r.contract_name),1)]),N("div",hy,[m[14]||(m[14]=N("div",{class:"page-main-li-main-dt"},"签约状态：",-1)),r.status==1?(X(),ie("div",vy,de(r.status_txt),1)):Me("",!0),r.status==2?(X(),ie("div",py,de(r.status_txt),1)):Me("",!0)]),r.status==2?(X(),ie("div",my,[m[15]||(m[15]=N("div",{class:"page-main-li-main-dt"},"签字内容：",-1)),T(P(Vn),{class:"page-image",src:r.signature_file},null,8,["src"])])):Me("",!0),r.status==2?(X(),ie("div",gy,[m[16]||(m[16]=N("div",{class:"page-main-li-main-dt"},"签约时间：",-1)),N("div",yy,de(r.created_at),1)])):Me("",!0)])]))),128))]),T(P(Dn)),N("div",by,[m[19]||(m[19]=N("div",{class:"page-main-li-top"},[N("div",{class:"page-main-li-top-left"},"订单信息")],-1)),T(P(bf),{striped:"",bordered:!0,"single-line":!1,class:"page-main-li-main-table"},{default:F(()=>[m[18]||(m[18]=N("thead",null,[N("tr",null,[N("th",null,"类型"),N("th",null,"渠道"),N("th",null,"凭证"),N("th",null,"金额"),N("th",null,"状态"),N("th",null,"时间"),N("th",null,"操作")])],-1)),N("tbody",null,[(X(!0),ie(Te,null,Ge(P(t).orderItems,(r,w)=>(X(),ie("tr",{key:w},[N("td",null,de(r.type_txt),1),N("td",null,de(r.enterprise_payment_channel_name),1),N("td",null,[(X(!0),ie(Te,null,Ge(r.service_files,(O,C)=>(X(),_e(P(Vn),{key:C,class:"page-order-image",src:O.path},null,8,["src"]))),128))]),N("td",null,de(r.amount),1),N("td",null,de(r.status_txt),1),N("td",null,de(r.created_at),1),N("td",null,[r.payment_method===1&&r.status===1?(X(),_e(P(Re),{key:0,type:"primary",text:"",tag:"a",size:"small",onClick:()=>y(r)},{default:F(()=>m[17]||(m[17]=[ye(" 收款码 ")])),_:2},1032,["onClick"])):Me("",!0)])]))),128))])]),_:1})]),T(P(Dn)),T(P(Zt),{"x-gap":"12","y-gap":"16",cols:4},{default:F(()=>[T(P(it),{span:"4"},{default:F(()=>{var r;return[N("div",_y,[m[21]||(m[21]=N("div",{class:"page-main-dt"},"案件编号：",-1)),N("div",wy,[N("div",null,de((r=P(t).detail)==null?void 0:r.serial_no),1),T(P(Re),{type:"info",size:"small",class:"copy",onClick:m[0]||(m[0]=()=>{var w;return b((w=P(t).detail)==null?void 0:w.serial_no)})},{default:F(()=>m[20]||(m[20]=[ye(" 复制 ")])),_:1})])])]}),_:1}),T(P(it),{span:"4"},{default:F(()=>{var r;return[N("div",ky,[m[22]||(m[22]=N("div",{class:"page-main-dt"},"客户姓名：",-1)),N("div",xy,de((r=P(t).detail)==null?void 0:r.real_name),1)])]}),_:1}),T(P(it),{span:"4"},{default:F(()=>{var r;return[N("div",Cy,[m[23]||(m[23]=N("div",{class:"page-main-dt"},"客户电话：",-1)),N("div",Sy,de((r=P(t).detail)==null?void 0:r.mobile),1)])]}),_:1}),T(P(it),{span:"4"},{default:F(()=>{var r;return[N("div",Oy,[m[24]||(m[24]=N("div",{class:"page-main-dt"},"身份证号：",-1)),N("div",Ey,de((r=P(t).detail)==null?void 0:r.card_no),1)])]}),_:1})]),_:1}),T(P(Dn)),T(P(Zt),{cols:"s:1 m:2 l:2",responsive:"screen","x-gap":16,"y-gap":16},{default:F(()=>[T(P(it),null,{default:F(()=>{var r;return[N("div",Ty,[m[25]||(m[25]=N("div",{class:"page-card-li-top"},"合同金额",-1)),N("div",Ry,de(Number.parseFloat((r=P(t).detail)==null?void 0:r.contract_amount)),1)])]}),_:1}),T(P(it),null,{default:F(()=>{var r;return[N("div",Ay,[m[26]||(m[26]=N("div",{class:"page-card-li-top"},"服务费金额",-1)),N("div",Py,de(Number.parseFloat((r=P(t).detail)==null?void 0:r.service_amount)),1)])]}),_:1}),T(P(it),null,{default:F(()=>{var r;return[N("div",My,[m[27]||(m[27]=N("div",{class:"page-card-li-top"},"已收款金额",-1)),N("div",Ly,de(Number.parseFloat((r=P(t).detail)==null?void 0:r.amount)),1)])]}),_:1}),T(P(it),null,{default:F(()=>{var r;return[N("div",Ny,[m[28]||(m[28]=N("div",{class:"page-card-li-top"},"待收款金额",-1)),N("div",Iy,de(Number.parseFloat((r=P(t).detail)==null?void 0:r.service_additional_amount)),1)])]}),_:1})]),_:1}),T(P(Dn)),T(P(Zt),{"x-gap":"12","y-gap":"16",cols:4},{default:F(()=>[T(P(it),{span:"4"},{default:F(()=>{var r;return[N("div",$y,[m[29]||(m[29]=N("div",{class:"page-main-dt"},"尾款比例：",-1)),N("div",jy,de((r=P(t).detail)==null?void 0:r.payment_ratio)+"%",1)])]}),_:1}),T(P(it),{span:"4"},{default:F(()=>{var r;return[N("div",By,[m[30]||(m[30]=N("div",{class:"page-main-dt"},"案件所属：",-1)),N("div",Dy,de((r=P(t).detail)==null?void 0:r.enterprise_product_name),1)])]}),_:1}),T(P(it),{span:"4"},{default:F(()=>{var r;return[N("div",zy,[m[31]||(m[31]=N("div",{class:"page-main-dt"},"案件描述：",-1)),N("div",Fy,de((r=P(t).detail)==null?void 0:r.description),1)])]}),_:1}),T(P(it),{span:"4"},{default:F(()=>{var r;return[N("div",qy,[m[32]||(m[32]=N("div",{class:"page-main-dt"},"补充协议：",-1)),N("div",Uy,de((r=P(t).detail)==null?void 0:r.agreed_content),1)])]}),_:1}),T(P(it),{span:"4"},{default:F(()=>{var r;return[N("div",Hy,[m[33]||(m[33]=N("div",{class:"page-main-dt"},"备注信息：",-1)),N("div",Vy,de((r=P(t).detail)==null?void 0:r.remark),1)])]}),_:1})]),_:1}),T(P(Dn)),T(P(Zt),{"x-gap":"12","y-gap":"16",cols:4},{default:F(()=>[T(P(it),{span:"4"},{default:F(()=>{var r;return[N("div",Wy,[m[34]||(m[34]=N("div",{class:"page-main-dt"},"顾问姓名：",-1)),N("div",Gy,de((r=P(t).detail)==null?void 0:r.consultant_real_name),1)])]}),_:1}),T(P(it),{span:"4"},{default:F(()=>{var r;return[N("div",Ky,[m[35]||(m[35]=N("div",{class:"page-main-dt"},"顾问电话：",-1)),N("div",Zy,de((r=P(t).detail)==null?void 0:r.consultant_mobile),1)])]}),_:1}),T(P(it),{span:"4"},{default:F(()=>{var r;return[N("div",Yy,[m[36]||(m[36]=N("div",{class:"page-main-dt"},"顾问部门：",-1)),N("div",Xy,de((r=P(t).detail)==null?void 0:r.enterprise_department_name),1)])]}),_:1})]),_:1})])])])]),_:1}),T(P(it),{span:"8 m:8 l:3"},{default:F(()=>[N("div",Jy,[N("div",Qy,[T(P(Ro),{type:"line",animated:""},{suffix:F(()=>m[37]||(m[37]=[])),default:F(()=>[T(P(fr),{name:"information",tab:"案件资料"},{default:F(()=>[P(t).informationList.length===0?(X(),_e(P(Ai),{key:0,description:P(t).informationTip,class:"page-content-empty"},null,8,["description"])):Me("",!0),(X(!0),ie(Te,null,Ge(P(t).informationList,r=>(X(),_e(P($i),{key:r.id,title:r.name,size:"small",class:"page-content-card"},{footer:F(()=>[N("div",e1,de(r==null?void 0:r.created_at),1)]),action:F(()=>m[39]||(m[39]=[])),default:F(()=>[T(P(at),{vertical:""},{default:F(()=>[N("div",null,de(r.description),1),N("div",null,de(r.record_text),1),r.extra?(X(),_e(P(vr),{key:0,bordered:""},{default:F(()=>[(X(!0),ie(Te,null,Ge(r.extra,(w,O)=>(X(),_e(P(pr),{key:O},{default:F(()=>[T(P(at),{align:"center",justify:"space-between",style:{width:"100%"}},{default:F(()=>[u(w.url||w.path)?(X(),_e(P(Vn),{key:0,class:"page-img",style:{width:"60px",height:"60px","background-color":"#eee",overflow:"hidden"},src:w.url||w.path},null,8,["src"])):Me("",!0),N("div",null,de(w.name||r.name),1),T(P(Re),{size:"small",tag:"a",target:"_blank",rel:"noopener noreferrer",href:`https://view.yuesutech.com?fileUrl=${w.url||w.path}`},{default:F(()=>m[38]||(m[38]=[ye(" 预览 ")])),_:2},1032,["href"])]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)):Me("",!0)]),_:2},1024)]),_:2},1032,["title"]))),128))]),_:1}),T(P(fr),{name:"progress",tab:"案件进度"},{default:F(()=>[P(t).recordList.length===0?(X(),_e(P(Ai),{key:0,description:P(t).recordTip,class:"page-content-empty"},null,8,["description"])):(X(),_e(P(pl),{key:1,class:"page-content-timeline"},{default:F(()=>[(X(!0),ie(Te,null,Ge(P(t).recordList,r=>(X(),_e(P(ml),{key:r.id,type:"info",title:r.title||r.content,time:r.created_at},{default:F(()=>[r.extra?(X(),_e(P(vr),{key:0,bordered:""},{default:F(()=>[(X(!0),ie(Te,null,Ge(r.extra,(w,O)=>(X(),_e(P(pr),{key:O},{default:F(()=>[T(P(at),{align:"center",justify:"space-between",style:{width:"100%"}},{default:F(()=>[u(w.url)?(X(),_e(P(Vn),{key:0,class:"page-img",style:{width:"60px",height:"60px","background-color":"#eee",overflow:"hidden"},src:w.url||w.path},null,8,["src"])):Me("",!0),N("div",null,de(w.content?w.content:w.name||r.title),1),w.content?Me("",!0):(X(),_e(P(Re),{key:1,size:"small",tag:"a",target:"_blank",rel:"noopener noreferrer",href:`https://view.yuesutech.com?fileUrl=${w.url||w.path}`},{default:F(()=>m[40]||(m[40]=[ye(" 预览 ")])),_:2},1032,["href"]))]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)):(X(),_e(P(ul),{key:1,"expand-trigger":"click","line-clamp":"2"},{tooltip:F(()=>m[41]||(m[41]=[ye("点击展开")])),default:F(()=>[ye(de(r.content)+" ",1)]),_:2},1024))]),_:2},1032,["title","time"]))),128))]),_:1}))]),_:1})]),_:1})])])]),_:1})]),_:1})]),_:1},8,["show"]),T(Dg,{visible:P(t).informationVisible,"onUpdate:visible":m[2]||(m[2]=r=>P(t).informationVisible=r),"operate-type":P(t).informationOperateType},null,8,["visible","operate-type"]),T(Hg,{visible:P(t).paymentVisible,"onUpdate:visible":m[3]||(m[3]=r=>P(t).paymentVisible=r)},null,8,["visible"]),T(Vg,{visible:P(t).superviseVisible,"onUpdate:visible":m[4]||(m[4]=r=>P(t).superviseVisible=r)},null,8,["visible"]),T(Wg,{visible:P(t).closeVisible,"onUpdate:visible":m[5]||(m[5]=r=>P(t).closeVisible=r)},null,8,["visible"]),T(Gg,{visible:P(t).refundVisible,"onUpdate:visible":m[6]||(m[6]=r=>P(t).refundVisible=r)},null,8,["visible"]),T(Qg,{visible:s.value,"onUpdate:visible":m[7]||(m[7]=r=>s.value=r),"row-data":l.value},null,8,["visible","row-data"]),T(P(qt),{show:h.value,"onUpdate:show":m[8]||(m[8]=r=>h.value=r),preset:"dialog",title:"提示",content:"你确认要将该案件撤回给调解?","positive-text":"确认","negative-text":"算了",onPositiveClick:f},null,8,["show"])],64))}});const n1=rt(t1,[["__scopeId","data-v-f6eac63c"]]),i1={id:"drawer-container",class:"el-container is-vertical"},r1={class:"el-header bdr-b"},o1={class:"el-main"},a1={class:"el-footer",style:{height:"200px"}},l1=we({__name:"IndexContent",setup(e){const a=Eo(),i=Nt(),t=Po(),n=yn(),h=fe(()=>i.members),o=fe(()=>i.isShowEditor),l=ct({uid:fe(()=>a.uid),index_name:fe(()=>i.index_name),type:fe(()=>i.talk.talk_type),receiver_id:fe(()=>i.talk.receiver_id),username:fe(()=>i.talk.username),online:fe(()=>i.online),keyboard:fe(()=>i.keyboard),num:fe(()=>i.members.length)}),s=ct({isShowGroupAside:!1,isShowGroupNotice:!1}),p={notice:()=>{s.isShowGroupNotice=!s.isShowGroupNotice},group:()=>{s.isShowGroupAside=!s.isShowGroupAside},caseDetail:()=>{n.setVisible(!0)}},f=te([]),v=d=>{p[d]&&p[d]()},u=async()=>{const d=await Ha();d.code===200&&(f.value=d.data.options)};return wt(()=>{u()}),(d,_)=>{const b=Oo("dropsize");return X(),ie(Te,null,[N("section",i1,[N("header",r1,[T(Oh,{type:l.type,username:l.username,online:l.online,keyboard:l.keyboard,num:l.num,status:P(i).talk.case_status,options:f.value,onEvnet:v},null,8,["type","username","online","keyboard","num","status","options"])]),N("main",o1,[T(Yh,{uid:l.uid,talk_type:l.type,receiver_id:l.receiver_id,index_name:l.index_name,options:f.value},null,8,["uid","talk_type","receiver_id","index_name","options"])]),De((X(),ie("footer",a1,[T(Qm,{uid:l.uid,index_name:l.index_name,talk_type:l.type,receiver_id:l.receiver_id,online:l.online,members:h.value},null,8,["uid","index_name","talk_type","receiver_id","online","members"])])),[[je,o.value],[b,{min:200,max:600,direction:"top",key:"editor"}]])]),T(P(rr),{show:P(t).isShow,"onUpdate:show":_[0]||(_[0]=g=>P(t).isShow=g),width:400,placement:"right","trap-focus":!1,"block-scroll":!1,"show-mask":"transparent",to:"#drawer-container"},{default:F(()=>[T(Cg)]),_:1},8,["show"]),T(P(rr),{show:s.isShowGroupNotice,"onUpdate:show":_[2]||(_[2]=g=>s.isShowGroupNotice=g),width:400,placement:"right","trap-focus":!1,"block-scroll":!1,"show-mask":"transparent",to:"#drawer-container"},{default:F(()=>[T(hg,{"group-id":l.receiver_id,onClose:_[1]||(_[1]=g=>s.isShowGroupNotice=!1)},null,8,["group-id"])]),_:1},8,["show"]),T(P(rr),{show:s.isShowGroupAside,"onUpdate:show":_[4]||(_[4]=g=>s.isShowGroupAside=g),width:400,placement:"right","trap-focus":!1,"block-scroll":!1,"show-mask":"transparent",to:"#drawer-container"},{default:F(()=>[T(Lc,{gid:l.receiver_id,onClose:_[3]||(_[3]=g=>s.isShowGroupAside=!1)},null,8,["gid"])]),_:1},8,["show"]),T(n1,{visible:P(n).visible,"onUpdate:visible":_[5]||(_[5]=g=>P(n).visible=g),gid:l.receiver_id},null,8,["visible","gid"])],64)}}});const s1=rt(l1,[["__scopeId","data-v-52f75b4a"]]),Kl=we({name:"Xtime",props:{time:{type:String,default:"2022-03-06 21:20:00"}},setup(e){let a=null;const i=ur(e.time).getTime(),t=te(""),n=()=>{clearTimeout(a),t.value=Xu(e.time),new Date().getTime()-i<30*60*1e3&&(a=setTimeout(n,60*1e3))};return Ke(e,n),kr(()=>{clearTimeout(a)}),n(),()=>V("span",[t.value])}}),u1={class:"avatar-box"},c1={class:"content-box"},d1={class:"header"},f1={class:"title"},h1={class:"nickname"},v1={class:"badge top"},p1={class:"badge roboot"},m1={class:"badge group"},g1={class:"badge top"},y1={class:"datetime"},b1={class:"content"},_1={class:"text"},w1=["innerHTML"],k1={class:"online"},x1=["innerHTML"],C1={class:"box"},S1={class:"tip"},O1={key:0,class:"disturb"},E1={key:1,class:"unread"},T1={class:"badge"},R1={key:0,class:"num"},A1=we({__name:"TalkItem",props:{data:{},avatar:{},username:{},active:{},showTotal:{}},emits:["tab-talk","top-talk"],setup(e,{emit:a}){const i=a;return(t,n)=>{const h=Ne("im-avatar"),o=Ne("n-icon");return X(),ie("div",{class:bt(["talk pointer",{actived:t.active}]),onClick:n[1]||(n[1]=l=>i("tab-talk",t.data))},[N("div",u1,[T(h,{src:t.avatar,size:34,username:t.data.name},null,8,["src","username"]),t.data.is_robot?Me("",!0):(X(),ie("div",{key:0,class:"top-mask",onClick:n[0]||(n[0]=Zn(l=>i("top-talk",t.data),["stop"]))},[T(o,{component:t.data.is_top==1?P(No):P(Io)},null,8,["component"])]))]),N("div",c1,[N("div",d1,[N("div",f1,[N("span",h1,de(t.username),1),De(N("span",v1,"顶",512),[[je,t.data.is_top]]),De(N("span",p1,"助",512),[[je,t.data.is_robot]]),De(N("span",m1,"群",512),[[je,t.data.talk_type==2]]),De(N("span",g1,"v2",512),[[je,t.data.is_v2]])]),N("div",y1,[T(Kl,{time:t.data.updated_at},null,8,["time"])])]),N("div",b1,[N("div",_1,[!t.active&&t.data.draft_text?(X(),ie(Te,{key:0},[n[2]||(n[2]=N("span",{class:"draft"},"[草稿]",-1)),N("span",{class:"detail",innerHTML:t.data.draft_text},null,8,w1)],64)):(X(),ie(Te,{key:1},[De(N("span",k1," [在线] ",512),[[je,t.data.talk_type==1&&t.data.is_online==1]]),N("span",{class:"detail",innerHTML:t.data.msg_text},null,8,x1)],64))]),N("div",C1,[N("div",S1,[t.data.is_disturb?(X(),ie("div",O1,[T(o,{component:P($o)},null,8,["component"])])):De((X(),ie("div",E1,[N("span",T1,de(t.data.unread_num>99?"99+":t.data.unread_num),1)],512)),[[je,t.data.unread_num]])]),t.showTotal?(X(),ie("div",R1,de(t.data.service_ratio),1)):Me("",!0)])])])],2)}}});const Ea=rt(A1,[["__scopeId","data-v-a699bc04"]]),P1={class:"avatar"},M1={class:"content"},L1=we({__name:"Skeleton",setup(e){return(a,i)=>(X(),ie(Te,null,Ge(10,t=>N("div",{class:"skeleton flex-center",key:t},[N("div",P1,[T(P(to),{circle:"",size:"medium"})]),N("div",M1,[T(P(to),{text:"",repeat:1}),T(P(to),{text:"",style:{width:"60%"}})])])),64))}});const ro=rt(L1,[["__scopeId","data-v-6c2c7018"]]),N1=["id"],I1={class:"avatar-box"},$1={class:"content-box"},j1={class:"header"},B1={class:"title"},D1={class:"nickname"},z1={class:"badge top"},F1={class:"badge roboot"},q1={class:"badge group"},U1={class:"datetime"},H1={class:"content"},V1={class:"text"},W1=["innerHTML"],G1={class:"online"},K1=["innerHTML"],Z1={class:"tip"},Y1={key:0,class:"disturb"},X1={key:1,class:"unread"},J1={class:"badge"},Q1=we({__name:"TalkItem",props:{data:{},avatar:{},username:{},active:{}},emits:["tab-talk","top-talk"],setup(e,{emit:a}){const i=a;return(t,n)=>{const h=Ne("im-avatar"),o=Ne("n-icon");return X(),ie("div",{class:bt(["talk pointer",{actived:t.active}]),id:String(t.data.id),onClick:n[1]||(n[1]=l=>i("tab-talk",t.data))},[N("div",I1,[T(h,{src:t.avatar,size:34,username:t.data.name},null,8,["src","username"]),N("div",{class:"top-mask",onClick:n[0]||(n[0]=Zn(l=>i("top-talk",t.data),["stop"]))},[T(o,{component:t.data.is_top==1?P(No):P(Io)},null,8,["component"])])]),N("div",$1,[N("div",j1,[N("div",B1,[N("span",D1,de(t.username),1),De(N("span",z1,"顶",512),[[je,t.data.is_top]]),De(N("span",F1,"助",512),[[je,t.data.is_robot]]),De(N("span",q1,"群",512),[[je,t.data.talk_type==2]])]),N("div",U1,[T(Kl,{time:t.data.updated_at},null,8,["time"])])]),N("div",H1,[N("div",V1,[!t.active&&t.data.draft_text?(X(),ie(Te,{key:0},[n[2]||(n[2]=N("span",{class:"draft"},"[草稿]",-1)),N("span",{class:"detail",innerHTML:t.data.draft_text},null,8,W1)],64)):(X(),ie(Te,{key:1},[De(N("span",G1," [在线] ",512),[[je,t.data.talk_type==1&&t.data.is_online==1]]),N("span",{class:"detail",innerHTML:t.data.msg_text},null,8,K1)],64))]),N("div",Z1,[t.data.is_disturb?(X(),ie("div",Y1,[T(o,{component:P($o)},null,8,["component"])])):De((X(),ie("div",X1,[N("span",J1,de(t.data.unread_num>99?"99+":t.data.unread_num),1)],512)),[[je,t.data.unread_num]])])])])],10,N1)}}});const e0=rt(Q1,[["__scopeId","data-v-6308ca59"]]),t0={class:"main-box el-container is-vertical o-hidden"},n0={class:"el-header bdr-b search"},i0={class:"search-input"},r0={key:0,class:"el-main me-scrollbar me-scrollbar-thumb"},o0={class:"page-talk-main-box"},a0={class:"page-talk-main"},l0={key:0,class:"el-main flex-center"},s0={key:1,class:"el-main page-talk-main-box"},u0={key:0,class:"page-card-main"},c0={class:"page-li-foot"},d0={key:1},f0={class:"left-box"},h0={class:"right-box me-scrollbar"},v0={class:"msg-header"},p0={class:"name"},m0={class:"time"},g0={key:0,class:"msg-content"},y0={key:1,class:"el-main flex-center"},b0=we({__name:"SearchRecord",props:{talkType:{type:Number,default:0},receiverId:{type:Number,default:0}},emits:["close","locate"],setup(e,{emit:a}){const i=a,{showUserInfoModal:t}=To(),n=ct({cursor:0,limit:30,type:0,msgType:0,loading:!1,loadMore:!1,isLoadMore:!1,keyword:null}),h=te(!0),o=te([]),l=te([]),s=te(),p=te(.4),f=te(0),v=[{name:"搜消息",type:0},{name:"搜资料",type:1}];function u(r){return r?r.split(".").pop().toLowerCase():""}function d(r){const w=["png","jpg","jpeg","gif","bmp","svg","webp","tiff"],O=u(r);return w.includes(O)}const _=()=>{i("close")},b=()=>{Ju({keyword:n.keyword,type:n.type}).then(r=>{r.code==200?l.value=r.data.items:l.value=[]})},g=r=>{n.keyword=r,n.cursor=0,n.loading=!1,f.value=0,o.value=[],b()},y=r=>{switch(f.value=r.id,s.value=r,n.type){case 1:{let w={keyword:n.keyword,enterprise_case_id:s.value.enterprise_case_id};n.cursor===0?n.loading=!0:n.loadMore=!0,ec(w).then(O=>{if(O.code!=200)return;let C=O.data.records||[];C.length&&(n.cursor=O.data.cursor),n.loading=!1,n.loadMore=!1,n.isLoadMore=C.length>=n.limit,o.value=C})}break;default:{let w={talk_type:r.talk_type,receiver_id:r.receiver_id,msg_type:n.msgType,cursor:n.cursor,limit:n.limit,keyword:n.keyword};n.cursor===0?n.loading=!0:n.loadMore=!0,Qu(w).then(O=>{if(O.code!=200)return;w.cursor===0&&(o.value=[]);let C=O.data.items||[];C.length&&(n.cursor=O.data.cursor),n.loading=!1,n.loadMore=!1,n.isLoadMore=C.length>=n.limit,o.value=C})}}},c=r=>{s.value&&i("locate",s.value,r)},m=r=>{n.type=r,n.cursor=0,o.value=[]};return(r,w)=>{const O=Ne("n-icon"),C=Ne("n-input"),L=Ne("NListItem"),A=Ne("NList"),S=Ne("im-avatar"),k=Ne("n-empty"),E=Ne("n-modal");return X(),_e(E,{show:h.value,"onUpdate:show":w[3]||(w[3]=R=>h.value=R),preset:"card",title:"全站检索",style:{"max-width":"950px"},class:"modal-radius","on-after-leave":_,segmented:{content:!0},"header-style":{padding:"20px 15px"},"content-style":{padding:"0 0 10px"}},{default:F(()=>[N("section",t0,[N("header",n0,[T(P(Wa),{value:n.type,"onUpdate:value":w[0]||(w[0]=R=>n.type=R)},{default:F(()=>[(X(),ie(Te,null,Ge(v,R=>T(P(sl),{key:R.type,value:R.type,onClick:B=>m(R.type)},{default:F(()=>[ye(de(R.name),1)]),_:2},1032,["value","onClick"])),64))]),_:1},8,["value"]),N("div",i0,[T(C,{placeholder:"搜索关键字",value:n.keyword,"onUpdate:value":w[1]||(w[1]=R=>n.keyword=R),clearable:"",onClear:g},{prefix:F(()=>[T(O,{component:P(kl)},null,8,["component"])]),_:1},8,["value"])]),T(P(Re),{type:"primary",onClick:b,style:{"margin-left":"10px"}},{default:F(()=>w[4]||(w[4]=[ye(" 搜索 ")])),_:1})]),l.value.length>0?(X(),ie("main",r0,[T(P(mf),{direction:"horizontal",max:.75,min:.25,size:p.value,"onUpdate:size":w[2]||(w[2]=R=>p.value=R)},{1:F(()=>[N("div",o0,[N("div",a0,[(X(!0),ie(Te,null,Ge(l.value,R=>(X(),_e(e0,{key:R.id,data:R,avatar:R.avatar,username:R.remark||R.name,active:R.id==f.value,onTabTalk:y},null,8,["data","avatar","username","active"]))),128))])])]),2:F(()=>[n.loading?(X(),ie("main",l0,[T(Ao)])):(X(),ie("main",s0,[n.type===1?(X(),ie("div",u0,[(X(!0),ie(Te,null,Ge(o.value,R=>(X(),_e(P($i),{key:R.id,title:R.name,size:"small",class:"page-content-card"},{footer:F(()=>[N("div",c0,de(R==null?void 0:R.created_at),1)]),action:F(()=>w[6]||(w[6]=[])),default:F(()=>[T(P(at),{vertical:""},{default:F(()=>[N("div",null,de(R.description),1),N("div",null,de(R.record_text),1),R.extra?(X(),_e(A,{key:0,bordered:""},{default:F(()=>[(X(!0),ie(Te,null,Ge(R.extra,(B,q)=>(X(),_e(L,{key:q},{default:F(()=>[T(P(at),{align:"center",justify:"space-between",style:{width:"100%"}},{default:F(()=>[d(B.url||B.path)?(X(),_e(P(Vn),{key:0,class:"page-img",style:{width:"60px",height:"60px","background-color":"#eee",overflow:"hidden"},src:B.url||B.path},null,8,["src"])):Me("",!0),N("div",null,de(B.name||R.name),1),T(P(Re),{size:"small",tag:"a",target:"_blank",rel:"noopener noreferrer",href:`https://view.yuesutech.com?fileUrl=${B.url||B.path}`},{default:F(()=>w[5]||(w[5]=[ye(" 预览 ")])),_:2},1032,["href"])]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)):Me("",!0)]),_:2},1024)]),_:2},1032,["title"]))),128))])):(X(),ie("div",d0,[(X(!0),ie(Te,null,Ge(o.value,R=>(X(),ie("div",{key:R.avatar,class:"message-item"},[N("div",f0,[T(S,{src:R.avatar,size:30,username:R.nickname,onClick:B=>P(t)(R.user_id)},null,8,["src","username","onClick"])]),N("div",h0,[N("div",v0,[N("span",p0,de(R.nickname),1),N("span",m0,de(R.created_at),1)]),R.is_revoke==1?(X(),ie("div",g0,"此消息已被撤回")):Me("",!0),R.is_revoke==0?(X(),_e(Li(cr[R.msg_type]||"unknown-message"),{key:1,extra:R.extra,data:R,isSearch:!0,patterns:[n.keyword],onClick:B=>c(R==null?void 0:R.msg_id)},null,8,["extra","data","patterns","onClick"])):Me("",!0)])]))),128))]))]))]),_:1},8,["size"])])):(X(),ie("main",y0,[T(k,{size:"200",description:"暂无相关数据"},{icon:F(()=>w[7]||(w[7]=[N("img",{src:Cr,alt:""},null,-1)])),_:1})]))])]),_:1},8,["show"])}}});const _0=rt(b0,[["__scopeId","data-v-1ad6f470"]]),w0={class:"page-main"},k0={class:"page-main-card"},x0={class:"page-title"},C0={key:0,class:"page-remark"},S0={class:"page-foot"},O0={class:"page-foot-left"},E0={class:"page-foot-right"},T0={class:"page-main"},R0={class:"page-main-card"},A0=we({name:"EnterpriseCaseFollow",__name:"Follow",props:ji({item:{}},{visible:{type:Boolean,default:!1},visibleModifiers:{}}),emits:["update:visible"],setup(e){const a=e,i=gn(e,"visible"),t=yn(),n=ct(v()),{formRef:h,validate:o,restoreValidation:l}=ei(),{defaultRequiredRule:s}=Qn(),p={name:s},f=fe(()=>{var b,g,y;return`案件跟进《${((b=a.item)==null?void 0:b.remark)||((g=a.item)==null?void 0:g.title)||((y=a.item)==null?void 0:y.name)}》`});function v(){return{id:null,name:"",record_text:null,record_json:null,reminded_at:null,hidden:0}}function u(){i.value=!1}function d(){Object.assign(n,v(),{id:0})}async function _(){await o(),await t.caseComponentSave({...n,enterprise_case_id:a.item.enterprise_case_id,type:2}),await t.getFollowList({enterprise_case_id:a.item.enterprise_case_id,type:2}),d(),l()}return Ke(i,async()=>{i.value&&(l(),await t.getFollowList({enterprise_case_id:a.item.enterprise_case_id,type:2}))}),(b,g)=>{const y=Ne("NEmpty"),c=Ne("NIcon"),m=Ne("NEllipsis");return X(),_e(P(qt),{show:i.value,"onUpdate:show":g[4]||(g[4]=r=>i.value=r),"display-directive":"show",preset:"card",class:"page-modal",title:f.value,style:{width:"980px",backgroundColor:"#f9f9f9"}},{default:F(()=>[T(P(Zt),{cols:"8","x-gap":"12","item-responsive":"",responsive:"screen"},{default:F(()=>[T(P(it),{span:"8 m:8 l:5"},{default:F(()=>[N("div",w0,[N("div",k0,[P(t).informationList.length===0?(X(),_e(y,{key:0,description:P(t).informationTip,class:"page-content-empty"},null,8,["description"])):Me("",!0),T(P(pl),{class:"page-content-timeline"},{default:F(()=>[(X(!0),ie(Te,null,Ge(P(t).informationList,r=>(X(),_e(P(ml),{key:r.id,type:"info",title:r.name||r.content,time:r.created_at},{header:F(()=>[N("div",x0,de(r.name||r.content),1),r.record_text?(X(),ie("div",C0,de(r.record_text),1)):Me("",!0)]),default:F(()=>[r.extra?(X(),_e(P(vr),{key:0,bordered:""},{default:F(()=>[(X(!0),ie(Te,null,Ge(r.extra,(w,O)=>(X(),_e(P(pr),{key:O},{prefix:F(()=>[T(P(Re),{strong:"",secondary:"",circle:""},{icon:F(()=>[T(c,null,{default:F(()=>[T(P(pa))]),_:1})]),_:1})]),suffix:F(()=>[w.content?Me("",!0):(X(),_e(P(Re),{key:0,size:"small",tag:"a",target:"_blank",rel:"noopener noreferrer",href:`https://view.yuesutech.com?fileUrl=${w.url||w.path}`},{default:F(()=>g[5]||(g[5]=[ye(" 预览 ")])),_:2},1032,["href"]))]),default:F(()=>[ye(" "+de(w.content?w.content:w.name||r.title),1)]),_:2},1024))),128))]),_:2},1024)):Me("",!0),r.content_files&&r.content_files.length>0?(X(),_e(P(vr),{key:1,bordered:""},{default:F(()=>[(X(!0),ie(Te,null,Ge(r.content_files,(w,O)=>(X(),_e(P(pr),{key:O},{prefix:F(()=>[T(P(Re),{strong:"",secondary:"",circle:""},{icon:F(()=>[T(c,null,{default:F(()=>[T(P(pa))]),_:1})]),_:1})]),suffix:F(()=>[T(P(Re),{size:"small",tag:"a",target:"_blank",rel:"noopener noreferrer",href:`https://view.yuesutech.com?fileUrl=${w.path}`},{default:F(()=>g[6]||(g[6]=[ye(" 预览 ")])),_:2},1032,["href"])]),default:F(()=>[ye(" "+de(w.name),1)]),_:2},1024))),128))]),_:2},1024)):(X(),_e(m,{key:2,"expand-trigger":"click","line-clamp":"2"},{tooltip:F(()=>g[7]||(g[7]=[ye("点击展开")])),default:F(()=>[ye(de(r.content)+" ",1)]),_:2},1024))]),footer:F(()=>[N("div",S0,[N("div",O0,"来自："+de(r.real_name),1),N("div",E0,de(r.created_at),1)])]),_:2},1032,["title","time"]))),128))]),_:1})])])]),_:1}),T(P(it),{span:"8 m:8 l:3"},{default:F(()=>[N("div",T0,[N("div",R0,[T(P(Ut),{ref_key:"formRef",ref:h,model:n,rules:p},{default:F(()=>[T(P(Ve),{label:"标题",path:"name"},{default:F(()=>[T(P(Je),{value:n.name,"onUpdate:value":g[0]||(g[0]=r=>n.name=r),clearable:"",placeholder:"请填写跟进标题"},null,8,["value"])]),_:1}),T(P(Ve),{label:"预约时间",path:"reminded_at"},{default:F(()=>[T(P(yc),{value:n.reminded_at,"onUpdate:value":g[1]||(g[1]=r=>n.reminded_at=r),style:{width:"100%"},type:"datetime",clearable:"",placeholder:"请选择预约提醒时间"},null,8,["value"])]),_:1}),T(P(Ve),{label:"描述",path:"record_text"},{default:F(()=>[T(P(Je),{value:n.record_text,"onUpdate:value":g[2]||(g[2]=r=>n.record_text=r),type:"textarea",autosize:{minRows:3},maxlength:"2000","show-count":"",clearable:"",placeholder:"请填写跟进描述"},null,8,["value"])]),_:1}),T(P(Ve),{label:"资料",path:"record_json"},{default:F(()=>[T(Fo,{value:n.record_json,"onUpdate:value":g[3]||(g[3]=r=>n.record_json=r),"default-file-list":n.record_json,title:"上传资料"},null,8,["value","default-file-list"])]),_:1}),T(P(at),{size:16,justify:"end"},{default:F(()=>[T(P(Re),{onClick:u},{default:F(()=>g[8]||(g[8]=[ye("关闭")])),_:1}),T(P(Re),{type:"primary",onClick:_},{default:F(()=>g[9]||(g[9]=[ye("提交")])),_:1})]),_:1})]),_:1},8,["model"])])])]),_:1})]),_:1})]),_:1},8,["show","title"])}}});const P0=rt(A0,[["__scopeId","data-v-dccf999f"]]),M0={class:"page-main"},L0={class:"page-main-card"},N0={class:"page-main-card-main"},I0={class:"page-content-card"},$0={key:0,class:"page-remark"},j0={key:1},B0={class:"sort-item-left"},D0={style:{display:"flex","align-items":"center"}},z0={class:"sort-name"},F0={class:"sort-desc"},q0={class:"sort-item-right"},U0={class:"page-main"},H0={class:"page-main-card"},V0={class:"page-main-card-main"},W0=we({__name:"GroupModal",setup(e){const a=mn(),i=fe(()=>a.groupModalItem),t=fe({get:()=>a.isShowGroupModal,set:_=>{a.showGroupModal(_)}}),n=te(!1),h=te([]),o=te({name:"",description:"",sort:""}),l=te(null),s={name:[{required:!0,message:"请输入分组名称",trigger:["input","blur"]}]},p=async()=>{var b;const _=await ac({group_id:((b=i.value)==null?void 0:b.receiver_id)||0});_.code===200&&(h.value=_.data.items||[])},f=async()=>{var m,r,w;try{await((m=l.value)==null?void 0:m.validate())}catch{return}const _=(r=o.value.name)==null?void 0:r.trim(),b=(w=o.value.description)==null?void 0:w.trim(),g=String(o.value.sort??"").trim(),y={name:_};if(b&&(y.description=b),g){const O=Number(g);Number.isNaN(O)||(y.sort=O)}(await nc(y)).code===200&&(o.value={name:"",description:"",sort:""},await p())},v=async _=>{(await ic({keys:[_]})).code===200&&await p()},u=async _=>{var g;(await rc({group_id:((g=i.value)==null?void 0:g.receiver_id)||0,group_sort_id:_.id})).code===200&&await p()},d=async _=>{var g;(await oc({group_id:((g=i.value)==null?void 0:g.receiver_id)||0,group_sort_id:_.id})).code===200&&await p()};return Ke(()=>a.isShowGroupModal,_=>{_&&p()}),(_,b)=>{var g,y,c,m;return X(),_e(P(qt),{show:t.value,"onUpdate:show":b[3]||(b[3]=r=>t.value=r),"display-directive":"show",preset:"card",class:"page-modal",title:(g=i.value)!=null&&g.remark||(y=i.value)!=null&&y.name?`${((c=i.value)==null?void 0:c.remark)||((m=i.value)==null?void 0:m.name)}-添加群组`:"添加群组",style:{width:"780px",backgroundColor:"#f9f9f9"},closable:""},{default:F(()=>[T(P(Zt),{cols:"8","x-gap":"12","item-responsive":"",responsive:"screen"},{default:F(()=>[T(P(it),{span:"8 m:8 l:5"},{default:F(()=>[N("div",M0,[N("div",L0,[N("div",N0,[b[8]||(b[8]=N("div",{class:"page-main-card-title"},"分组列表",-1)),N("div",I0,[T(P(tc),{show:n.value},{default:F(()=>[h.value.length?(X(),ie("div",j0,[(X(!0),ie(Te,null,Ge(h.value,r=>(X(),ie("div",{key:r.id,class:"sort-item"},[N("div",B0,[N("div",D0,[N("div",z0,de(r.name),1),T(P(nr),{size:"small",type:"info",bordered:!1,style:{"margin-left":"10px"}},{default:F(()=>[ye(de(r.count),1)]),_:2},1024)]),N("div",F0,de(r.description),1)]),N("div",q0,[T(P(at),{size:"small"},{default:F(()=>[r.bound?(X(),_e(P(Re),{key:1,size:"small",type:"warning",tertiary:"",onClick:w=>d(r)},{default:F(()=>b[5]||(b[5]=[ye("取消绑定")])),_:2},1032,["onClick"])):(X(),_e(P(Re),{key:0,size:"small",tertiary:"",onClick:w=>u(r)},{default:F(()=>b[4]||(b[4]=[ye("选择")])),_:2},1032,["onClick"])),T(P(Wn),{onPositiveClick:w=>v(r.id),"positive-text":"确定","negative-text":"取消"},{default:F(()=>b[6]||(b[6]=[ye("确定删除该分组？")])),trigger:F(()=>[T(P(Re),{size:"small",type:"error"},{default:F(()=>b[7]||(b[7]=[ye("删除")])),_:1})]),_:2},1032,["onPositiveClick"])]),_:2},1024)])]))),128))])):(X(),ie("div",$0,[T(P(Ai),{description:"暂无分组"})]))]),_:1},8,["show"])])])])])]),_:1}),T(P(it),{span:"8 m:8 l:3"},{default:F(()=>[N("div",U0,[N("div",H0,[N("div",V0,[b[10]||(b[10]=N("div",{class:"page-main-card-title"},"新增分组",-1)),T(P(Ut),{ref_key:"formRef",ref:l,model:o.value,rules:s,size:"small"},{default:F(()=>[T(P(Ve),{path:"name",label:"分组名称"},{default:F(()=>[T(P(Je),{value:o.value.name,"onUpdate:value":b[0]||(b[0]=r=>o.value.name=r),size:"medium",clearable:"",placeholder:"分组名称"},null,8,["value"])]),_:1}),T(P(Ve),{path:"description",label:"分组描述"},{default:F(()=>[T(P(Je),{value:o.value.description,"onUpdate:value":b[1]||(b[1]=r=>o.value.description=r),size:"medium",clearable:"",placeholder:"分组描述"},null,8,["value"])]),_:1}),T(P(Ve),{path:"sort",label:"排序"},{default:F(()=>[T(P(Je),{value:o.value.sort,"onUpdate:value":b[2]||(b[2]=r=>o.value.sort=r),size:"medium",clearable:"",placeholder:"排序（越小越靠前）"},null,8,["value"])]),_:1}),T(P(at),null,{default:F(()=>[T(P(Re),{size:"medium",type:"primary",loading:n.value,onClick:f},{default:F(()=>b[9]||(b[9]=[ye("创建分组")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])])])]),_:1})]),_:1})]),_:1},8,["show","title"])}}});const G0=rt(W0,[["__scopeId","data-v-1bda8bd5"]]),K0={class:"el-container is-vertical height100"},Z0={class:"el-header header-tools"},Y0={class:"el-header header-top"},X0=["onClick"],J0={class:"icon-mark robot"},Q0={class:"icon-mark group"},eb={class:"text"},tb={class:"header-badge-left"},nb={style:{"margin-left":"3px"}},ib={style:{"margin-left":"3px"}},rb={class:"el-main me-scrollbar me-scrollbar-thumb"},ob={class:"me-scrollbar-container"},ab={class:"el-main me-scrollbar me-scrollbar-thumb assistant-container"},lb={id:"talk-session-list",class:"el-main me-scrollbar me-scrollbar-thumb page-scrollbar"},sb=we({__name:"IndexSider",setup(e){const{dropdown:a,onContextMenuTalkHandle:i,onContextMenu:t,onCloseContextMenu:n,onToTopTalk:h}=fh(),o=te(!1),l=te(!1),s=te(),p=te(),f=Nt(),v=mn(),u=te(!1),d=te(!1),_=te(""),b=te(0),g=fe(()=>v.topItems),y=fe(()=>v.headItems),c=fe(()=>v.talkUnreadNum);ct({msgid:"",num:0});const m=Eo(),r=$=>{const U=document.getElementById($);if(!U){const G=document.getElementById("imChatPanel");return G==null?void 0:G.scrollTo({top:0,behavior:"smooth"})}U==null||U.scrollIntoView({behavior:"smooth"}),Cl(U,"border"),setTimeout(()=>{U&&Sl(U,"border")},3e3)},w=fe(()=>{if(_.value.length===0)switch(b.value){case 0:return v.talkItems;case 1:return v.talkTodayItems;case 2:return v.talkUnreadItems;case 3:return v.talkNoProgressItems;case 4:return v.caseClosedItems;case 5:return v.caseSortItems;case 6:return v.caseSuperviseItems;default:return v.talkProgressItems}return b.value===1?v.talkTodayItems.filter($=>($.remark||$.title||$.name).toLowerCase().indexOf(_.value.toLowerCase())!=-1):b.value===2?v.talkUnreadItems.filter($=>($.remark||$.title||$.name).toLowerCase().indexOf(_.value.toLowerCase())!=-1):b.value===3?v.talkNoProgressItems.filter($=>($.remark||$.title||$.name).toLowerCase().indexOf(_.value.toLowerCase())!=-1):b.value===4?v.caseClosedItems.filter($=>($.remark||$.title||$.name).toLowerCase().indexOf(_.value.toLowerCase())!=-1):v.talkItems.filter($=>($.remark||$.title||$.name).toLowerCase().indexOf(_.value.toLowerCase())!=-1)}),O=fe(()=>v.loadStatus),C=fe(()=>f.index_name),L=te(0),A=te([]),S=async()=>{const $=await Ha();$.code===200&&(A.value=$.data.options)},k=($,U=!1)=>{if(console.log("item: ",$),$.index_name!==C.value&&(_.value="",f.setDialogue($),$.unread_num>0&&sc({talk_type:$.talk_type,receiver_id:$.receiver_id}).then(()=>{v.updateItem({index_name:$.index_name,unread_num:0})}),U)){const G=document.getElementById("talk-session-list");if(G){let j=v.findTalkIndex($.index_name);G.scrollTo({top:j*66+j*5,behavior:"smooth"})}}},E=()=>{v.loadTalkList()},R=()=>{let $=uc();$&&k(v.findItem($),!0)},B=($=null)=>{$?s.value=$:s.value=null,o.value=!0},q=$=>{b.value=$,$===0&&(L.value=0)},K=()=>{const $=document.getElementById("talk-session-list");$&&$.scrollTo({top:0,behavior:"smooth"})},W=()=>{d.value=!1},Q=($,U)=>{$&&k($,!0),U&&(v.onMid(U),setTimeout(()=>{r(U)},2e3))},H=async()=>{(await cc()).code==200&&window.setTimeout(()=>{E()},500)},z=async()=>{(await dc()).code==200&&window.setTimeout(()=>{E()},500)},M=async()=>{(await fc()).code==200&&window.setTimeout(()=>{E()},500)},I=async $=>{await v.setProgressId($),b.value=-1};return lc(R),wt(()=>{R(),S(),Mi.subscribe("group:manage:show",$=>{B($)}),Mi.subscribe("follow:show",$=>{console.log("userData: ",$),p.value=$,l.value=!0})}),($,U)=>{const G=Ne("n-button"),j=Ne("im-avatar"),J=Ne("n-space");return X(),ie(Te,null,[T(P(Co),{class:"dropdown-menus",show:P(a).show,x:P(a).x,y:P(a).y,options:P(a).options,onSelect:P(i),onClickoutside:P(n)},null,8,["show","x","y","options","onSelect","onClickoutside"]),N("section",K0,[N("header",Z0,[T(P(Je),{placeholder:"搜索好友 / 群聊",value:_.value,"onUpdate:value":U[0]||(U[0]=Y=>_.value=Y),valueModifiers:{trim:!0},round:"",clearable:"",style:{width:"78%"}},{prefix:F(()=>[T(P(dr),{component:P(Ka)},null,8,["component"])]),_:1},8,["value"]),T(G,{circle:"",onClick:U[1]||(U[1]=Y=>d.value=!0)},{icon:F(()=>[T(P(dr),{component:P(kl)},null,8,["component"])]),_:1})]),De(N("header",Y0,[(X(!0),ie(Te,null,Ge(g.value,Y=>(X(),_e(P(wr),{key:Y.index_name,placement:"bottom",trigger:"hover"},{trigger:F(()=>[N("div",{class:bt(["top-item pointer",{active:Y.index_name==C.value}]),onClick:ee=>k(Y,!0)},[Y.unread_num>0?(X(),_e(P(fo),{key:0,dot:"",processing:""},{default:F(()=>[T(j,{src:Y.avatar,size:34,username:Y.name},null,8,["src","username"])]),_:2},1024)):(X(),_e(P(fo),{key:1},{default:F(()=>[T(j,{src:Y.avatar,size:34,username:Y.name},null,8,["src","username"])]),_:2},1024)),De(N("span",J0," 助 ",512),[[je,Y.is_robot==1]]),De(N("span",Q0," 群 ",512),[[je,Y.talk_type==2&&Y.is_robot==0]]),N("span",eb,de(Y.remark||Y.title||Y.name),1)],10,X0)]),default:F(()=>[N("span",null,de(Y.remark||Y.title||Y.name),1)]),_:2},1024))),128))],512),[[je,O.value==3&&g.value.length>0]]),N("div",null,[De(N("header",{class:bt(["el-header header-badge",{shadow:!1}])},[N("div",tb,[T(J,{size:5},{default:F(()=>[T(P(ll),{value:L.value,"onUpdate:value":[U[3]||(U[3]=Y=>L.value=Y),I],options:A.value},{default:F(()=>[T(G,{strong:"",secondary:"",round:"",type:b.value===0?"info":"default",size:"tiny",onClick:U[2]||(U[2]=Y=>q(0))},{default:F(()=>[ye(" 全部 "+de(P(v).talkItems.length),1)]),_:1},8,["type"])]),_:1},8,["value","options"]),T(G,{strong:"",secondary:"",round:"",type:b.value===1?"info":"default",size:"tiny",onClick:U[4]||(U[4]=Y=>q(1))},{default:F(()=>[ye("今日 "+de(P(v).talkTodayItems.length),1)]),_:1},8,["type"]),T(G,{strong:"",secondary:"",round:"",type:b.value===2?"info":"default",size:"tiny",onClick:U[5]||(U[5]=Y=>c.value>0&&q(2))},{default:F(()=>[ye("未读 "+de(P(v).talkUnreadItems.length),1)]),_:1},8,["type"]),T(G,{strong:"",secondary:"",round:"",type:b.value===3?"info":"default",size:"tiny",onClick:U[6]||(U[6]=Y=>q(3))},{default:F(()=>[ye("未标 "+de(P(v).talkNoProgressItems.length),1)]),_:1},8,["type"]),T(G,{strong:"",secondary:"",round:"",type:b.value===6?"info":"default",size:"tiny",onClick:U[7]||(U[7]=Y=>q(6))},{default:F(()=>[U[15]||(U[15]=N("span",null,"督查",-1)),N("span",nb,de(P(v).caseSuperviseItems.length),1),T(P(Wn),{onPositiveClick:z},{trigger:F(()=>U[13]||(U[13]=[N("div",{class:"delete-all"},[N("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},[N("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448s448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372s372 166.6 372 372s-166.6 372-372 372z","fill-opacity":".8",fill:"currentColor"}),N("path",{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372s372-166.6 372-372s-166.6-372-372-372zm171.8 527.1c1.2 1.5 1.9 3.3 1.9 5.2c0 4.5-3.6 8-8 8l-66-.3l-99.3-118.4l-99.3 118.5l-66.1.3c-4.4 0-8-3.6-8-8c0-1.9.7-3.7 1.9-5.2L471 512.3l-130.1-155a8.32 8.32 0 0 1-1.9-5.2c0-4.5 3.6-8 8-8l66.1.3l99.3 118.4l99.4-118.5l66-.3c4.4 0 8 3.6 8 8c0 1.9-.6 3.8-1.8 5.2l-130.1 155l129.9 154.9z","fill-opacity":".1",fill:"currentColor"}),N("path",{d:"M685.8 352c0-4.4-3.6-8-8-8l-66 .3l-99.4 118.5l-99.3-118.4l-66.1-.3c-4.4 0-8 3.5-8 8c0 1.9.7 3.7 1.9 5.2l130.1 155l-130.1 154.9a8.32 8.32 0 0 0-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3l99.3-118.5L611.7 680l66 .3c4.4 0 8-3.5 8-8c0-1.9-.7-3.7-1.9-5.2L553.9 512.2l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z","fill-opacity":".8",fill:"currentColor"})])],-1)])),default:F(()=>[U[14]||(U[14]=ye(" 确认要清理所有转督查的群会话吗？ "))]),_:1})]),_:1},8,["type"]),T(G,{strong:"",secondary:"",round:"",type:b.value===4?"info":"default",size:"tiny",onClick:U[8]||(U[8]=Y=>q(4))},{default:F(()=>[U[18]||(U[18]=N("span",null,"结案",-1)),N("span",ib,de(P(v).caseClosedItems.length),1),T(P(Wn),{onPositiveClick:H},{trigger:F(()=>U[16]||(U[16]=[N("div",{class:"delete-all"},[N("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},[N("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448s448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372s372 166.6 372 372s-166.6 372-372 372z","fill-opacity":".8",fill:"currentColor"}),N("path",{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372s372-166.6 372-372s-166.6-372-372-372zm171.8 527.1c1.2 1.5 1.9 3.3 1.9 5.2c0 4.5-3.6 8-8 8l-66-.3l-99.3-118.4l-99.3 118.5l-66.1.3c-4.4 0-8-3.6-8-8c0-1.9.7-3.7 1.9-5.2L471 512.3l-130.1-155a8.32 8.32 0 0 1-1.9-5.2c0-4.5 3.6-8 8-8l66.1.3l99.3 118.4l99.4-118.5l66-.3c4.4 0 8 3.6 8 8c0 1.9-.6 3.8-1.8 5.2l-130.1 155l129.9 154.9z","fill-opacity":".1",fill:"currentColor"}),N("path",{d:"M685.8 352c0-4.4-3.6-8-8-8l-66 .3l-99.4 118.5l-99.3-118.4l-66.1-.3c-4.4 0-8 3.5-8 8c0 1.9.7 3.7 1.9 5.2l130.1 155l-130.1 154.9a8.32 8.32 0 0 0-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3l99.3-118.5L611.7 680l66 .3c4.4 0 8-3.5 8-8c0-1.9-.7-3.7-1.9-5.2L553.9 512.2l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z","fill-opacity":".8",fill:"currentColor"})])],-1)])),default:F(()=>[U[17]||(U[17]=ye(" 确认要清理所有已结案的群会话吗？ "))]),_:1})]),_:1},8,["type"])]),_:1}),T(P(Wn),{onPositiveClick:M},{trigger:F(()=>[De(N("div",{class:"badge unread"},de(c.value)+"未读",513),[[je,c.value]])]),default:F(()=>[U[19]||(U[19]=ye(" 确认要清理所有未读消息吗？ "))]),_:1})])],512),[[je,O.value==3&&P(v).talkItems.length>0]]),N("main",rb,[O.value==2?(X(),_e(ro,{key:0})):(X(),ie(Te,{key:1},[P(m).roles.includes("director")||P(m).roles.includes("ajjd")?(X(),ie("div",{key:0,class:"back-sort",onClick:U[9]||(U[9]=Y=>q(5))},U[20]||(U[20]=[N("svg",{width:"20",height:"20",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[N("path",{d:"M24 44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4C12.9543 4 4 12.9543 4 24C4 35.0457 12.9543 44 24 44Z",fill:"#ddd",stroke:"#ddd","stroke-width":"4","stroke-linejoin":"round"}),N("path",{d:"M20 20L24 16L28 20",stroke:"#FFF","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"}),N("path",{d:"M20 28L24 32L28 28",stroke:"#FFF","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))):Me("",!0),N("div",{class:"back-top",onClick:K},U[21]||(U[21]=[N("svg",{width:"20",height:"20",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[N("path",{d:"M24 44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4C12.9543 4 4 12.9543 4 24C4 35.0457 12.9543 44 24 44Z",fill:"#ddd",stroke:"#ddd","stroke-width":"4","stroke-linejoin":"round"}),N("path",{d:"M24 33.5V15.5",stroke:"#FFF","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"}),N("path",{d:"M33 24.5L24 15.5L15 24.5",stroke:"#FFF","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))],64))])]),N("div",ob,[N("main",ab,[O.value==2?(X(),_e(ro,{key:0})):(X(!0),ie(Te,{key:1},Ge(y.value,Y=>(X(),_e(Ea,{key:Y.index_name,data:Y,avatar:Y.avatar,username:Y.remark||Y.title||Y.name,active:Y.index_name==C.value,onTabTalk:k,onTopTalk:P(h),onContextmenu:Zn(ee=>P(t)(ee,Y),["prevent"])},null,8,["data","avatar","username","active","onTopTalk","onContextmenu"]))),128))])]),N("main",lb,[O.value==2?(X(),_e(ro,{key:0})):(X(!0),ie(Te,{key:1},Ge(w.value,Y=>(X(),_e(Ea,{key:Y.index_name,data:Y,avatar:Y.avatar,username:Y.remark||Y.title||Y.name,active:Y.index_name==C.value,"show-total":P(m).roles.includes("director")||P(m).roles.includes("ajjd"),onTabTalk:k,onTopTalk:P(h),onContextmenu:Zn(ee=>P(t)(ee,Y),["prevent"])},null,8,["data","avatar","username","active","show-total","onTopTalk","onContextmenu"]))),128))])]),u.value?(X(),_e(Nc,{key:0,onClose:U[10]||(U[10]=Y=>u.value=!1),onOnSubmit:E})):Me("",!0),d.value?(X(),_e(_0,{key:1,"talk-type":2,"receiver-id":23,onClose:W,onLocate:Q})):Me("",!0),T(G0,{show:P(v).isShowGroupModal,"onUpdate:show":U[11]||(U[11]=Y=>P(v).isShowGroupModal=Y)},null,8,["show"]),T(P0,{visible:l.value,"onUpdate:visible":U[12]||(U[12]=Y=>l.value=Y),item:p.value},null,8,["visible","item"])],64)}}});const ub=rt(sb,[["__scopeId","data-v-6a279fd5"]]),cb="/assets/welcome-8d65a814.svg";const db={},fb={class:"amicable flex-center"};function hb(e,a){return X(),ie("div",fb,a[0]||(a[0]=[N("div",{class:"content"},[N("img",{src:cb,alt:""}),N("p",null,"欢迎您回到悦诉律服管理系统 (*^__^*)")],-1)]))}const vb=rt(db,[["render",hb],["__scopeId","data-v-c4f3df35"]]),pb={class:"el-container"},mb={class:"el-aside bdr-r session-list"},gb={class:"el-main"},Kb=we({__name:"index",setup(e){const a=Nt(),i=fe(()=>a.index_name);return kr(()=>{a.$reset()}),(t,n)=>{const h=Oo("dropsize");return X(),ie("section",pb,[De((X(),ie("aside",mb,[T(ub)])),[[je,P(a).isShowSessionList],[h,{min:200,max:500,direction:"right",key:"session-list"}]]),N("main",gb,[(X(),_e(Li(i.value?s1:vb)))])])}}});export{Kb as default};
